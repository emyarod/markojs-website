!function(){function r(r,n){var t=new Error('Cannot find module "'+r+'"'+(n?' from "'+n+'"':""));return t.code="MODULE_NOT_FOUND",t}function n(r){this.id=this.filename=r,this.loaded=!1,this.exports=void 0}function t(r,n,t){var i=t&&t.globals;if(O[r]=n,i)for(var e=b||global,o=0;o<i.length;o++){var a=i[o],u=E[r]=d(r);e[a]=u.exports}}function i(r,n){$[r]=n}function e(r,n){j[r]=n}function o(r,n){M[r]=n}function a(r,n,t){I[r+"/"+n]=t}function u(r){var n,t=0,i=r.length;for(n=0;n<i;n++){var e=r[n];"."===e||(".."===e?t--:(r[t]=e,t++))}return 1===t?"/":(t>2&&0===r[t-1].length&&t--,r.length=t,r.join("/"))}function f(r,n){var t=n.split("/"),i="/"==r?[""]:r.split("/");return u(i.concat(t))}function s(r){var n,t=r.lastIndexOf(".");return t===-1||(n=r.lastIndexOf("/"))!==-1&&n>t?null:r.substring(0,t)}function v(r){r=r.substring(1);var n=r.indexOf("/");"@"===r.charAt(1)&&(n=r.indexOf("/",n+1));var t=n===-1?r.length:n;return[r.substring(0,t),r.substring(t)]}function l(r,n){"/"===r.charAt(r.length-1)&&(r=r.slice(0,-1));var t=M[r];if(t)return t;var i,e,o=v(n),a=o[0],u=r.indexOf("/");u<0?(i=r,e=""):("@"===r.charAt(0)&&(u=r.indexOf("/",u+1)),i=r.substring(0,u),e=r.substring(u));var f=I[a+"/"+i];if(f){var s="/"+i+"$"+f;return e&&(s+=e),s}}function c(r,n){var t;if("."===r.charAt(0))t=f(n,r);else if("/"===r.charAt(0))t=u(r.split("/"));else{for(var i=m.length,e=0;e<i;e++){var o=m[e]+r,a=c(o,n);if(a)return a}t=l(r,n)}if(t){var v;void 0!==(v=$[t])&&(v||(v="index"),t=f(t,v));var d=j[t];d&&(t=d);var h=O[t];if(void 0===h){var g;if(null===(g=s(t))||void 0===(h=O[g]))return;t=g}return[t,h]}}function d(t,i){if(!t)throw r("");var e=c(t,i);if(!e)throw r(t,i);var o=e[0],a=y[o];if(void 0!==a)return a;if(E.hasOwnProperty(o))return E[o];var u=e[1];return a=new n(o),y[o]=a,a.load(u),a}function h(r,n){var t=d(r,n);return t.exports}function g(r,n){var t=!n||n.wait!==!1;return t&&!_?A.push([r,n]):void h(r,"/")}function p(){_=!0;for(var r;r=A.length;){var n=A;A=[];for(var t=0;t<r;t++){var i=n[t];g(i[0],i[1])}if(!_)break}}function x(r){m.push(r)}var b;if("undefined"!=typeof window){if(b=window,b.$_mod)return;b.global=b}var w,O={},m=[],_=!1,A=[],y={},I={},M={},$={},j={},D={},E={};n.cache=y;var F=n.prototype;F.load=function(n){var t=this.id;if(n&&n.constructor===Function){var i=t.lastIndexOf("/"),e=t.substring(0,i),o=D[e]||(D[e]={}),a=function(r){var n=o[r]||(o[r]=d(r,e));return n.exports};a.resolve=function(n){if(!n)throw r("");var t=c(n,e);if(!t)throw r(n,e);return t[0]},a.cache=y,a.runtime=w,this.exports={},n.call(this,a,this.exports,this,t,e)}else this.exports=n;this.loaded=!0};var N=0,P=function(){N--,N||p()};F.__runtime=w={def:t,installed:a,run:g,main:i,remap:e,builtin:o,require:h,resolve:c,join:f,ready:p,searchPath:x,loaderMetadata:function(r){F.__loaderMetadata=r},pending:function(){return _=!1,N++,{done:P}}},b?b.$_mod=w:module.exports=w}();
$_mod.remap("/marko$4.0.0-rc.12/widgets/index","/marko$4.0.0-rc.12/widgets/index-browser");
$_mod.remap("/marko$4.0.0-rc.12/widgets/init-widgets","/marko$4.0.0-rc.12/widgets/init-widgets-browser");
$_mod.installed("marko$4.0.0-rc.12","warp10","1.3.3");
$_mod.def("/warp10$1.3.3/src/finalize",function(r,n,e,t,a){function f(r,n,e){for(var t=r,a=0;a<e;a++)t=t[n[a]];return t}function i(r){if("Date"===r.type)return new Date(r.value);throw new Error("Bad type")}var o=Array.isArray;e.exports=function(r){if(!r)return r;var n=r.$$;if(n){var e,t=r.o;if(n&&(e=n.length))for(var a=0;a<e;a++){var u,l=n[a],v=l.r;u=o(v)?f(t,v,v.length):i(v);var c=l.l,h=c.length-1;if(h===-1){t=r.o=u;break}var g=f(t,c,h);g[c[h]]=u}return n.length=0,null==t?null:t}return r}});
$_mod.def("/warp10$1.3.3/finalize",function(i,a,e,f,n){e.exports=i("/warp10$1.3.3/src/finalize")});
$_mod.remap("/marko$4.0.0-rc.12/widgets/util","/marko$4.0.0-rc.12/widgets/util-browser");
$_mod.def("/marko$4.0.0-rc.12/widgets/util-browser",function(e,t,r,o,n){function i(e,t){if(e){var r="string"==typeof e?(t||c).getElementById(e):e;if(r){for(var o=r._w;o;){var n=o.$__rootFor;if(!n)break;o=n}return o}}}function _(e,t,r){var o=e[$[t]];o&&o.call(e,r),e.emit(t,r)}function d(e){var t=e._w;if(t)for(t.$__destroyShallow(),e._w=null;t=t.$__rootFor;)t.$__rootFor=null,t.$__destroyShallow()}function f(e){for(var t=e.firstChild;t;)1==t.nodeType&&(d(t),f(t)),t=t.nextSibling}function l(){return"wc"+s++}function u(e,t){return e.getElementById(t)}var a={},c=document,$={};["create","render","update","mount","destroy"].forEach(function(e){$[e]="on"+e[0].toUpperCase()+e.substring(1)});var s=0;t.$__widgetLookup=a,t.$__getWidgetForEl=i,t.$__emitLifecycleEvent=_,t.$__destroyWidgetForEl=d,t.$__destroyElRecursive=f,t.$__nextWidgetId=l,t.$__getElementById=u});
$_mod.def("/warp10$1.3.3/src/parse",function(r,a,e,i,n){var f=r("/warp10$1.3.3/src/finalize");e.exports=function(r){if(void 0!==r){var a=JSON.parse(r);return f(a)}}});
$_mod.def("/warp10$1.3.3/parse",function(r,p,a,e,s){a.exports=r("/warp10$1.3.3/src/parse")});
$_mod.def("/marko$4.0.0-rc.12/widgets/bubble",function(e,d,r,s,o){r.exports=["click","dblclick","mousedown","mouseup","dragstart","drag","drop","dragend","keydown","keypress","keyup","select","change","submit","reset","input"]});
$_mod.def("/marko$4.0.0-rc.12/widgets/event-delegation",function(t,r,o,a,n){function e(t,r){var o=t._vattrs;if(o)return t._vattrs[r];var a=t.getAttribute(r);return a?f(a):void 0}function i(r){var o=r.body;t("/marko$4.0.0-rc.12/widgets/bubble").forEach(function(t){o.addEventListener(t,function(r){var o=!1,a=r.stopPropagation;r.stopPropagation=function(){a.call(r),o=!0};var n=r.target;if(n){var i,c="data-_on"+t;do if(i=e(n,c)){var f,u=i[0],v=i[1];i.length>2&&(f=i.slice(2));var g=d[v];if(!g)continue;var l=g[u];if(!l)throw Error("Method not found: "+u);if(f?l.apply(g,f.concat(r,n)):l.call(g,r,n),o)break}while((n=n.parentNode)&&n.getAttribute)}})})}var c,d=t("/marko$4.0.0-rc.12/widgets/util-browser").$__widgetLookup,f=t("/warp10$1.3.3/parse");r.$__init=function(t){c||(c=!0,i(t))}});
$_mod.installed("marko$4.0.0-rc.12","events-light","1.0.5");
$_mod.main("/events-light$1.0.5","src/index");
$_mod.def("/events-light$1.0.5/src/index",function(e,t,r,n,i){function o(e){return"function"==typeof e}function s(e){if(!o(e))throw TypeError("Invalid listener")}function l(e,t,r){switch(r.length){case 1:t.call(e);break;case 2:t.call(e,r[1]);break;case 3:t.call(e,r[1],r[2]);break;default:t.apply(e,u.call(r,1))}}function c(e,t,r,n){s(r);var i=e.$e||(e.$e={}),l=i[t];return l?o(l)?i[t]=n?[r,l]:[l,r]:n?l.unshift(r):l.push(r):i[t]=r,e}function f(){this.$e=this.$e||{}}var u=Array.prototype.slice;f.EventEmitter=f,f.prototype={$e:null,emit:function(e){var t=arguments,r=this.$e;if(r){var n=r&&r[e];if(!n){if("error"===e){var i=t[1];if(!(i instanceof Error)){var s=i;i=new Error("Error: "+s),i.context=s}throw i}return!1}if(o(n))l(this,n,t);else{n=u.call(n);for(var c=0,f=n.length;c<f;c++){var a=n[c];l(this,a,t)}}return!0}},on:function(e,t){return c(this,e,t,!1)},prependListener:function(e,t){return c(this,e,t,!0)},once:function(e,t){function r(){this.removeListener(e,r),t&&(t.apply(this,arguments),t=null)}return s(t),this.on(e,r),this},removeListener:function(e,t){s(t);var r,n=this.$e;if(n&&(r=n[e]))if(o(r))r===t&&delete n[e];else for(var i=r.length-1;i>=0;i--)r[i]===t&&r.splice(i,1);return this},removeAllListeners:function(e){var t=this.$e;t&&delete t[e]},listenerCount:function(e){var t=this.$e,r=t&&t[e];return r?o(r)?1:r.length:0}},r.exports=f});
$_mod.def("/marko$4.0.0-rc.12/runtime/events",function(e,n,r,t,i){var o=e("/events-light$1.0.5/src/index");r.exports=new o});
$_mod.def("/marko$4.0.0-rc.12/widgets/nextRepeatedId",function(e,r,l,n,o){var t="$rep";l.exports=function(e,r,l){var n=e.global[t]||(e.global[t]={}),o=r+"-"+l,a=n[o];return a=null==a?n[o]=0:++n[o],o.slice(0,-2)+"["+a+"]"}});
$_mod.installed("marko$4.0.0-rc.12","raptor-util","3.1.0");
$_mod.def("/raptor-util$3.1.0/extend",function(r,n,t,o,e){t.exports=function(r,n){if(r||(r={}),n)for(var t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r}});
$_mod.remap("/marko$4.0.0-rc.12/widgets/registry","/marko$4.0.0-rc.12/widgets/registry-browser");
$_mod.remap("/marko$4.0.0-rc.12/widgets/loadWidget","/marko$4.0.0-rc.12/widgets/loadWidget-dynamic");
$_mod.def("/marko$4.0.0-rc.12/widgets/loadWidget-dynamic",function(t,d,e,i,n){"use strict";e.exports=function(d){return t(d)}});
$_mod.def("/marko$4.0.0-rc.12/widgets/State",function(t,_,i,e,r){function n(t,_){var i=t.constructor.prototype;_ in i||Object.defineProperty(i,_,{get:function(){return this.$__raw[_]},set:function(t){this.$__set(_,t,!1)}})}function s(t,_){if(this.$__widget=t,this.$__raw=_||{},this.$__dirty=!1,this.$__old=null,this.$__changes=null,this.$__forced=null,_)for(var i in _)n(this,i);Object.seal(this)}var o=t("/raptor-util$3.1.0/extend");s.prototype={$__reset:function(){var t=this;t.$__dirty=!1,t.$__old=null,t.$__changes=null,t.$__forced=null},$__replace:function(t){var _,i=this,e=this.$__raw;for(_ in e)_ in t||i.$__set(_,void 0,!1,!1);for(_ in t)i.$__set(_,t[_],!0,!1)},$__set:function(t,_,i,e){var r=this.$__raw;if(i&&n(this,t),null===_&&(_=void 0),e){var s=this.$__forced||(this.$__forced={});s[t]=!0}else if(r[t]===_)return;this.$__dirty||(this.$__dirty=!0,this.$__old=r,this.$__raw=r=o({},r),this.$__changes={},this.$__widget.$__queueUpdate()),this.$__changes[t]=_,null==_?delete r[t]:r[t]=_},toJSON:function(){return this.$__raw}},i.exports=s});
$_mod.def("/marko$4.0.0-rc.12/runtime/dom-insert",function(r,e,t,n,i){function o(r){if("string"==typeof r){var e=r;if(r=document.getElementById(e),!r)throw Error("Not found: "+e)}return r}function d(r){a(r),u(r)}var s=r("/raptor-util$3.1.0/extend"),f=r("/marko$4.0.0-rc.12/widgets/util-browser"),u=f.$__destroyWidgetForEl,a=f.$__destroyElRecursive;t.exports=function(r,e,t){s(r,{appendTo:function(r){r=o(r);var n=e(this,r);return r.appendChild(n),t(this,r)},prependTo:function(r){r=o(r);var n=e(this,r);return r.insertBefore(n,r.firstChild||null),t(this,r)},replace:function(r){r=o(r);var n=e(this,r);return d(r),r.parentNode.replaceChild(n,r),t(this,r)},replaceChildrenOf:function(r){r=o(r);for(var n=e(this,r),i=r.firstChild;i;){var s=i.nextSibling;1===i.nodeType&&d(i),i=s}return r.innerHTML="",r.appendChild(n),t(this,r)},insertBefore:function(r){r=o(r);var n=e(this,r);return r.parentNode.insertBefore(n,r),t(this,r)},insertAfter:function(r){r=o(r);var n=e(this,r);n=n;var i=r.nextSibling,d=r.parentNode;return i?d.insertBefore(n,i):d.appendChild(n),t(this,r)}})}});
$_mod.main("/marko$4.0.0-rc.12","runtime/index");
$_mod.remap("/marko$4.0.0-rc.12/runtime/env-init",!1);
$_mod.def("/marko$4.0.0-rc.12/runtime/createOut",function(t,e,r,n,u){function o(t){a=t}function c(t){return a(t)}var a;c.$__setCreateOut=o,r.exports=c});
$_mod.main("/marko$4.0.0-rc.12/runtime/loader","");
$_mod.remap("/marko$4.0.0-rc.12/runtime/loader/index","/marko$4.0.0-rc.12/runtime/loader/index-browser");
$_mod.remap("/marko$4.0.0-rc.12/runtime/loader/index-browser","/marko$4.0.0-rc.12/runtime/loader/index-browser-dynamic");
$_mod.def("/marko$4.0.0-rc.12/runtime/loader/index-browser-dynamic",function(r,e,n,o,t){"use strict";n.exports=function(e){return r(e)}});
$_mod.def("/marko$4.0.0-rc.12/runtime/index",function(e,r,t,n,m){"use strict";r.createOut=e("/marko$4.0.0-rc.12/runtime/createOut"),r.load=e("/marko$4.0.0-rc.12/runtime/loader/index-browser-dynamic"),r.events=e("/marko$4.0.0-rc.12/runtime/events")});
$_mod.def("/marko$4.0.0-rc.12/runtime/RenderResult",function(t,e,n,r,i){function o(t,e){if(!t.$__widgets)throw Error("Not added to DOM")}function u(t){var e=t.$__widgets;if(0===e.length)throw Error("No widget");return e}function _(t){this.out=this.$__out=t,this.$__widgets=null}var g=t("/marko$4.0.0-rc.12/runtime/dom-insert");n.exports=_;var s=_.prototype={getWidget:function(){o(this,"getWidget");var t=this.$__out.global.$w,e=t&&t[0];return e?e:u(this)[0].$__widget},getWidgets:function(t){o(this,"getWidgets");var e,n=u(this),r=[];for(e=0;e<n.length;e++){var i=n[e].$__widget;t&&!t(i)||r.push(i)}return r},afterInsert:function(t){var e=this.$__out,n=e.global.widgets;return n&&(this.$__widgets=n.$__widgets,n.$__initWidgets(t)),this},getNode:function(t){return this.$__out.$__getNode(t)},getOutput:function(){return this.$__out.$__getOutput()},toString:function(){return this.$__out.toString()},toJSON:function(){return this.$__out.$__getOutput()},document:"undefined"!=typeof document&&document};g(s,function(t,e){return t.getNode(e.ownerDocument)},function(t,e){return t.afterInsert(e.ownerDocument)})});
$_mod.installed("marko$4.0.0-rc.12","listener-tracker","2.0.0");
$_mod.main("/listener-tracker$2.0.0","lib/listener-tracker");
$_mod.def("/listener-tracker$2.0.0/lib/listener-tracker",function(e,t,r,n,i){function s(e){return!e.once}function o(e){this.$__target=e,this.$__listeners=[],this.$__subscribeTo=null}function _(e){this.$__target=e}function u(){this.$__subscribeToList=[]}var h=0,c=1,l=2,f="destroy";o.prototype={$__remove:function(e,t){var r=this.$__target,n=this.$__listeners;this.$__listeners=n.filter(function(n){var i=n[h],s=n[c],o=n[l];if(t){if(o&&e(i,o))return r.removeListener(i,o),!1}else if(e(i,s))return r.removeListener(i,o||s),!1;return!0});var i=this.$__subscribeTo;if(!this.$__listeners.length&&i){var s=this,o=i.$__subscribeToList;i.$__subscribeToList=o.filter(function(e){return e!==s})}},on:function(e,t){return this.$__target.on(e,t),this.$__listeners.push([e,t]),this},once:function(e,t){var r=this,n=function(){r.$__remove(function(e,t){return n===t},!0),t.apply(this,arguments)};return this.$__target.once(e,n),this.$__listeners.push([e,t,n]),this},removeListener:function(e,t){return"function"==typeof e&&(t=e,e=null),t&&e?this.$__remove(function(r,n){return e===r&&t===n}):t?this.$__remove(function(e,r){return t===r}):e&&this.removeAllListeners(e),this},removeAllListeners:function(e){var t=this.$__listeners,r=this.$__target;if(e)this.$__remove(function(t,r){return e===t});else{for(var n=t.length-1;n>=0;n--){var i=t[n];r.removeListener(i[h],i[c])}this.$__listeners.length=0}return this}},_.prototype={on:function(e,t){return this.$__target.addEventListener(e,t),this},once:function(e,t){var r=this,n=function(){r.$__target.removeEventListener(e,n),t()};return this.$__target.addEventListener(e,n),this},removeListener:function(e,t){return this.$__target.removeEventListener(e,t),this}},u.prototype={subscribeTo:function(e,t){for(var r,n,i=!t||t.addDestroyListener!==!1,u=this.$__subscribeToList,h=0,c=u.length;h<c;h++){var l=u[h];if(l.$__target===e){r=l;break}}return r||(s(e)&&(n=new _(e)),r=new o(n||e),i&&!n&&r.once(f,function(){r.removeAllListeners();for(var t=u.length-1;t>=0;t--)if(u[t].$__target===e){u.splice(t,1);break}}),r.$__subscribeTo=this,u.push(r)),r},removeAllListeners:function(e,t){var r,n=this.$__subscribeToList;if(e)for(r=n.length-1;r>=0;r--){var i=n[r];if(i.$__target===e){i.removeAllListeners(t),i.$__listeners.length||n.splice(r,1);break}}else{for(r=n.length-1;r>=0;r--)n[r].removeAllListeners();n.length=0}}},t=r.exports=u,t.wrap=function(e){var t,r;return s(e)&&(t=new _(e)),r=new o(t||e),t||e.once(f,function(){r.$__listeners.length=0}),r},t.createTracker=function(){return new u}});
$_mod.def("/raptor-util$3.1.0/inherit",function(t,e,r,o,p){function n(t,e,r){var o=t.prototype,p=t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});if(o&&r!==!1)for(var n=Object.getOwnPropertyNames(o),i=0;i<n.length;i++){var c=n[i],a=Object.getOwnPropertyDescriptor(o,c);Object.defineProperty(p,c,a)}return t.$super=e,t.prototype=p,t}r.exports=n,n._inherit=n});
$_mod.def("/marko$4.0.0-rc.12/widgets/update-manager",function(e,t,u,n,a){"use strict";function i(){if(d.length)try{r(d)}finally{_=!1}}function s(){_||(_=!0,c(i))}function r(e){for(var t=0;t<e.length;t++){var u=e[t];u.update()}e.length=0}function f(e){var t={$__queue:null};l.push(t);try{e()}finally{try{t.$__queue&&r(t.$__queue)}finally{l.length--}}}function o(e){var t=l.length;if(t){var u=l[t-1];u.$__queue?u.$__queue.push(e):u.$__queue=[e]}else s(),d.push(e)}var _=!1,l=[],d=[],g=window,c=g.setImmediate;if(!c)if(g.postMessage){var h=[],p="si";g.addEventListener("message",function(e){var t=e.source;if((t==g||!t&&e.data===p)&&(e.stopPropagation(),h.length>0)){var u=h.shift();u()}},!0),c=function(e){h.push(e),g.postMessage(p,"*")}}else c=setTimeout;t.$__queueWidgetUpdate=o,t.$__batchUpdate=f});
$_mod.def("/marko$4.0.0-rc.12/runtime/vdom/VNode",function(i,t,_,n,e){function r(i,t){i.namespaceURI=t;for(var _=i.$__firstChild;_;)_.$__nsAware&&r(_,t),_=_.$__nextSibling}function h(){}h.prototype={$__VNode:function(i){this.$__finalChildCount=i,this.$__childCount=0,this.$__firstChild=void 0,this.$__lastChild=void 0,this.$__parentNode=void 0,this.$__nextSibling=void 0},get firstChild(){var i=this.$__firstChild;if(i&&i.$__DocumentFragment){var t=i.firstChild;return t||i.nextSibling}return i},get nextSibling(){var i=this.$__nextSibling;if(i){if(i.$__DocumentFragment){var t=i.firstChild;return t||i.nextSibling}}else{var _=this.$__parentNode;if(_&&_.$__DocumentFragment)return _.nextSibling}return i},$__appendChild:function(i){if(this.$__childCount++,this.$__isTextArea){if(!i.$__Text)throw TypeError();var t=i.nodeValue;this.$__value=(this.$__value||"")+t}else{var _;i.$__nsAware&&(_=this.namespaceURI)&&!i.namespaceURI&&r(i,_);var n=this.$__lastChild;i.$__parentNode=this,n?n.$__nextSibling=i:this.$__firstChild=i,this.$__lastChild=i}return i},$__finishChild:function(){return this.$__childCount===this.$__finalChildCount&&this.$__parentNode?this.$__parentNode.$__finishChild():this}},_.exports=h});
$_mod.def("/marko$4.0.0-rc.12/runtime/vdom/VElement",function(t,e,i,r,n){function a(t,e){var i=t["data-_noupdate"];return i&&(e&&(t=l({},t)),i.forEach(function(e){delete t[e]})),t}function s(t,e){return e===!0?"":"object"===t?JSON.stringify(e):e.toString()}function o(t){l(this,t),this.$__parentNode=void 0,this.$__nextSibling=void 0}function u(t,e,i,r){var n,a;switch(t){case"svg":n="http://www.w3.org/2000/svg";break;case"math":n="http://www.w3.org/1998/Math/MathML";break;case"textarea":case"TEXTAREA":a=!0}this.$__VNode(i),r&&(e||(e={}),e[p]=r),this.$__attributes=e||$,this.$__isTextArea=a,this.namespaceURI=n,this.nodeName=t,this.$__value=void 0,this.$__constId=r}var _=t("/marko$4.0.0-rc.12/runtime/vdom/VNode"),h=t("/raptor-util$3.1.0/inherit"),l=t("/raptor-util$3.1.0/extend"),c=Object.defineProperty,f="http://www.w3.org/1999/xlink",v="xlink:href",d="href",$=Object.freeze({}),p="data-marko-const",b=/^data-_/;u.prototype={$__VElement:!0,nodeType:1,$__nsAware:!0,$__cloneNode:function(){return new o(this)},e:function(t,e,i,r){var n=this.$__appendChild(new u(t,e,i,r));return 0===i?this.$__finishChild():n},n:function(t){return this.$__appendChild(t.$__cloneNode()),this.$__finishChild()},actualize:function(t){var e,i=this.namespaceURI,r=this.nodeName;e=i?t.createElementNS(i,r):t.createElement(r);var n=this.$__attributes;for(var a in n){var o=n[a];if(("_"!=a[5]||!b.test(a))&&o!==!1&&null!=o){var u=typeof o;"string"!==u&&(o=s(u,o)),a===v?e.setAttributeNS(f,d,o):e.setAttribute(a,o)}}if(this.$__isTextArea)e.value=this.$__value;else for(var _=this.firstChild;_;)e.appendChild(_.actualize(t)),_=_.nextSibling;return e._vattrs=n,e},hasAttributeNS:function(t,e){var i=this.$__attributes[e];return null!=i&&i!==!1},getAttribute:function(t){return this.$__attributes[t]},isSameNode:function(t){if(1==t.nodeType){var e=this.$__constId;if(e){var i=t.$__VNode?t.$__constId:t.getAttribute(p);return e===i}}return!1}},h(u,_);var m=o.prototype=u.prototype;["checked","selected","disabled"].forEach(function(t){c(m,t,{get:function(){var e=this.$__attributes[t];return e!==!1&&null!=e}})}),c(m,"id",{get:function(){return this.$__attributes.id}}),c(m,"value",{get:function(){var t=this.$__value;return null==t&&(t=this.$__attributes.value),null!=t?t.toString():""}}),u.$__morphAttrs=function(t,e){var i,r,n=e.$__attributes||e._vattrs,o=t._vattrs;if(o){if(o===n)return;o=a(o,!0)}else{o={};var u=t.attributes;for(r=u.length-1;r>=0;--r){var _=u[r];if(_.specified!==!1){i=_.name;var h=_.namespaceURI;h===f?o[v]=_.value:o[i]=_.value}}a(o,!1)}n=a(n,!0);for(i in n){var l=n[i];if(i==v)null==l||l===!1?t.removeAttributeNS(f,d):o[i]!=l&&t.setAttributeNS(f,d,l);else if(null==l||l===!1)t.removeAttribute(i);else if(o[i]!==l){if("_"==i[5]&&b.test(i))continue;var c=typeof l;"string"!==c&&(l=s(c,l)),t.setAttribute(i,l)}}for(i in o)i in n||(i==v?t.removeAttributeNS(f,d):t.removeAttribute(i));t._vattrs=n},i.exports=u});
$_mod.installed("marko$4.0.0-rc.12","morphdom","2.3.1");
$_mod.def("/morphdom$2.3.1/dist/morphdom-factory",function(e,n,t,i,r){"use strict";function o(e){!v&&p.createRange&&(v=p.createRange(),v.selectNode(p.body));var n;return v&&v.createContextualFragment?n=v.createContextualFragment(e):(n=p.createElement("body"),n.innerHTML=e),n.childNodes[0]}function a(e,n){var t=e.nodeName,i=n.nodeName;return t===i||!!(n.actualize&&t.charCodeAt(0)<91&&i.charCodeAt(0)>90)&&t===i.toUpperCase()}function d(e,n){return n&&n!==h?p.createElementNS(n,e):p.createElement(e)}function l(e,n){for(var t=e.firstChild;t;){var i=t.nextSibling;n.appendChild(t),t=i}return n}function u(e,n,t){e[t]!==n[t]&&(e[t]=n[t],e[t]?e.setAttribute(t,""):e.removeAttribute(t,""))}function f(){}function c(e){return e.id}function s(e){return function(n,t,i){function r(e){C?C.push(e):C=[e]}function u(e,n){if(e.nodeType===g)for(var t=e.firstChild;t;){var i=void 0;n&&(i=A(t))?r(i):(V(t),t.firstChild&&u(t,n)),t=t.nextSibling}}function s(e,n,t){w(e)!==!1&&(n&&n.removeChild(e),V(e),u(e,t))}function v(e){if(e.nodeType===g)for(var n=e.firstChild;n;){var t=A(n);t&&(I[t]=n),v(n),n=n.nextSibling}}function m(e){y(e);for(var n=e.firstChild;n;){var t=n.nextSibling,i=A(n);if(i){var r=I[i];r&&a(n,r)&&(n.parentNode.replaceChild(r,n),h(r,n))}m(n),n=t}}function h(i,o,d){var l,u=A(o);if(u&&delete I[u],!t.isSameNode||!t.isSameNode(n)){if(!d){if(E(i,o)===!1)return;if(e(i,o),U(i),z(i,o)===!1)return}if("TEXTAREA"!==i.nodeName){var f,c,v,N,C=o.firstChild,y=i.firstChild;e:for(;C;){for(v=C.nextSibling,f=A(C);y;){if(c=y.nextSibling,C.isSameNode&&C.isSameNode(y)){C=v,y=c;continue e}l=A(y);var w=y.nodeType,V=void 0;if(w===C.nodeType&&(w===g?(f?f!==l&&((N=I[f])?y.nextSibling===N?V=!1:(i.insertBefore(N,y),c=y.nextSibling,l?r(l):s(y,i,!0),y=N):V=!1):l&&(V=!1),V=V!==!1&&a(y,C),V&&h(y,C)):w!==S&&w!=T||(V=!0,y.nodeValue=C.nodeValue)),V){C=v,y=c;continue e}l?r(l):s(y,i,!0),y=c}if(f&&(N=I[f])&&a(N,C))i.appendChild(N),h(N,C);else{var B=x(C);B!==!1&&(B&&(C=B),C.actualize&&(C=C.actualize(i.ownerDocument||p)),i.appendChild(C),m(C))}C=v,y=c}for(;y;)c=y.nextSibling,(l=A(y))?r(l):s(y,i,!0),y=c}var O=b[i.nodeName];O&&O(i,o)}}if(i||(i={}),"string"==typeof t)if("#document"===n.nodeName||"HTML"===n.nodeName){var N=t;t=p.createElement("html"),t.innerHTML=N}else t=o(t);var C,A=i.getNodeKey||c,x=i.onBeforeNodeAdded||f,y=i.onNodeAdded||f,E=i.onBeforeElUpdated||f,U=i.onElUpdated||f,w=i.onBeforeNodeDiscarded||f,V=i.onNodeDiscarded||f,z=i.onBeforeElChildrenUpdated||f,B=i.childrenOnly===!0,I={};v(n);var O=n,R=O.nodeType,D=t.nodeType;if(!B)if(R===g)D===g?a(n,t)||(V(n),O=l(n,d(t.nodeName,t.namespaceURI))):O=t;else if(R===S||R===T){if(D===R)return O.nodeValue=t.nodeValue,O;O=t}if(O===t)V(n);else if(h(O,t,B),C)for(var L=0,H=C.length;L<H;L++){var M=I[C[L]];M&&s(M,M.parentNode,!1)}return!B&&O!==n&&n.parentNode&&(O.actualize&&(O=O.actualize(n.ownerDocument||p)),n.parentNode.replaceChild(O,n)),O}}var v,m,h="http://www.w3.org/1999/xhtml",p="undefined"==typeof document?void 0:document,N=p?p.body||p.createElement("div"):{};m=N.hasAttributeNS?function(e,n,t){return e.hasAttributeNS(n,t)}:N.hasAttribute?function(e,n,t){return e.hasAttribute(t)}:function(e,n,t){return null!=e.getAttributeNode(n,t)};var C=m,b={OPTION:function(e,n){u(e,n,"selected")},INPUT:function(e,n){u(e,n,"checked"),u(e,n,"disabled"),e.value!==n.value&&(e.value=n.value),C(n,null,"value")||e.removeAttribute("value")},TEXTAREA:function(e,n){var t=n.value;if(e.value!==t&&(e.value=t),e.firstChild){if(""===t&&e.firstChild.nodeValue===e.placeholder)return;e.firstChild.nodeValue=t}},SELECT:function(e,n){if(!C(n,null,"multiple")){for(var t=-1,i=0,r=n.firstChild;r;){var o=r.nodeName;if(o&&"OPTION"===o.toUpperCase()){if(C(r,null,"selected")){t=i;break}i++}r=r.nextSibling}e.selectedIndex=i}}},g=1,S=3,T=8;t.exports=s});
$_mod.def("/morphdom$2.3.1/factory",function(o,m,d,r,t){d.exports=o("/morphdom$2.3.1/dist/morphdom-factory")});
$_mod.def("/marko$4.0.0-rc.12/widgets/Widget",function(t,e,i,r,n){"use strict";function _(t){t()}function s(t,e){var i=e.id,r=t.$__widgetsById[i];return r&&e.$__type==r.$__widget.$__type}function o(t,e,i,r){i.push(t),r&&(i=r.concat(i));var n=g[t.$__scope],_=n[e];if(!_)throw Error("Method not found: "+e);_.apply(n,i)}function u(t,e,i){var r=t.id,n=null!=e?r+"-"+e:r;return null!=i&&(n+="["+i+"]"),n}function d(t,e,i){var r,n;for(var _ in e)if(e.hasOwnProperty(_)){var s="update_"+_;if(r=t[s],!r)return;(n||(n=[])).push([_,r])}if(n){for(var o=0,u=n.length;o<u;o++){var d=n[o],h=d[0];r=d[1];var a=e[h],$=i[h];r.call(t,a,$)}y(t,"update"),t.$__reset()}return!0}function h(t,e,i){if(e!=i){if(null==e||null==i)return!0;var r=Object.keys(e),n=Object.keys(i),_=r.length;if(_!==n.length)return!0;for(var s=0;s<_;s++){var o=r[s];if(e[o]!==i[o])return!0}}return!1}function a(t,e){w.call(this),this.id=t,this.el=this.$__state=this.$__roots=this.$__subscriptions=this.$__domEventListenerHandles=this.$__customEvents=this.$__scope=this.$__renderInput=null,this.$__destroyed=this.$__updateQueued=this.$__dirty=this.$__settingInput=!1,this.$__document=e}var $,c,l=t("/marko$4.0.0-rc.12/runtime/dom-insert"),f=t("/marko$4.0.0-rc.12/runtime/index"),p=t("/marko$4.0.0-rc.12/widgets/util-browser"),v=p.$__getWidgetForEl,g=p.$__widgetLookup,y=p.$__emitLifecycleEvent,m=p.$__destroyWidgetForEl,b=p.$__destroyElRecursive,E=p.$__getElementById,w=t("/events-light$1.0.5/src/index"),I=t("/marko$4.0.0-rc.12/runtime/RenderResult"),O=t("/listener-tracker$2.0.0/lib/listener-tracker"),j=t("/raptor-util$3.1.0/inherit"),k=t("/marko$4.0.0-rc.12/widgets/update-manager"),U=t("/marko$4.0.0-rc.12/runtime/vdom/VElement").$__morphAttrs,L=t("/morphdom$2.3.1/factory"),W=L(U),D=Array.prototype.slice,S=!1,R={addDestroyListener:!1},T=w.prototype.emit;a.prototype=c={$__isWidget:!0,subscribeTo:function(t){if(!t)throw TypeError();var e=this.$__subscriptions||(this.$__subscriptions=new O),i=t.$__isWidget?$:R;return e.subscribeTo(t,i)},emit:function(t){var e,i=this.$__customEvents;if(i&&(e=i[t])){var r=e[0],n=e[1],_=D.call(arguments,1);o(this,r,_,n)}return T.apply(this,arguments)},getElId:function(t,e){return u(this,t,e)},getEl:function(t,e){var i=this.$__document;return null!=t?E(i,u(this,t,e)):this.el||E(i,u(this))},getEls:function(t){for(var e,i=[],r=0;e=this.getEl(t,r);)i.push(e),r++;return i},getWidget:function(t,e){return g[u(this,t,e)]},getWidgets:function(t){for(var e,i=[],r=0;e=g[u(this,t,r)];)i.push(e),r++;return i},destroy:function(){if(!this.$__destroyed){var t,e,i=this.els;this.$__destroyShallow();var r=this.$__rootWidgets;if(r)for(t=0,e=r.length;t<e;t++)r[t].destroy();for(t=0,e=i.length;t<e;t++){var n=i[t];b(n);var _=n.parentNode;_&&_.removeChild(n)}}},$__destroyShallow:function(){if(!this.$__destroyed){y(this,"destroy"),this.$__destroyed=!0,this.el=null,this.$__removeDOMEventListeners();var t=this.$__subscriptions;t&&(t.removeAllListeners(),this.$__subscriptions=null),delete g[this.id]}},isDestroyed:function(){return this.$__destroyed},get state(){return this.$__state},set state(t){var e=this.$__state;(e||t)&&(e||(e=this.$__state=new this.$__State(this)),e.$__replace(t||{}),e.$__dirty&&this.$__queueUpdate(),t||(this.$__state=null))},setState:function(t,e){var i=this.$__state;if("object"==typeof t){var r=t;for(var n in r)r.hasOwnProperty(n)&&i.$__set(n,r[n],!0)}else i.$__set(t,e,!0)},setStateDirty:function(t,e){var i=this.$__state;1==arguments.length&&(e=i[t]),i.$__set(t,e,!0,!0)},replaceState:function(t){this.$__state.$__replace(t)},get input(){return this.$__input},set input(t){this.$__settingInput?this.$__input=t:this.$__setInput(t)},$__setInput:function(t,e,i){e=e||this.onInput;var r,n=this.$__input;return this.$__input=void 0,e&&(this.$__settingInput=!0,r=e.call(this,t||{},i),this.$__settingInput=!1),t=this.$__renderInput=r||t,(this.$__dirty=h(this,n,t))&&this.$__queueUpdate(),void 0===this.$__input&&(this.$__input=t),t},$__queueUpdate:function(){this.$__updateQueued||k.$__queueWidgetUpdate(this)},update:function(){if(!this.$__destroyed&&this.$__isDirty){var t=this.$__input,e=this.$__state;!this.$__dirty&&e&&e.$__dirty&&d(this,e.$__changes,e.$__old,e)&&(e.$__dirty=!1),this.$__isDirty&&this.shouldUpdate(t,e)!==!1&&this.doUpdate(),this.$__reset()}},get $__isDirty(){return this.$__dirty||this.$__state&&this.$__state.$__dirty},$__reset:function(){this.$__dirty=!1,this.$__updateQueued=!1,this.$__renderInput=null;var t=this.$__state;t&&t.$__reset()},shouldUpdate:function(t,e){return!0},doUpdate:function(){this.rerender()},$__emitLifecycleEvent:function(t,e){y(this,t,e)},rerender:function(t){t&&(this.input=t);var e=this,i=e.renderer;if(!i)throw TypeError();var r={$w:e},n=e.$__getRootEls({}),_=e.$__document;t=this.$__renderInput||this.$__input,k.$__batchUpdate(function(){function o(t){1==t.nodeType&&m(t)}function u(t,e){var i,r=t.id;if(p&&r){var n=p.$__preserved[r];if(n&&!n.$__bodyOnly)return S;i=v(t),i&&!s(p,i)&&i.$__destroyShallow()}}function d(t){var e=t.id;if(p&&e){var i=p.$__preserved[e];if(i&&i.$__bodyOnly)return S}}var h=i.createOut||f.createOut,a=h(r);a.$__document=e.$__document,i(t,a);for(var $,c=new I(a),l=a.$__getOutput(),p=a.global.widgets,g={onNodeDiscarded:o,onBeforeElUpdated:u,onBeforeElChildrenUpdated:d},y=l.firstChild;y;){var b=y.id;b&&($=n[b],$&&W($,y,g)),y=y.nextSibling}c.afterInsert(_)})},$__getRootEls:function(t){var e,i,r=this.els;for(e=0,i=r.length;e<i;e++){var n=r[e];t[n.id]=n}var _=this.$__rootWidgets;if(_)for(e=0,i=_.length;e<i;e++){var s=_[e];s.$__getRootEls(t)}return t},$__removeDOMEventListeners:function(){var t=this.$__domEventListenerHandles;t&&(t.forEach(_),this.$__domEventListenerHandles=null)},get $__rawState(){var t=this.$__state;return t&&t.$__raw}},c.elId=c.getElId,l(c,function(t){var e=this.els,i=e.length;if(i>1){for(var r=t.$__document.createDocumentFragment(),n=0;n<i;n++)r.appendChild(e[n]);return r}return e[0]},function(t){return t}),j(a,w),i.exports=a});
$_mod.def("/marko$4.0.0-rc.12/widgets/defineWidget",function(t,e,r,o,i){"use strict";var n,c,p;r.exports=function(t,e){function r(t,e){c.call(this,t,e)}function o(){n.apply(this,arguments)}if(t.$__isWidget)return t;var i,s;if("function"==typeof t)i=t,s=i.prototype;else{if("object"!=typeof t)throw TypeError();i=function(){},s=i.prototype=t}return s.$__isWidget||p(i,c),s=r.prototype=i.prototype,s.onCreate=s.onCreate||i,s.constructor=t.constructor=r,r.$__isWidget=!0,p(o,n),s.$__State=o,s.renderer=e,r},n=t("/marko$4.0.0-rc.12/widgets/State"),c=t("/marko$4.0.0-rc.12/widgets/Widget"),p=t("/raptor-util$3.1.0/inherit")});
$_mod.def("/marko$4.0.0-rc.12/widgets/registry-browser",function(e,t,r,n,i){function o(e,t){return"function"==typeof t&&t(),g[e]=t,delete l[e],delete _[e],e}function d(e){var t=l[e];if(void 0===t&&(t=g[e],"function"==typeof t&&(t=t()),t||(t=c(e)),l[e]=t||null),null==t)throw new Error("Unable to load: "+e);return t}function f(e){var t=_[e];return t?t:(t=d(e),t.Widget&&(t=t.Widget),t.$__isWidget||(t=a(t,t.renderer)),t.prototype.$__type=e,_[e]=t,t)}function u(e,t){var r,n=f(e);return"function"==typeof n?r=new n(t):n.initWidget&&(r=n),r}var c=e("/marko$4.0.0-rc.12/widgets/loadWidget-dynamic"),a=e("/marko$4.0.0-rc.12/widgets/defineWidget"),g={},l={},_={};t.$__register=o,t.$__createWidget=u});
$_mod.def("/marko$4.0.0-rc.12/widgets/WidgetDef",function(t,i,_,e,s){"use strict";function d(t,i,_,e,s){this.$__out=_,this.$__widgetStack=e,this.$__widgetStackLen=s,this.$__widget=t,this.id=i,this.$__scope=this.$__customEvents=this.$__roots=this.$__children=this.$__domEvents=void 0,this.$__isExisting=!1,this.$__nextIdIndex=0}var n=t("/marko$4.0.0-rc.12/widgets/nextRepeatedId"),$=/\[\]$/,o=t("/marko$4.0.0-rc.12/widgets/util-browser").$__nextWidgetId,r=t("/raptor-util$3.1.0/extend"),h=t("/marko$4.0.0-rc.12/widgets/registry-browser");d.prototype={$__end:function(){this.$__widgetStack.length=this.$__widgetStackLen},$__addChild:function(t){var i=this.$__children;i?i.push(t):this.$__children=[t]},elId:function(t){return null==t?this.id:"string"==typeof t&&$.test(t)?n(this.$__out,this.id,t):this.id+"-"+t},e:function(t,i,_,e){if(i){var s=this.$__domEvents;this.$__domEvents=(s||(this.$__domEvents=[])).concat([t,i,_,e])}},$__nextId:function(){return this.id?this.id+"-w"+this.$__nextIdIndex++:o(this.$__out)}},d.$__deserialize=function(t,i){var _=t[0],e=i[t[1]],s=t[2],d=t[3],n=d.s,$=d.w,o=e&&h.$__createWidget(e,_);return o.$__updateQueued=!0,n&&(o.state=n),o.$__input=s,$&&r(o,$),{$__widget:o,$__roots:d.r,$__scope:d.p,$__domEvents:d.d,$__customEvents:d.e}},_.exports=d});
$_mod.def("/marko$4.0.0-rc.12/widgets/init-widgets-browser",function(e,t,n,i,r){"use strict";function _(e,t,n){var i=e[t];if(!i)throw Error("Method not found: "+t);i.apply(e,n)}function o(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n)}}function s(e,t,n,i,r,s){var d=o(t,n,function(n){var o=[n,t];r&&(o=r.concat(o)),_(e,i,o)});s.push(d)}function d(e,t){var n=e.$__widget;if(n&&n.$__isWidget){var i=e.$__scope,r=e.$__domEvents,_=e.$__customEvents;n.$__reset(),n.$__document=t;var o,d,$,a,v,c=e.$__isExisting,f=n.id,l=e.$__roots;if(l){var g,h=[];for(o=0,d=l.length;o<d;o++){var E=l[o],p=f+"-"+E,L=m[p];if(L)L.$__rootFor=n,g?g.push(L):g=n.$__rootWidgets=[L];else{var k=w(t,p);k&&(k._w=n,h.push(k))}}n.el=h[0],n.els=h,m[f]=n}else if(!c){var y=w(t,f);y._w=n,n.el=y,n.els=[y],m[f]=n}if(c&&n.$__removeDOMEventListeners(),r){var W=[];for(o=0,d=r.length;o<d;o+=4){$=r[o],a=r[o+1];var b=w(t,r[o+2]);v=r[o+3],s(n,b,$,a,v,W)}W.length&&(n.$__domEventListenerHandles=W)}if(_)for(n.$__customEvents={},n.$__scope=i,o=0,d=_.length;o<d;o+=3)$=_[o],a=_[o+1],v=_[o+2],n.$__customEvents[$]=[a,v];c?n.$__emitLifecycleEvent("update"):(u.emit("mountWidget",n),n.$__emitLifecycleEvent("mount"))}}function $(e,t){c.$__init(t),t=t||l;for(var n=0,i=e.length;n<i;n++){var r=e[n];r.$__children&&$(r.$__children,t),d(r,t)}}function a(e,t){var n,i=0;if(arguments.length){c.$__init(t||l),e=v(e);var r=e.w,_=e.t;for(t||(t=l),n=r.length;i<n;i++){var o=h.$__deserialize(r[i],_);d(o,t)}}else if(e=f.$widgets,f.$widgets={concat:a},e&&(n=e.length))for(;i<n;i++)a(e[i],t)}var v=e("/warp10$1.3.3/finalize"),c=e("/marko$4.0.0-rc.12/widgets/event-delegation"),f=window,l=document,u=e("/marko$4.0.0-rc.12/runtime/events"),g=e("/marko$4.0.0-rc.12/widgets/util-browser"),m=g.$__widgetLookup,w=g.$__getElementById,h=e("/marko$4.0.0-rc.12/widgets/WidgetDef");t.$__initClientRendered=$,t.$__initServerRendered=a});
$_mod.def("/marko$4.0.0-rc.12/widgets/boot",function(e,r,i,d,o){e("/marko$4.0.0-rc.12/widgets/init-widgets-browser").$__initServerRendered()});
$_mod.run("/marko$4.0.0-rc.12/widgets/boot");
$_mod.def("/marko$4.0.0-rc.12/widgets/WidgetsContext",function(t,e,i,_,d){"use strict";function n(t,e){e||(e=new s(null,null,t)),this.$__out=t,this.$__widgetStack=[e],this.$__preserved=$,this.$__widgetsById={}}var s=t("/marko$4.0.0-rc.12/widgets/WidgetDef"),r=t("/marko$4.0.0-rc.12/widgets/init-widgets-browser"),$={};n.prototype={get $__widgets(){return this.$__widgetStack[0].$__children},$__beginWidget:function(t){var e=this,i=e.$__widgetStack,_=i.length,d=i[_-1],n=t.id;n||(n=t.id=d.$__nextId());var r=new s(t,n,this.$__out,i,_);return this.$__widgetsById[n]=r,d.$__addChild(r),i.push(r),r},$__clearWidgets:function(){this.$__widgetStack=[new s(null,this.$__out)]},$__initWidgets:function(t){var e=this.$__widgets;e&&(r.$__initClientRendered(e,t),this.$__clearWidgets())},$__nextWidgetId:function(){var t=this.$__widgetStack,e=t[t.length-1];return e.$__nextId()},$__preserveDOMNode:function(t,e){var i=this.$__preserved;i===$&&(i=this.$__preserved={}),i[t]={$__bodyOnly:e}}},n.$__getWidgetsContext=function(t){var e=t.global;return t.data.widgets||e.widgets||(e.widgets=new n(t))},i.exports=n});
$_mod.def("/marko$4.0.0-rc.12/widgets/renderer",function(e,t,r,_,i){function n(e,t,r){if("#"===t.charAt(0))return t.substring(1);var _;return _=g.test(t)?s(e,r,t):r+"-"+t}function d(e,t,r){var _=e.$__getRootEls({});for(var i in _){var n=_[i];t.element(n.tagName,{id:i}),r.$__preserveDOMNode(i)}return e.$__reset(),!0}function a(e){var t,r=e.parentOut,_=e.out,i=_.global.widgets;if(i&&(t=i.$__widgetStack)){var n=new u(_,t[t.length-1]);_.data.widgets=n}_.data.$w=r.data.$w}function $(e,t,r){r=r||{};var _=r.onInput,i=t.type,$=t.roots,s=t.id;return function(t,g){var l=g.global;l[c]||(l[c]=!0,g.on("beginAsync",a));var w,f,p,m=l.$w,y=void 0!==m,W=s;if(m)W=m.id,w=!0,l.$w=null;else{var b=t&&t.$w||g.data.$w;if(b){p=b[0],p&&(p=p.id);var k=b[1];null!=k&&(k=k.toString()),W=W||n(g,k,p),f=b[2],delete t.$w}}var x=u.$__getWidgetsContext(g);if(W=W||x.$__nextWidgetId(),v.$__isServer)m=v.$__createWidget(r,W,t,g,i),t=m.$__updatedInput,m.$__updatedInput=void 0;else{if(!m&&(y&&(m=o[W],m&&m.$__type!==i&&(m=void 0)),m?w=!0:(w=!1,m=v.$__createWidget(i,W)),m.$__updateQueued=!0,w||m.$__emitLifecycleEvent("create"),t=m.$__setInput(t,_,g),w&&(!m.$__isDirty||!m.shouldUpdate(t,m.$__state))))return void d(m,g,x);m.$__emitLifecycleEvent("render",g)}var E=x.$__beginWidget(m);E.$__customEvents=f,E.$__scope=p,E.$__roots=$,E.$__isExisting=w,e(t,g,E,m.$__rawState),E.$__end()}}var o=e("/marko$4.0.0-rc.12/widgets/util-browser").$__widgetLookup,s=e("/marko$4.0.0-rc.12/widgets/nextRepeatedId"),g=/\[\]$/,u=e("/marko$4.0.0-rc.12/widgets/WidgetsContext"),v=e("/marko$4.0.0-rc.12/widgets/registry-browser"),c="$wa";r.exports=$,$.$__resolveWidgetRef=n,$.$__preserveWidgetEls=d,$.$__handleBeginAsync=a});
$_mod.def("/marko$4.0.0-rc.12/widgets/index-browser",function(e,r,i,t,d){function g(e){o.on("initWidget",e)}var o=e("/marko$4.0.0-rc.12/runtime/events"),n=e("/marko$4.0.0-rc.12/widgets/Widget"),s=e("/marko$4.0.0-rc.12/widgets/util-browser");r.onInitWidget=g,r.Widget=n,r.getWidgetForEl=s.$__getWidgetForEl,r.initWidgets=e("/marko$4.0.0-rc.12/widgets/init-widgets-browser").$__initServerRendered,r.w=e("/marko$4.0.0-rc.12/widgets/defineWidget"),r.r=e("/marko$4.0.0-rc.12/widgets/renderer"),r.rw=e("/marko$4.0.0-rc.12/widgets/registry-browser").$__register,window.$__MARKO_WIDGETS=r});
$_mod.installed("markojs-website$1.0.0","marko","4.0.0-rc.12");
$_mod.main("/marko$4.0.0-rc.12/runtime/vdom","");
$_mod.def("/marko$4.0.0-rc.12/runtime/vdom/VComment",function(e,o,t,n,r){function i(e){this.$__VNode(-1),this.nodeValue=e}var u=e("/marko$4.0.0-rc.12/runtime/vdom/VNode"),d=e("/raptor-util$3.1.0/inherit");i.prototype={nodeType:8,actualize:function(e){return e.createComment(this.nodeValue)},$__cloneNode:function(){return new i(this.nodeValue)}},d(i,u),t.exports=i});
$_mod.def("/marko$4.0.0-rc.12/runtime/vdom/VDocumentFragment",function(t,e,n,o,i){function r(t){c(this,t),this.$__parentNode=void 0,this.$__nextSibling=void 0}function a(t){this.$__VNode(null),this.namespaceURI=void 0}var u=t("/marko$4.0.0-rc.12/runtime/vdom/VNode"),d=t("/raptor-util$3.1.0/inherit"),c=t("/raptor-util$3.1.0/extend");a.prototype={nodeType:11,$__DocumentFragment:!0,$__nsAware:!0,$__cloneNode:function(){return new r(this)},actualize:function(t){for(var e=t.createDocumentFragment(),n=this.firstChild;n;)e.appendChild(n.actualize(t)),n=n.nextSibling;return e}},d(a,u),r.prototype=a.prototype,n.exports=a});
$_mod.def("/marko$4.0.0-rc.12/runtime/vdom/VText",function(e,t,o,n,r){function i(e){this.$__VNode(-1),this.nodeValue=e}var u=e("/marko$4.0.0-rc.12/runtime/vdom/VNode"),d=e("/raptor-util$3.1.0/inherit");i.prototype={$__Text:!0,nodeType:3,actualize:function(e){return e.createTextNode(this.nodeValue)},$__cloneNode:function(){return new i(this.nodeValue)}},d(i,u),o.exports=i});
$_mod.def("/marko$4.0.0-rc.12/runtime/vdom/vdom",function(e,n,t,r,a){function i(e,n){for(var t=e.firstChild;t;)n.$__appendChild(o(t)),t=t.nextSibling}function o(e){switch(e.nodeType){case 1:var n,t=e.attributes,r=t.length;if(r){n={};for(var a=0;a<r;a++){var o,m=t[a];o="http://www.w3.org/1999/xlink"===m.namespaceURI&&"href"===m.localName?"xlink:href":m.name,n[o]=m.value}}var u=new l(e.nodeName,n);return u.$__isTextArea?u.$__value=e.value:i(e,u),u;case 3:return new f(e.nodeValue);case 8:return new c(e.nodeValue);case 11:var d=new _;return i(e,d),d}}function m(e,n){if(!v.test(e))return new f(e);!u&&n.createRange&&(u=n.createRange(),u.selectNode(n.body));var t,r;if(u&&u.createContextualFragment)r=u.createContextualFragment(e),t=o(r);else{var a=n.createElement("body");a.innerHTML=e,t=new _;for(var i=a.firstChild;i;)t.$__appendChild(o(i)),i=i.nextSibling}return t}var u,d=e("/marko$4.0.0-rc.12/runtime/vdom/VNode"),c=e("/marko$4.0.0-rc.12/runtime/vdom/VComment"),_=e("/marko$4.0.0-rc.12/runtime/vdom/VDocumentFragment"),l=e("/marko$4.0.0-rc.12/runtime/vdom/VElement"),f=e("/marko$4.0.0-rc.12/runtime/vdom/VText"),$="undefined"!=typeof document&&document,v=/[&<]/,h=d.prototype;h.t=function(e){var n,t=typeof e;return"string"!==t&&(null==e?e="":"object"===t&&e.toHTML&&(n=m(e.toHTML(),document))),this.$__appendChild(n||new f(e.toString())),this.$__finishChild()},h.c=function(e){return this.$__appendChild(new c(e)),this.$__finishChild()},h.$__appendDocumentFragment=function(){return this.$__appendChild(new _)},n.$__VComment=c,n.$__VDocumentFragment=_,n.$__VElement=l,n.$__VText=f,n.$__virtualize=o,n.$__virtualizeHTML=m,n.$__defaultDocument=$});
$_mod.def("/marko$4.0.0-rc.12/runtime/vdom/AsyncVDOMBuilder",function(t,e,n,_,i){function s(t){this.$__remaining=1,this.$__events=new a,this.$__tree=t,this.$__last=void 0,this.$__lastCount=0,this.$__flags=0}function r(t,e,n){e||(e=new h),n?n.$__remaining++:n=new s(e),this.data={},this.$__state=n,this.$__parent=e,this.global=t||{},this.$__stack=[e],this.$__sync=!1}var a=t("/events-light$1.0.5/src/index"),u=t("/marko$4.0.0-rc.12/runtime/vdom/vdom"),o=u.$__VElement,h=u.$__VDocumentFragment,$=u.$__VComment,l=u.$__VText,c=u.$__virtualizeHTML,f=t("/marko$4.0.0-rc.12/runtime/RenderResult"),m=u.$__defaultDocument,v=1,d=2,p="update",g="finish",w=r.prototype={$__isOut:!0,$__document:m,element:function(t,e,n){var _=new o(t,e,n),i=this.$__parent;return i&&i.$__appendChild(_),0===n?this:_},n:function(t){return this.node(t.$__cloneNode())},node:function(t){var e=this.$__parent;return e&&e.$__appendChild(t),this},text:function(t){var e=typeof t;if("string"!==e){if(null==t)return;if("object"===e&&t.toHTML)return this.h(t.toHTML());t=t.toString()}var n=this.$__parent;if(n){var _=n.lastChild;_&&_.$__Text?_.nodeValue+=t:n.$__appendChild(new l(t))}return this},comment:function(t){return this.node(new $(t))},html:function(t){if(null!=t){var e=c(t,this.$__document);this.node(e)}return this},beginElement:function(t,e){var n=new o(t,e),_=this.$__parent;return _&&(_.$__appendChild(n),this.$__stack.push(n),this.$__parent=n),this},endElement:function(){var t=this.$__stack;t.pop(),this.$__parent=t[t.length-1]},end:function(){var t=this.$__state;this.$__parent=null;var e=--t.$__remaining;return t.$__flags&d||e-t.$__lastCount!==0||(t.$__flags|=d,t.$__lastCount=0,t.$__events.emit("last")),e||(t.$__flags|=v,t.$__events.emit(g,this.$__getResult())),this},beginAsync:function(t){if(this.$__sync)throw Error("Not allowed");var e=this.$__state;t&&t.last&&e.$__lastCount++;var n=this.$__parent.$__appendDocumentFragment(),_=new r(this.global,n,e);return e.$__events.emit("beginAsync",{out:_,parentOut:this}),_},createOut:function(t){return new r(this.global)},flush:function(){var t=this.$__state.$__events;t.listenerCount(p)&&t.emit(p,new f(this))},$__getOutput:function(){return this.$__state.$__tree},$__getResult:function(){return this.$__result||(this.$__result=new f(this))},on:function(t,e){var n=this.$__state;return t===g&&n.$__flags&v?(e(this.$__getResult()),this):(n.$__events.on(t,e),this)},once:function(t,e){var n=this.$__state;return t===g&&n.$__flags&v?(e(this.$__getResult()),this):(n.$__events.once(t,e),this)},emit:function(t,e){var n=this.$__state.$__events;switch(arguments.length){case 1:n.emit(t);break;case 2:n.emit(t,e);break;default:n.emit.apply(n,arguments)}return this},removeListener:function(){var t=this.$__state.$__events;return t.removeListener.apply(t,arguments),this},sync:function(){this.$__sync=!0},isSync:function(){return this.$__sync},onLast:function(t){var e=this.$__state,n=e.$__last;if(!n){n=e.$__last=[];var _=0,i=function t(){if(_!==n.length){var e=n[_++];e(t)}};this.once("last",function(){i()})}return n.push(t),this},$__getNode:function(t){var e=this.$__VNode;if(!e){var n=this.$__getOutput();t||(t=this.$__document),e=this.$__VNode=n.actualize(t)}return e},toString:function(){return this.$__getNode().outerHTML},then:function(t,e){var n=this,_=new Promise(function(t,e){n.on("error",e).on(g,function(e){t(e)})});return Promise.resolve(_).then(t,e)},catch:function(t){return this.then(void 0,t)},isVDOM:!0};w.e=w.element,w.be=w.beginElement,w.ee=w.endElement,w.t=w.text,w.h=w.w=w.write=w.html,n.exports=r});
$_mod.def("/marko$4.0.0-rc.12/runtime/renderable",function(r,e,n,t,o){var u=r("/marko$4.0.0-rc.12/runtime/createOut"),l=r("/raptor-util$3.1.0/extend");n.exports=function(r,e){var n=e&&(e.renderer||e.render||e),t=r.createOut||e.createOut||u;return l(r,{createOut:t,renderToString:function(r,e){var o=r||{},u=n||this._,l=t(o.$global);return e?(l.on("finish",function(){e(null,l.toString(),l)}).once("error",e),u(o,l),l.end()):(l.sync(),u(o,l),l.toString())},renderSync:function(r){var e=r||{},o=n||this._,u=t(e.$global);return u.sync(),o(e,u),u.$__getResult()},render:function(r,e){var o,u,i,a,c=n||this._,f=this.$__shouldBuffer,s=!0;return r?(i=r,(a=r.$global)&&(i.$global=null)):i={},e&&e.$__isOut?(u=e,s=!1,l(e.global,a)):"function"==typeof e?(u=t(a),o=e):u=t(a,e,null,f),o&&u.on("finish",function(){o(null,u.$__getResult())}).once("error",o),a=u.global,a.template=a.template||this,c(i,u),s?u.end():u}})}});
$_mod.def("/marko$4.0.0-rc.12/runtime/vdom/index",function(t,e,r,n,u){"use strict";function i(t,e){this.path=t,this._=e,this.meta=void 0}function a(t,e,r){return new o(t,e,r)}var o=t("/marko$4.0.0-rc.12/runtime/vdom/AsyncVDOMBuilder"),c=t("/marko$4.0.0-rc.12/runtime/renderable");e.t=function(t){return new i(t)};var m=i.prototype={createOut:a};c(m),e.Template=i,e.$__createOut=a,t("/marko$4.0.0-rc.12/runtime/createOut").$__setCreateOut(a)});
$_mod.def("/marko$4.0.0-rc.12/vdom",function(o,m,r,d,e){r.exports=o("/marko$4.0.0-rc.12/runtime/vdom/index")});
$_mod.main("/marko$4.0.0-rc.12/widgets","");
$_mod.builtin("path","/path-browserify$0.0.0/index");
$_mod.builtin("process","/process$0.6.0/browser");
$_mod.def("/process$0.6.0/browser",function(n,e,o,t,i){function r(){}var s=o.exports={};s.nextTick=function(){var n="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(n)return function(n){return window.setImmediate(n)};if(e){var o=[];return window.addEventListener("message",function(n){var e=n.source;if((e===window||null===e)&&"process-tick"===n.data&&(n.stopPropagation(),o.length>0)){var t=o.shift();t()}},!0),function(n){o.push(n),window.postMessage("process-tick","*")}}return function(n){setTimeout(n,0)}}(),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=r,s.once=r,s.off=r,s.emit=r,s.binding=function(n){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(n){throw new Error("process.chdir is not supported")}});
$_mod.def("/path-browserify$0.0.0/index",function(r,t,n,e,i){function o(r,t){for(var n=0,e=r.length-1;e>=0;e--){var i=r[e];"."===i?r.splice(e,1):".."===i?(r.splice(e,1),n++):n&&(r.splice(e,1),n--)}if(t)for(;n--;n)r.unshift("..");return r}function s(r,t){if(r.filter)return r.filter(t);for(var n=[],e=0;e<r.length;e++)t(r[e],e,r)&&n.push(r[e]);return n}var u=r("process"),f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,l=function(r){return f.exec(r).slice(1)};t.resolve=function(){for(var r="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var e=n>=0?arguments[n]:u.cwd();if("string"!=typeof e)throw new TypeError("Arguments to path.resolve must be strings");e&&(r=e+"/"+r,t="/"===e.charAt(0))}return r=o(s(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},t.normalize=function(r){var n=t.isAbsolute(r),e="/"===a(r,-1);return r=o(s(r.split("/"),function(r){return!!r}),!n).join("/"),r||n||(r="."),r&&e&&(r+="/"),(n?"/":"")+r},t.isAbsolute=function(r){return"/"===r.charAt(0)},t.join=function(){var r=Array.prototype.slice.call(arguments,0);return t.normalize(s(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},t.relative=function(r,n){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var n=r.length-1;n>=0&&""===r[n];n--);return t>n?[]:r.slice(t,n-t+1)}r=t.resolve(r).substr(1),n=t.resolve(n).substr(1);for(var i=e(r.split("/")),o=e(n.split("/")),s=Math.min(i.length,o.length),u=s,f=0;f<s;f++)if(i[f]!==o[f]){u=f;break}for(var l=[],f=u;f<i.length;f++)l.push("..");return l=l.concat(o.slice(u)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(r){var t=l(r),n=t[0],e=t[1];return n||e?(e&&(e=e.substr(0,e.length-1)),n+e):"."},t.basename=function(r,t){var n=l(r)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(r){return l(r)[3]};var a="b"==="ab".substr(-1)?function(r,t,n){return r.substr(t,n)}:function(r,t,n){return t<0&&(t=r.length+t),r.substr(t,n)}});
$_mod.installed("markojs-website$1.0.0","events-light","1.0.5");
$_mod.def("/markojs-website$1.0.0/browser-shims/fs/VFileSystem", function(require, exports, module, __filename, __dirname) { var path = require('/path-browserify$0.0.0/index'/*'path'*/);
var EventEmitter = require('/events-light$1.0.5/src/index'/*'events-light'*/);

class FileEntry {
    constructor(path, type, text) {
        this.path = path;
        this.type = type;
        this.text = text;
        this.files = type === 'dir' ? [] : undefined;
    }

    isFile() {
        return this.type === 'file';
    }

    isDirectory() {
        return this.type === 'dir';
    }

    get name() {
        return path.basename(this.path);
    }
}

class VFileSystem extends EventEmitter {
    constructor() {
        super();

        this._files = {};
        this._tree = undefined;
        this._dirs = undefined;
    }

    writeFileSync(filePath, text) {
        var file = this._files[filePath];
        if (file) {
            if (file.text === text) {
                return;
            }

            file.text = text;

            this.emit('file:modified', file);
        } else {
            file = this._files[filePath] = new FileEntry(filePath, 'file', text);

            this._setTreeDirty();
            this.emit('file:created', file);
        }
    }

    _setTreeDirty() {
        this._tree = undefined;
        this._dirs = undefined;
    }

    readFileSync(filePath) {
        var file = this._files[filePath];
        return file ? file.text : undefined;
    }

    readdirSync(dirPath) {
        var dir = this.getFile(dirPath);
        if (!dir) {
            var error = new Error('ENOENT: no such file or directory: ' + dirPath);
            error.code = 'ENOENT';
            throw error;
        }

        var childNames = dir.files.map((child) => {
            return child.name;
        });

        return childNames;
    }

    readTreeSync() {
        if (this._tree) {
            return this._tree;
        }

        var tree;
        var dirs = this._dirs = {};
        var files = this._files;
        var filePaths = Object.keys(files);

        filePaths.sort();

        function mkdirp(dir) {
            if (dirs[dir]) {
                return;
            }

            var dirEntry = dirs[dir] = new FileEntry(dir, 'dir');

            if (dir === '/') {
                tree = dirEntry;
            } else {
                var parentDir = path.dirname(dir);
                mkdirp(parentDir);
                dirs[parentDir].files.push(dirEntry);
            }
        }

        filePaths.forEach((filePath) => {
            var fileEntry = files[filePath];
            var dir = path.dirname(fileEntry.path);
            mkdirp(dir);
            dirs[dir].files.push(fileEntry);
        });

        this._tree = tree;

        return this._tree;
    }

    getFile(filePath) {
        this.readTreeSync();
        return this._files[filePath] || this._dirs[filePath];
    }
}

module.exports = VFileSystem;
});
$_mod.def("/markojs-website$1.0.0/browser-shims/fs/index",function(s,e,r,i,o){var m=s("/markojs-website$1.0.0/browser-shims/fs/VFileSystem");r.exports=new m});
$_mod.installed("markojs-website$1.0.0","resolve-from","2.0.0");
$_mod.main("/resolve-from$2.0.0","");
$_mod.builtin("module","/markojs-website$1.0.0/browser-shims/module/index");
$_mod.builtin("fs","/markojs-website$1.0.0/browser-shims/fs/index");
$_mod.def("/markojs-website$1.0.0/browser-shims/module/index",function(r,e,n,t,i){"use strict";function s(r){return r.startsWith("/")}function a(r){for(var e=[];;){e.push(d.join(r,"node_modules"));var n=d.dirname(r);if(!n||n===r)break;r=n}return e}function o(r){var e;if(v.existsSync(r)){var n=v.readFileSync(r);try{e=JSON.parse(n)}catch(e){throw new Error('Unable to read package at path "'+r+'". Error: '+e)}}return e}function f(r){var e=d.join(r,"package.json"),n=o(e),t=n&&n.main;t?"."!==t.charAt(0)&&(t="./"+t):t="./index";var i=c(r,t);if(i)return i.path}function u(r){var e=d.extname(r),n=""!==e,t=v.statSync(r);if(t.exists()&&!t.isDirectory())return[r,t];if(!n){var i=r+".js";if(t=v.statSync(i),t.exists())return[i,t]}for(var s=0,a=h.length;s<a;s++){var o=h[s];if(o!==e){var f=r+o;if(t=v.statSync(f),t.exists())return[f,t]}}}function c(r,e,n){var t,i,a;if(s(e)){if(t=u(e),!t)return;i=t[0],a=t[1]}else if("."===e.charAt(0)){if(i=d.join(r,e),t=u(i),!t){if(a=v.statSync(i),!a||!a.isDirectory())return;i=i}a||(i=t[0],a=t[1])}else{var o,h,l=e.indexOf("/");l!==-1&&"@"===e.charAt(0)&&(l=e.indexOf("/",l+1)),l===-1?(o=e,h=null):(o=e.substring(0,l),h=e.substring(l+1));for(var m=0,y=n.length;m<y;m++){var x=n[m],b=d.join(x,o);if(a=v.statSync(b),a.isDirectory()){if(h)return c(b,"./"+h);i=b;break}}if(!i)return}if(!a.isDirectory()||(i=f(i)))return i}var d=r("/path-browserify$0.0.0/index"),v=r("/markojs-website$1.0.0/browser-shims/fs/index"),h=[".js",".marko",".json",".css",".less"],l={_nodeModulePaths:a,_resolveFilename:function(r,e){var n=e.filename,t=e.paths,i=d.dirname(n),s=c(i,r,t);if(!s)throw new Error("Module not found: "+r+" (from: "+n+")");return s}};e.Module=l});
$_mod.def("/resolve-from$2.0.0/index",function(e,r,o,t,n){"use strict";var i=e("/path-browserify$0.0.0/index"),s=e("/markojs-website$1.0.0/browser-shims/module/index");o.exports=function(e,r){if("string"!=typeof e||"string"!=typeof r)throw new TypeError("Expected `fromDir` and `moduleId` to be a string");e=i.resolve(e);var o=i.join(e,"noop.js");try{return s._resolveFilename(r,{id:o,filename:o,paths:s._nodeModulePaths(e)})}catch(e){return null}}});
$_mod.main("/marko$4.0.0-rc.12/compiler","");
$_mod.def("/marko$4.0.0-rc.12/taglibs/async/async-fragment-to-await-transformer",function(e,t,r,a,i){"use strict";var n={"async-fragment":"await","async-fragments":"await-reorderer","async-fragment-placeholder":"await-placeholder","async-fragment-timeout":"await-timeout","async-fragment-error":"await-error"};r.exports=function(e,t){var r,a,i,o=e.tagName,s=n[o];t.deprecate("The <"+o+"> tag is deprecated.  Please use <"+s+"> instead."),"async-fragment"==o&&(a=e.getAttributeValue("var").value,r=e.getAttributeValue("data-provider").toString(),i=a+" from "+r,e.removeAttribute("var"),e.removeAttribute("data-provider")),"async-fragments"==o&&e.removeAttribute("client-reorder");var c=t.createNodeForEl(s,e.getAttributes(),i);e.replaceWith(c),e.moveChildrenTo(c)}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/async/await-nested-tag-transformer",function(a,e,r,t,d){"use strict";r.exports=function(a,e){var r=a.parentNode;if("await"!==r.tagName)return void e.addError("The <"+a.tagName+"> should be nested within an <await> tag.");var t;"await-error"===a.tagName?t="renderError":"await-timeout"===a.tagName?t="renderTimeout":"await-placeholder"===a.tagName&&(t="renderPlaceholder");var d=e.builder;r.setAttributeValue(t,d.renderBodyFunction(a.body)),a.detach()}});
$_mod.remap("/marko$4.0.0-rc.12/taglibs/async/client-reorder","/marko$4.0.0-rc.12/taglibs/async/client-reorder-browser");
$_mod.def("/marko$4.0.0-rc.12/taglibs/async/client-reorder-browser",function(r,e,o,c,d){e.isSupported=!1});
$_mod.def("/marko$4.0.0-rc.12/taglibs/async/await-reorderer-tag",function(e,t,r,i,n){"use strict";const a=e("/marko$4.0.0-rc.12/taglibs/async/client-reorder-browser");r.exports=function(e,t){var r=t.global;if(t.flush(),!r.__awaitReordererInvoked&&(r.__awaitReordererInvoked=!0,!t.isSync())){var i=t.beginAsync({last:!0,timeout:-1,name:"await-reorderer"});t.onLast(function(e){function n(n){n.asyncValue.done(function(s,d){if(!c){if(s)return c=!0,i.error(s);r._afRuntime||(i.write(a.getCode()),r._afRuntime=!0),i.write('<div id="af'+n.id+'" style="display:none">'+d+'</div><script type="text/javascript">$af('+("number"==typeof n.id?n.id:'"'+n.id+'"')+(n.after?',"'+n.after+'"':"")+")</script>"),n.out.writer=i.writer,t.emit("await:finish",n),t.flush(),0===--o&&(c=!0,i.end(),e())}})}var o,s=r.__awaitContext;if(!s||!s.instances||!(o=s.instances.length))return i.end(),void e();var c=!1;s.instances.forEach(n),t.on("await:clientReorder",function(e){o++,n(e)}),delete s.instances})}}});
$_mod.def("/raptor-util$3.1.0/isObjectEmpty",function(r,t,n,e,i){n.exports=function(r){if(!r)return!0;for(var t in r)if(r.hasOwnProperty(t))return!1;return!0}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/async/await-tag-transformer", function(require, exports, module, __filename, __dirname) { 'use strict';

var isObjectEmpty = require('/raptor-util$3.1.0/isObjectEmpty'/*'raptor-util/isObjectEmpty'*/);

module.exports = function transform(el, context) {
    if(!el.argument) {
        context.addError('Invalid <await> tag. Argument is missing. Example: <await(user from data.userProvider)>');
        return;
    }

    var match = /^([$A-Z_][0-9A-Z_$]*) from (.*)$/i.exec(el.argument);

    if(!match) {
        context.addError('Invalid <await> tag. Argument is malformed. Example: <await(user from data.userProvider)>');
        return;
    }

    var varName = match[1];
    var dataProviderAttr = match[2];

    if (!context.util.isValidJavaScriptIdentifier(varName)) {
        context.addError('Invalid <await> tag. Argument\'s variable name should be a valid JavaScript identifier. Example: user, as in <await(user from data.userProvider)>');
        return;
    }

    var builder = context.builder;

    el.setAttributeValue('_var', builder.literal(varName));
    el.setAttributeValue('_dataProvider', builder.parseExpression(dataProviderAttr));
    el.argument = null;

    ////////////////////

    var attrs = el.getAttributes().concat([]);
    var arg = {};

    attrs.forEach((attr) => {
        var attrName = attr.name;
        if (attrName.startsWith('arg-')) {
            let argName = attrName.substring('arg-'.length);
            arg[argName] = attr.value;
            el.removeAttribute(attrName);
        }
    });

    var name = el.getAttributeValue('name');
    if (name == null) {
        el.setAttributeValue('_name', builder.literal(dataProviderAttr));
    }

    if (el.hasAttribute('arg')) {
        if (isObjectEmpty(arg)) {
            arg = el.getAttributeValue('arg');
        } else {
            let mergeVar = context.helper('merge');
            arg = builder.functionCall(mergeVar, [
                builder.literal(arg), // Input props from the attributes take precedence
                el.getAttributeValue('arg')
            ]);
        }
    } else {
        if (isObjectEmpty(arg)) {
            arg = null;
        } else {
            arg = builder.literal(arg);
        }
    }

    if (arg) {
        el.setAttributeValue('arg', arg);
    }

    var timeoutMessage = el.getAttributeValue('timeout-message');
    if (timeoutMessage) {
        el.removeAttribute('timeout-message');
        el.setAttributeValue('renderTimeout', builder.renderBodyFunction([
            builder.text(timeoutMessage)
        ]));
    }

    var errorMessage = el.getAttributeValue('error-message');
    if (errorMessage) {
        el.removeAttribute('error-message');
        el.setAttributeValue('renderError', builder.renderBodyFunction([
            builder.text(errorMessage)
        ]));
    }

    var placeholder = el.getAttributeValue('placeholder');
    if (placeholder) {
        el.removeAttribute('placeholder');
        el.setAttributeValue('renderPlaceholder', builder.renderBodyFunction([
            builder.text(placeholder)
        ]));
    }
};

});
$_mod.installed("marko$4.0.0-rc.12","raptor-logging","1.1.2");
$_mod.main("/raptor-logging$1.1.2","lib/index");
$_mod.installed("raptor-logging$1.1.2","process","0.10.1");
$_mod.main("/process$0.10.1","");
$_mod.remap("/process$0.10.1/index","/process$0.10.1/browser");
$_mod.def("/process$0.10.1/browser",function(r,n,e,o,t){function i(){if(!f){f=!0;for(var r,n=u.length;n;){r=u,u=[];for(var e=-1;++e<n;)r[e]();n=u.length}f=!1}}function s(){}var c=e.exports={},u=[],f=!1;c.nextTick=function(r){u.push(r),f||setTimeout(i,0)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.binding=function(r){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(r){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}});
$_mod.def("/raptor-logging$1.1.2/lib/raptor-logging",function(r,e,n,o,a){var i=r("process"),g=function(){return!1},l={isTraceEnabled:g,isDebugEnabled:g,isInfoEnabled:g,isWarnEnabled:g,isErrorEnabled:g,isFatalEnabled:g,dump:g,trace:g,debug:g,info:g,warn:g,error:g,fatal:g},t={logger:function(){return l},configure:g,voidLogger:l};n.exports=t;var d="./raptor-logging-impl";if(!i.browser){var s;try{s=r.resolve(d)}catch(r){}s&&r(s)}});
$_mod.def("/raptor-logging$1.1.2/lib/index",function(o,g,i,n,r){var d="undefined"==typeof window?global:window;i.exports=d.__RAPTOR_LOGGING||(d.__RAPTOR_LOGGING=o("/raptor-logging$1.1.2/lib/raptor-logging"))});
$_mod.installed("marko$4.0.0-rc.12","raptor-async","1.1.3");
$_mod.installed("raptor-async$1.1.3","process","0.10.1");
$_mod.def("/raptor-async$1.1.3/AsyncValue",function(t,i,s,e,o){function a(t){this.data=void 0,this.error=void 0,this._callbacks=void 0,this._state=d,this._timestamp=void 0,t&&(this._loader=t.loader,this._scope=t.scope,this._ttl=t.ttl||void 0)}function n(t,i,s){var e=t._callbacks;if(void 0!==e){t._callbacks=void 0;for(var o=0;o<e.length;o++){var a=e[o];a.callback.call(a.scope,i,s)}}}function r(t){t._state=u,t._loader.call(t._scope||t,function(i,s){i?t.reject(i):t.resolve(s)})}function c(t,i,s){void 0===t._callbacks&&(t._callbacks=[]),t._callbacks.push({callback:i,scope:s||t._scope||t})}function l(t){var i=t._ttl;return void 0!==i&&f()-t._timestamp>i&&(t.unsettle(),!0)}var h=t("process"),d=0,u=1,_=2,v=3,f=Date.now||function(){return(new Date).getTime()};a.prototype={isResolved:function(){return this._state===_&&!l(this)},isRejected:function(){return this._state===v&&!l(this)},isLoading:function(){return this._state===u},isSettled:function(){return this._state>u&&!l(this)},load:function(t,i){if(!this._loader)throw new Error("Cannot call load when loader is not configured");return this.isSettled()&&this.unsettle(),t&&c(this,t,i),this._state!==u&&r(this),this.data},done:function(t,i){if(!t||t.constructor!==Function)throw new Error("Invalid callback: "+t);return this.isSettled()?t.call(i||this._scope||this,this.error,this.data):(h.domain&&(t=h.domain.bind(t)),c(this,t,i),void(this._loader&&this._state!==u&&r(this)))},reject:function(t){this.error=t,this.data=void 0,void 0!==this._ttl&&(this._timestamp=f()),this._state=this._loader?d:v,n(this,t,null)},resolve:function(t){this.error=void 0,this.data=t,void 0!==this._ttl&&(this._timestamp=f()),this._state=_,n(this,null,t)},reset:function(){this.unsettle(),this.callbacks=void 0},unsettle:function(){this._state=d,this.error=void 0,this.data=void 0,this._timestamp=void 0}},a.create=function(t){return new a(t)},s.exports=a});
$_mod.def("/marko$4.0.0-rc.12/taglibs/async/await-tag",function(e,n,t,r,i){"use strict";function o(e){return e&&"function"==typeof e.then}function a(e,n,t){if(n){var r=e.then(function(e){n(null,e)});r="function"==typeof e.catch?r.catch(function(e){n(e)}):"function"==typeof e.fail?r.fail(function(e){n(e)}):r.then(null,function(e){n(e)}),r.done&&r.done()}return e}function l(e,n,t,r){if(o(e))return void a(e,t);if("function"==typeof e){var i=1===e.length?e.call(r,t):e.call(r,n,t);void 0!==i&&(o(i)?a(i,t):t(null,i))}else t(null,e)}var u=e("/raptor-logging$1.1.2/lib/index").logger(t),c=e("/raptor-async$1.1.3/AsyncValue"),f=e("/marko$4.0.0-rc.12/taglibs/async/client-reorder-browser").isSupported;t.exports=function(e,n){function t(t,r,i){if(!p.finished){s&&(clearTimeout(s),s=null);var l=p.out=o||n;v||(v=!0,n.emit("await:beforeRender",p)),t?e.renderError?(console.error("Await ("+d+") failed. Error:",t.stack||t),e.renderError(l)):l.error(t):i?i(l):e.renderBody&&e.renderBody(l,r),p.finished=!0,a||n.emit("await:finish",p),o&&(o.end(),a||n.flush())}}var r=e._dataProvider,i=e.arg||{};i.out=n;var o,a=f&&e.clientReorder===!0&&!n.isVDOM,s=null,d=e.name||e._name,m=e.scope||this,h=e.method;h&&(r=r[h].bind(r));var p={name:d,clientReorder:a,dataProvider:r},v=!1;if(n.emit("await:begin",p),l(r,i,t,m),p.finished)a&&n.emit("await:finish",p);else{var w=e.timeout,g=e.renderTimeout,y=e.renderPlaceholder;if(null==w?w=1e4:w<=0&&(w=null),null!=w&&(s=setTimeout(function(){var e="Await ("+d+") timed out after "+w+"ms";p.timedout=!0,g?(u.error(e),t(null,null,g)):t(new Error(e))},w)),a){var b=n.global.__awaitContext||(b=n.global.__awaitContext={instances:[],nextId:0}),_=p.id=e.name||b.nextId++,x="afph"+_;y?(n.write('<span id="'+x+'">'),y(n),n.write("</span>")):n.write('<noscript id="'+x+'"></noscript>');var A=p.asyncValue=new c;o=p.out=n.createOut(),p.after=e.showAfter;var $=o.emit;o.emit=function(e){"finish"!==e&&"error"!==e&&n.emit.apply(n,arguments),$.apply(o,arguments)},o.on("finish",function(e){A.resolve(e.getOutput())}).on("error",function(e){A.reject(e)}),b.instances&&b.instances.push(p),n.emit("await:clientReorder",p)}else n.flush(),o=p.out=n.beginAsync({timeout:0,name:d})}}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/async/client-reorder-runtime",function(r,e,n,c,i){});
$_mod.def("/marko$4.0.0-rc.12/taglibs/async/client-reorder-runtime.min",function(n,r,e,i,c){});
$_mod.def("/marko$4.0.0-rc.12/taglibs/cache/default-cache-manager",function(n,r,e,t,u){function a(){var n={};return{get:function(r,e,t){var u=n[r];if(void 0!==u)return t(null,u);var a=e.builder;a(function(e,u){return e?t(e):(void 0===u&&(u=null),n[r]=u,void t(null,u))})}}}var c={},i={getCache:function(n){return c[n]||(c[n]=a())}};e.exports=i});
$_mod.def("/marko$4.0.0-rc.12/taglibs/cache/cached-fragment-tag-transformer",function(a,e,r,t,c){var n=a.resolve("/marko$4.0.0-rc.12/taglibs/cache/default-cache-manager");r.exports=function(a,e){if(!a.hasAttribute("cache-manager")){var r=e.getRequirePath(n),t=e.importModule("__defaultCacheManager",r);a.setAttributeValue("cache-manager",t)}}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/cache/cached-fragment-tag",function(e,r,n,c,a){"use strict";n.exports={render:function(e,r){var n=e.cacheKey;if(!n)throw new Error("cache-key is required for <cached-fragment>");var c=e.cacheManager,a=c.getCache(e.cacheName||"marko/cached-fragment"),o=r.beginAsync();a.get(n,{builder:function(n){var c=r.createOut();e.renderBody&&e.renderBody(c),c.on("error",n).on("finish",function(e){n(null,e.getOutput())}),c.end()}},function(e,r){if(e)return o.error(e);if(r.$__cloneNode){for(var n=r.firstChild;n;)o.node(n.$__cloneNode()),n=n.nextSibling;o.end()}else o.end(r)})}}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/assign-tag", function(require, exports, module, __filename, __dirname) { module.exports = function codeGenerator(elNode, generator) {
    var attributes = elNode.attributes;

    if (!attributes) {
        generator.addError('Invalid <assign> tag. Argument is missing. Example; <assign x=123 />');
        return elNode;
    }

    var builder = generator.builder;

    return attributes.map((attr) => {
        if (attr.value == null) {
            return builder.parseExpression(attr.name);
        } else {
            return builder.assignment(attr.name, attr.value);
        }
    });
};
});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/class-tag",function(t,a,e,o,r){e.exports=function(t,a){return"TemplateRoot"!==t.parentNode.type&&a.addError("class is a static tag and can only be declared at the template root"),a.addStaticCode(a.builder.expression(t.tagString)),null}});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/tokenizer", function(require, exports, module, __filename, __dirname) { 'use strict';

function create(tokens) {
    function getToken(matches) {
        for (var i=0; i<tokens.length; i++) {
            let tokenValue = matches[i + 1];
            if (tokenValue != null) {
                var tokenDef = tokens[i];
                return {
                    start: matches.index,
                    end: matches.index + matches[0].length,
                    name: tokenDef.name,
                    value: tokenValue
                };
            }
        }
    }

    var tokensRegExp = new RegExp(tokens
        .map((token) => {
            return '(' + token.pattern.source + ')';
        })
        .join('|'), 'g');

    return {
        forEachToken: function(value, callback, thisObj) {
            tokensRegExp.lastIndex = 0; // Start searching from the beginning again
            var matches;
            while ((matches = tokensRegExp.exec(value))) {
                let token = getToken(matches);
                callback.call(this, token);
            }
        }
    };
}

exports.create = create;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/removeComments", function(require, exports, module, __filename, __dirname) { 'use strict';
var tokenizer = require('/marko$4.0.0-rc.12/compiler/util/tokenizer'/*'./tokenizer'*/).create([
    {
        name: 'stringDouble',
        pattern: /"(?:[^"]|\\")*"/,
    },
    {
        name: 'stringSingle',
        pattern: /'(?:[^']|\\')*'/
    },
    {
        name: 'singleLineComment',
        pattern: /\/\/.*/
    },
    {
        name: 'multiLineComment',
        pattern: /\/\*(?:[\s\S]*?)\*\//
    }
]);

/**
 * Parses a for loop string in the following forms:
 *
 * <varName> in <expression>
 * <varName> in <expression> | status-var=<varName> separator=<expression>
 * <varName> from <expression> to <expression>
 * <varName> from <expression> to <expression> step <expression>
 * <init>; <test>; <update>
 */
module.exports = function removeComments(str) {

    var comments = [];

    tokenizer.forEachToken(str, (token) => {
        switch(token.name) {
            case 'singleLineComment':
            case 'multiLineComment':
                comments.push(token);
                break;
        }
    });

    var len = comments.length;

    if (len) {
        for (var i=len-1; i>=0; i--) {
            var comment = comments[i];
            str = str.substring(0, comment.start) + str.substring(comment.end);
        }
    }

    return str;
};
});
$_mod.installed("marko$4.0.0-rc.12","assert","1.3.0");
$_mod.main("/assert$1.3.0","assert");
$_mod.installed("assert$1.3.0","util","0.10.3");
$_mod.main("/util$0.10.3","util");
$_mod.installed("util$0.10.3","process","0.10.1");
$_mod.remap("/util$0.10.3/support/isBuffer","/util$0.10.3/support/isBufferBrowser");
$_mod.def("/util$0.10.3/support/isBufferBrowser",function(o,t,f,n,e){f.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8}});
$_mod.installed("util$0.10.3","inherits","2.0.1");
$_mod.main("/inherits$2.0.1","inherits");
$_mod.remap("/inherits$2.0.1/inherits","/inherits$2.0.1/inherits_browser");
$_mod.def("/inherits$2.0.1/inherits_browser",function(t,e,o,r,n){"function"==typeof Object.create?o.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:o.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}});
$_mod.def("/util$0.10.3/util",function(e,t,n,r,i){function o(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function c(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,n,r){if(e.customInspect&&n&&D(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return O(i)||(i=l(e,i,r)),i}var o=a(e,n);if(o)return o;var u=Object.keys(n),c=s(u);if(e.showHidden&&(u=Object.getOwnPropertyNames(n)),E(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(n);if(0===u.length){if(D(n)){var h=n.name?": "+n.name:"";return e.stylize("[Function"+h+"]","special")}if(z(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return f(n)}var b="",m=!1,v=["{","}"];if(d(n)&&(m=!0,v=["[","]"]),D(n)){var S=n.name?": "+n.name:"";b=" [Function"+S+"]"}if(z(n)&&(b=" "+RegExp.prototype.toString.call(n)),x(n)&&(b=" "+Date.prototype.toUTCString.call(n)),E(n)&&(b=" "+f(n)),0===u.length&&(!m||0==n.length))return v[0]+b+v[1];if(r<0)return z(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var j;return j=m?p(e,n,r,c,u):u.map(function(t){return g(e,n,r,c,t,m)}),e.seen.pop(),y(j,b,v)}function a(e,t){if(j(t))return e.stylize("undefined","undefined");if(O(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],u=0,c=t.length;u<c;++u)J(t,String(u))?o.push(g(e,t,n,r,String(u),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(g(e,t,n,r,i,!0))}),o}function g(e,t,n,r,i,o){var u,c,s;if(s=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},s.get?c=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(c=e.stylize("[Setter]","special")),J(r,i)||(u="["+i+"]"),c||(e.seen.indexOf(s.value)<0?(c=b(n)?l(e,s.value,null):l(e,s.value,n-1),c.indexOf("\n")>-1&&(c=o?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n"))):c=e.stylize("[Circular]","special")),j(u)){if(o&&i.match(/^\d+$/))return c;u=JSON.stringify(""+i),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+c}function y(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function b(e){return null===e}function m(e){return null==e}function v(e){return"number"==typeof e}function O(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function j(e){return void 0===e}function z(e){return w(e)&&"[object RegExp]"===$(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===$(e)}function E(e){return w(e)&&("[object Error]"===$(e)||e instanceof Error)}function D(e){return"function"==typeof e}function N(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function $(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function _(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function J(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=e("process"),B=/%[sdj%]/g;t.format=function(e){if(!O(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,u=String(e).replace(B,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),c=r[n];n<i;c=r[++n])u+=b(c)||!w(c)?" "+c:" "+o(c);return u},t.deprecate=function(e,n){function r(){if(!i){if(R.throwDeprecation)throw new Error(n);R.traceDeprecation?console.trace(n):console.error(n),i=!0}return e.apply(this,arguments)}if(j(global.process))return function(){return t.deprecate(e,n).apply(this,arguments)};if(R.noDeprecation===!0)return e;var i=!1;return r};var H,U={};t.debuglog=function(e){if(j(H)&&(H=R.env.NODE_DEBUG||""),e=e.toUpperCase(),!U[e])if(new RegExp("\\b"+e+"\\b","i").test(H)){var n=R.pid;U[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else U[e]=function(){};return U[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=b,t.isNullOrUndefined=m,t.isNumber=v,t.isString=O,t.isSymbol=S,t.isUndefined=j,t.isRegExp=z,t.isObject=w,t.isDate=x,t.isError=E,t.isFunction=D,t.isPrimitive=N,t.isBuffer=e("/util$0.10.3/support/isBufferBrowser");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",_(),t.format.apply(t,arguments))},t.inherits=e("/inherits$2.0.1/inherits_browser"),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}});
$_mod.def("/assert$1.3.0/assert",function(t,e,r,n,i){function o(t,e){return E.isUndefined(e)?""+e:E.isNumber(e)&&!isFinite(e)?e.toString():E.isFunction(e)||E.isRegExp(e)?e.toString():e}function a(t,e){return E.isString(t)?t.length<e?t:t.slice(0,e):t}function s(t){return a(JSON.stringify(t.actual,o),128)+" "+t.operator+" "+a(JSON.stringify(t.expected,o),128)}function u(t,e,r,n,i){throw new x.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function c(t,e){t||u(t,!0,e,"==",x.ok)}function l(t,e){if(t===e)return!0;if(E.isBuffer(t)&&E.isBuffer(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return E.isDate(t)&&E.isDate(e)?t.getTime()===e.getTime():E.isRegExp(t)&&E.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:E.isObject(t)||E.isObject(e)?p(t,e):t==e}function f(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function p(t,e){if(E.isNullOrUndefined(t)||E.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(E.isPrimitive(t)||E.isPrimitive(e))return t===e;var r=f(t),n=f(e);if(r&&!n||!r&&n)return!1;if(r)return t=d.call(t),e=d.call(e),l(t,e);var i,o,a=q(t),s=q(e);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),o=a.length-1;o>=0;o--)if(a[o]!=s[o])return!1;for(o=a.length-1;o>=0;o--)if(i=a[o],!l(t[i],e[i]))return!1;return!0}function g(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||e.call({},t)===!0)}function h(t,e,r,n){var i;E.isString(r)&&(n=r,r=null);try{e()}catch(t){i=t}if(n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&u(i,r,"Missing expected exception"+n),!t&&g(i,r)&&u(i,r,"Got unwanted exception"+n),t&&i&&r&&!g(i,r)||!t&&i)throw i}var E=t("/util$0.10.3/util"),d=Array.prototype.slice,m=Object.prototype.hasOwnProperty,x=r.exports=c;x.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=s(this),this.generatedMessage=!0);var e=t.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=e.name,o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},E.inherits(x.AssertionError,Error),x.fail=u,x.ok=c,x.equal=function(t,e,r){t!=e&&u(t,e,r,"==",x.equal)},x.notEqual=function(t,e,r){t==e&&u(t,e,r,"!=",x.notEqual)},x.deepEqual=function(t,e,r){l(t,e)||u(t,e,r,"deepEqual",x.deepEqual)},x.notDeepEqual=function(t,e,r){l(t,e)&&u(t,e,r,"notDeepEqual",x.notDeepEqual)},x.strictEqual=function(t,e,r){t!==e&&u(t,e,r,"===",x.strictEqual)},x.notStrictEqual=function(t,e,r){t===e&&u(t,e,r,"!==",x.notStrictEqual)},x.throws=function(t,e,r){h.apply(this,[!0].concat(d.call(arguments)))},x.doesNotThrow=function(t,e){h.apply(this,[!1].concat(d.call(arguments)))},x.ifError=function(t){if(t)throw t};var q=Object.keys||function(t){var e=[];for(var r in t)m.call(t,r)&&e.push(r);return e}});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Container", function(require, exports, module, __filename, __dirname) { 'use strict';

class Container {
    constructor(node) {
        this.node = node;
    }

    toJSON() {
        return this.items;
    }
}

module.exports = Container;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ArrayContainer", function(require, exports, module, __filename, __dirname) { 'use strict';

var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var isArray = Array.isArray;
var Container = require('/marko$4.0.0-rc.12/compiler/ast/Container'/*'./Container'*/);

class ArrayContainer extends Container {
    constructor(node, array) {
        super(node);
        this.items = array;
    }

    forEach(callback, thisObj) {
        var array = this.array.concat([]);
        for (var i=0; i<array.length; i++) {
            var item = array[i];
            if (item.container === this) {
                callback.call(thisObj, item, i);
            }
        }
    }

    replaceChild(newChild, oldChild) {
        ok(newChild, '"newChild" is required"');

        var array = this.array;
        var len = array.length;
        for (var i=0; i<len; i++) {
            var curChild = array[i];
            if (curChild === oldChild) {
                array[i] = newChild;
                oldChild.detach();
                newChild.container = this;
                return true;
            }
        }

        return false;
    }

    removeChild(child) {
        var childIndex = this.array.indexOf(child);
        if (childIndex !== -1) {
            this.array.splice(childIndex, 1);
            child.detach();
            return true;
        } else {
            return false;
        }
    }

    prependChild(newChild) {
        ok(newChild, '"newChild" is required"');
        this.array.unshift(newChild);
        newChild.container = this;
    }

    appendChild(newChild) {
        ok(newChild, '"newChild" is required"');
        newChild.detach();
        this.array.push(newChild);
        newChild.container = this;
    }

    insertChildBefore(newChild, referenceNode) {
        ok(newChild, '"newChild" is required"');
        ok(referenceNode, 'Invalid reference child');

        var array = this.array;
        var len = array.length;
        for (var i=0; i<len; i++) {
            var curChild = array[i];
            if (curChild === referenceNode) {
                array.splice(i, 0, newChild);
                newChild.container = this;
                return;
            }
        }

        throw new Error('Reference node not found');
    }

    insertChildAfter(newChild, referenceNode) {
        ok(newChild, '"newChild" is required"');
        ok(referenceNode, 'Invalid reference child');

        var array = this.array;
        var len = array.length;
        for (var i=0; i<len; i++) {
            var curChild = array[i];
            if (curChild === referenceNode) {
                array.splice(i+1, 0, newChild);
                newChild.container = this;
                return;
            }
        }

        throw new Error('Reference node not found');
    }

    moveChildrenTo(target) {
        ok(target.appendChild, 'Node does not support appendChild(node): ' + target);

        var array = this.array;
        var len = array.length;
        for (var i=0; i<len; i++) {
            var curChild = array[i];
            curChild.container = null; // Detach the child from this container
            target.appendChild(curChild);
        }

        this.array.length = 0; // Clear out this container
    }

    getPreviousSibling(node) {
        if (node.container !== this) {
            throw new Error('Node does not belong to container: ' + node);
        }
        var array = this.array;

        for (var i=0; i<array.length; i++) {
            var curNode = array[i];
            if (curNode.container !== this) {
                continue;
            }

            if (curNode === node) {
                return i-1 >= 0 ? array[i+1] : undefined;
            }
        }
    }

    getNextSibling(node) {
        if (node.container !== this) {
            throw new Error('Node does not belong to container: ' + node);
        }
        var array = this.array;

        for (var i=0; i<array.length; i++) {
            var curNode = array[i];
            if (curNode.container !== this) {
                continue;
            }

            if (curNode === node) {
                return i+1 < array.length ? array[i+1] : undefined;
            }
        }
    }

    forEachNextSibling(node, callback, thisObj) {
        if (node.container !== this) {
            throw new Error('Node does not belong to container: ' + node);
        }
        var array = this.array.concat([]);
        var found = false;

        for (var i=0; i<array.length; i++) {
            var curNode = array[i];
            if (curNode.container !== this) {
                continue;
            }
            if (found) {
                if (curNode.container === this) {
                    var keepGoing = callback.call(thisObj, curNode) !== false;
                    if (!keepGoing) {
                        return;
                    }
                }
            } else if (curNode === node) {
                found = true;
                continue;
            }
        }
    }

    get firstChild() {
        return this.array[0];
    }

    get length() {
        return this.array.length;
    }

    get items() {
        return this.array;
    }

    set items(newItems) {
        if (newItems) {
            ok(isArray(newItems), 'Invalid array');

            for (let i=0; i<newItems.length; i++) {
                newItems[i].container = this;
            }
        }
        this.array = newItems || [];
    }
}

module.exports = ArrayContainer;
});
$_mod.installed("marko$4.0.0-rc.12","util","0.10.3");
$_mod.installed("marko$4.0.0-rc.12","events","1.1.1");
$_mod.main("/events$1.1.1","events");
$_mod.def("/events$1.1.1/events",function(e,t,s,n,i){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function h(e){return"number"==typeof e}function v(e){return"object"==typeof e&&null!==e}function l(e){return void 0===e}s.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!h(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,s,n,i,r,h;if(this._events||(this._events={}),"error"===e&&(!this._events.error||v(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(s=this._events[e],l(s))return!1;if(o(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),s.apply(this,i)}else if(v(s))for(i=Array.prototype.slice.call(arguments,1),h=s.slice(),n=h.length,r=0;r<n;r++)h[r].apply(this,i);return!0},r.prototype.addListener=function(e,t){var s;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?v(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,v(this._events[e])&&!this._events[e].warned&&(s=l(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function s(){this.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var n=!1;return s.listener=t,this.on(e,s),this},r.prototype.removeListener=function(e,t){var s,n,i,r;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=this._events[e],i=s.length,n=-1,s===t||o(s.listener)&&s.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(v(s)){for(r=i;r-- >0;)if(s[r]===t||s[r].listener&&s[r].listener===t){n=r;break}if(n<0)return this;1===s.length?(s.length=0,delete this._events[e]):s.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,s;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s=this._events[e],o(s))this.removeListener(e,s);else if(s)for(;s.length;)this.removeListener(e,s[s.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Node", function(require, exports, module, __filename, __dirname) { 'use strict';
var Container = require('/marko$4.0.0-rc.12/compiler/ast/Container'/*'./Container'*/);
var ArrayContainer = require('/marko$4.0.0-rc.12/compiler/ast/ArrayContainer'/*'./ArrayContainer'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var extend = require('/raptor-util$3.1.0/extend'/*'raptor-util/extend'*/);
var inspect = require('/util$0.10.3/util'/*'util'*/).inspect;
var EventEmitter = require('/events$1.1.1/events'/*'events'*/).EventEmitter;

function trim(textNode) {
    if (textNode.preserveWhitespace === true) {
        return;
    }

    var text = textNode.argument.value;
    var isFirst = textNode.isFirst;
    var isLast = textNode.isLast;

    if (isFirst) {
        //First child
        text = text.replace(/^\r?\n\s*/g, '');
    }
    if (isLast) {
        //Last child
        text = text.replace(/\r?\n\s*$/g, '');
    }
    if (/^\r?\n\s*$/.test(text)) {
        //Whitespace between elements
        text = '';
    }
    text = text.replace(/\s+/g, ' ');
    textNode.argument.value = text;
}

class Node {
    constructor(type) {
        this.type = type;
        this.statement = false;
        this.container = null;
        this.pos = null; // The character index of the node in the original source file
        this.tagDef = null; // The tag definition associated with this Node
        this._codeGeneratorFuncs = null;
        this._flags = {};
        this._transformersApplied = {};
        this._preserveWhitespace = null;
        this._events = null;
        this._childTextNormalized = undefined;
        this.data = {};
        this._finalNode = false;
        this._trimStartEnd = false;
    }

    on(event, listener) {
        if (!this._events) {
            this._events = new EventEmitter();
        }

        this._events.on(event, listener);
    }

    emit(event, args) {
        if (this._events) {
            this._events.emit.apply(this._events, arguments);
        }
    }

    listenerCount(event) {
        if (this._events) {
            return this._events.listenerCount(event);
        } else {
            return 0;
        }
    }

    onBeforeGenerateCode(listener) {
        this.on('beforeGenerateCode', listener);
    }

    onAfterGenerateCode(listener) {
        this.on('afterGenerateCode', listener);
    }

    wrapWith(wrapperNode) {
        ok(this.container, 'Node does not belong to a container: ' + this);
        var replaced = this.container.replaceChild(wrapperNode, this);
        ok(replaced, 'Invalid state. Child does not belong to the container');
        wrapperNode.appendChild(this);
    }

    replaceWith(newNode) {
        ok(this.container, 'Node does not belong to a container: ' + this);
        var replaced = this.container.replaceChild(newNode, this);
        ok(replaced, 'Invalid state. Child does not belong to the container');
    }

    insertSiblingBefore(newNode) {
        ok(this.container, 'Node does not belong to a container: ' + this);
        this.container.insertChildBefore(newNode, this);
    }

    insertSiblingAfter(newNode) {
        ok(this.container, 'Node does not belong to a container: ' + this);
        this.container.insertChildAfter(newNode, this);
    }

    /**
     * Converts the provided `array` into a `ArrayContainer`. If the provided `array` is already an instance of a `Container` then it is simply returned.
     * @param  {[type]} array [description]
     * @return {[type]}       [description]
     */
    makeContainer(array) {
        if (array instanceof Container) {
            return array;
        }

        return new ArrayContainer(this, array);
    }

    prependChild(node) {
        ok(this.body, 'Node does not support child nodes: ' + this);
        this.body.prependChild(node);
    }

    appendChild(node) {
        ok(this.body, 'Node does not support child nodes: ' + this);
        this.body.appendChild(node);
    }

    insertBefore(newNode, referenceNode) {
        ok(this.body, 'Node does not support child nodes: ' + this);
        this.body.insertBefore(newNode, referenceNode);
    }

    forEachChild(callback, thisObj) {
        if (this.body) {
            this.body.forEach(callback, thisObj);
        }
    }

    moveChildrenTo(targetNode) {
        ok(this.body, 'Node does not support child nodes: ' + this);
        ok(this !== targetNode, 'Target node cannot be the same as the source node');

        this.body.moveChildrenTo(targetNode);
    }

    forEachNextSibling(callback, thisObj) {
        var container = this.container;

        if (container) {
            container.forEachNextSibling(this, callback, thisObj);
        }
    }

    get firstChild() {
        var body = this.body;
        return body && body.firstChild;
    }

    get previousSibling() {
        var container = this.container;

        if (container) {
            container.getPreviousSibling(this);
        }
    }

    get nextSibling() {
        var container = this.container;

        if (container) {
            container.getNextSibling(this);
        }
    }

    isTransformerApplied(transformer) {
        return this._transformersApplied[transformer.id] === true;
    }

    setTransformerApplied(transformer) {
        this._transformersApplied[transformer.id] = true;
    }

    toString() {
        return inspect(this);
    }

    toJSON() {
        let result = extend({}, this);
        delete result.container;
        delete result.statement;
        delete result.pos;
        delete result._transformersApplied;
        delete result._codeGeneratorFuncs;
        delete result._flags;
        delete result.data;
        delete result.tagDef;
        delete result._preserveWhitespace;
        delete result._events;
        delete result._finalNode;
        delete result._trimStartEnd;
        delete result._childTextNormalized;
        return result;
    }

    detach() {
        if (this.container) {
            this.container.removeChild(this);
            this.container = null;
        }
    }

    /**
     * Returns true if the current node represents a compound expression (e.g. )
     * @return {Boolean} [description]
     */
    isCompoundExpression() {
        return false;
    }

    isDetached() {
        return this.container == null;
    }

    /**
     * Used by the Node.js require('util').inspect function.
     * We default to inspecting on the simplified version
     * of this node that is the same version we use when
     * serializing to JSON.
     */
    inspect(depth, opts) {
        // We inspect in the simplified version of this object t
        return this.toJSON();
    }

    setType(newType) {
        this.type = newType;
    }

    setCodeGenerator(mode, codeGeneratorFunc) {
        if (arguments.length === 1) {
            codeGeneratorFunc = arguments[0];
            mode = null;
        }

        if (!this._codeGeneratorFuncs) {
            this._codeGeneratorFuncs = {};
        }
        this._codeGeneratorFuncs[mode || 'DEFAULT'] = codeGeneratorFunc;
    }

    getCodeGenerator(mode) {
        if (this._codeGeneratorFuncs) {
            return this._codeGeneratorFuncs[mode] || this._codeGeneratorFuncs.DEFAULT;
        } else {
            return undefined;
        }
    }

    setFlag(name) {
        this._flags[name] = true;
    }

    clearFlag(name) {
        delete this._flags[name];
    }

    isFlagSet(name) {
        return this._flags.hasOwnProperty(name);
    }

    get bodyText() {
        var bodyText = '';

        this.forEachChild((child) => {
            if (child.type === 'Text') {
                var childText = child.argument;
                if (childText && childText.type === 'Literal') {
                    bodyText += childText.value;
                }
            }
        });

        return bodyText;
    }

    get parentNode() {
        return this.container && this.container.node;
    }

    setPreserveWhitespace(isPreserved) {
        this._preserveWhitespace = isPreserved;
    }

    isPreserveWhitespace() {
        var preserveWhitespace = this._preserveWhitespace;
        if (preserveWhitespace == null) {
            preserveWhitespace = this.tagDef && this.tagDef.preserveWhitespace;
        }

        return preserveWhitespace === true;
    }

    setFinalNode(isFinal) {
        this._finalNode = true;
    }

    setTrimStartEnd(trimStartEnd) {
        this._trimStartEnd = trimStartEnd;
    }

    _normalizeChildTextNodes(context, forceTrim) {
        if (this._childTextNormalized) {
            return;
        }

        this._childTextNormalized = true;

        var trimStartEnd = this._trimStartEnd === true;

        var isPreserveWhitespace = false;

        if (!forceTrim) {
            if (context.isPreserveWhitespace() || this.preserveWhitespace === true || this.isPreserveWhitespace()) {
                isPreserveWhitespace = true;
            }
        }


        if (isPreserveWhitespace && trimStartEnd !== true) {
            return;
        }

        var body = this.body;
        if (!body) {
            return;
        }

        var isFirst = true;

        var currentTextLiteral = null;
        var literalTextNodes = [];

        body.forEach((curChild, i) => {
            if (curChild.noOutput) {
                // Skip over AST nodes that produce no HTML output
                return;
            }

            if (curChild.type === 'Text' && curChild.isLiteral()) {
                curChild.isFirst  = null;
                curChild.isLast  = null;

                if (currentTextLiteral &&
                        currentTextLiteral.preserveWhitespace === curChild.preserveWhitespace &&
                        currentTextLiteral.escape === curChild.escape) {
                    currentTextLiteral.argument.value += curChild.argument.value;
                    curChild.detach();
                } else {
                    currentTextLiteral = curChild;
                    literalTextNodes.push(currentTextLiteral);
                    if (isFirst) {
                        currentTextLiteral.isFirst = true;
                    }
                }
            } else {
                currentTextLiteral = null;
            }

            isFirst = false;
        });

        if (currentTextLiteral) {
            // Last child text
            currentTextLiteral.isLast = true;
        }

        if (trimStartEnd) {
            if (literalTextNodes.length) {
                // We will only trim the first and last nodes
                var firstTextNode = literalTextNodes[0];
                var lastTextNode = literalTextNodes[literalTextNodes.length - 1];

                if (firstTextNode.isFirst) {
                    firstTextNode.argument.value = firstTextNode.argument.value.replace(/^\s*/, '');
                }

                if (lastTextNode.isLast) {
                    lastTextNode.argument.value = lastTextNode.argument.value.replace(/\s*$/, '');
                }
            }
        }

        if (!isPreserveWhitespace) {
            literalTextNodes.forEach(trim);
        }

        literalTextNodes.forEach((textNode) => {
            if (textNode.argument.value === '') {
                textNode.detach();
            }
        });
    }

    get childCount() {
        ok(this.body, 'Node does not support child nodes: ' + this);
        return this.body.length;
    }
}

module.exports = Node;

});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/javaScriptReservedWords",function(e,t,a,i,o){a.exports={abstract:!0,arguments:!0,await:!0,boolean:!0,break:!0,byte:!0,case:!0,catch:!0,char:!0,class:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,double:!0,else:!0,"enum*":!0,eval:!0,export:!0,extends:!0,false:!0,final:!0,finally:!0,float:!0,for:!0,function:!0,goto:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,int:!0,interface:!0,let:!0,long:!0,native:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,short:!0,static:!0,super:!0,switch:!0,synchronized:!0,this:!0,throw:!0,throws:!0,transient:!0,true:!0,try:!0,typeof:!0,var:!0,void:!0,volatile:!0,while:!0,with:!0,yield:!0}});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/isValidJavaScriptVarName",function(r,i,a,e,t){var o=r("/marko$4.0.0-rc.12/compiler/util/javaScriptReservedWords"),c=/^[$A-Z_][0-9A-Z_$]*$/i;a.exports=function(r){return!o[r]&&c.test(r)}});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Literal", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var isArray = Array.isArray;
const isValidJavaScriptVarName = require('/marko$4.0.0-rc.12/compiler/util/isValidJavaScriptVarName'/*'../util/isValidJavaScriptVarName'*/);

function walkValue(value, walker) {
    if (!value) {
        return value;
    } else if (value instanceof Node) {
        return walker.walk(value);
    } else if (isArray(value)) {
        let array = value;
        for (let i=0; i<array.length; i++) {
            let el = array[i];
            array[i] = walkValue(el, walker);
        }
        return array;
    } else if (typeof value === 'object') {
        let object = value;

        let keys = Object.keys(object);
        for (let i=0; i<keys.length; i++) {
            let key = keys[i];
            let oldValue = object[key];
            let newValue = walkValue(oldValue, walker);
            if (newValue !== oldValue) {
                object[key] = newValue;
            }
        }

        return object;
    } else {
        return value;
    }
}

class Literal extends Node {
    constructor(def) {
        super('Literal');
        this.value = def.value;
    }

    generateCode(codegen) {
        if (this.value != null) {
            if (isArray(this.value)) {
                for (var i=0; i<this.value.length; i++) {
                    this.value[i] = codegen.generateCode(this.value[i]);
                }
            } else if (typeof this.value === 'object') {
                if (!(this.value instanceof RegExp)) {
                    var newObject = {};
                    for (var k in this.value) {
                        if (this.value.hasOwnProperty(k)) {
                            newObject[k] = codegen.generateCode(this.value[k]);
                        }
                    }
                    this.value = newObject;
                }
            }
        }
        return this;
    }

    writeCode(writer) {
        var value = this.value;
        writer.writeLiteral(value);
    }

    toString() {
        var value = this.value;
        if (value === null) {
            return 'null';
        } else if (value === undefined) {
            return 'undefined';
        } else if (typeof value === 'string') {
            return JSON.stringify(value);
        } else if (value === true) {
            return 'true';
        } else if (value === false) {
            return 'false';
        }  else if (isArray(value)) {
            return '[' + value.join(', ') + ']';
        } else if (typeof value === 'number') {
            return value.toString();
        } else if (value instanceof RegExp) {
            return value.toString();
        } else if (typeof value === 'object') {
            let keys = Object.keys(value);
            if (keys.length === 0) {
                return '{}';
            }

            var result = '{ ';

            for (let i=0; i<keys.length; i++) {
                let k = keys[i];
                let v = value[k];

                if (i !== 0) {
                    result += ', ';
                }

                if (isValidJavaScriptVarName(k)) {
                    result += k + ': ';
                } else {
                    result += JSON.stringify(k) + ': ';
                }

                result += v;
            }

            return result + ' }';
        }
    }

    walk(walker) {
        walkValue(this.value, walker);
    }
}

module.exports = Literal;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Identifier", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class Identifier extends Node {
    constructor(def) {
        super('Identifier');
        this.name = def ? def.name : undefined;
    }

    generateCode(codegen) {
        return this;
    }

    writeCode(writer) {
        var name = this.name;
        writer.write(name);
    }

    toString() {
        return this.name;
    }
}

module.exports = Identifier;
});
$_mod.main("/marko$4.0.0-rc.12/compiler/ast/HtmlElement","");
$_mod.main("/marko$4.0.0-rc.12/compiler/ast/HtmlAttribute","");
$_mod.def("/marko$4.0.0-rc.12/compiler/Walker", function(require, exports, module, __filename, __dirname) { 'use strict';
var isArray = Array.isArray;
var Container = require('/marko$4.0.0-rc.12/compiler/ast/Container'/*'./ast/Container'*/);

function noop() {}

class Walker {
    constructor(options) {
        this._enter = options.enter || noop;
        this._exit = options.exit || noop;
        this._enterArray = options.enterArray || noop;
        this._exitArray = options.exitArray || noop;
        this._stopped = false;
        this._reset();
        this._stack = [];
    }

    _reset() {
        this._skipped = false;
        this._replaced = undefined;
        this._removed = false;
    }

    skip() {
        this._skipped = true;
    }

    stop() {
        this._stopped = true;
    }

    replace(newNode) {
        this._replaced = newNode;
    }

    remove() {
        this._removed = true;
    }

    _walkArray(array) {
        var hasRemoval = false;

        array = this._enterArray(array) || array;

        array.forEach((node, i) => {
            var transformed = this.walk(node);
            if (transformed == null) {
                array[i] = null;
                hasRemoval = true;
            } else if (transformed !== node) {
                array[i] = transformed;
            }
        });

        if (hasRemoval) {
            for (let i=array.length-1; i>=0; i--) {
                if (array[i] == null) {
                    array.splice(i, 1);
                }
            }
        }

        array = this._exitArray(array) || array;

        return array;
    }

    _walkContainer(nodes) {
        nodes.forEach((node) => {
            var transformed = this.walk(node);
            if (!transformed) {
                node.container.removeChild(node);
            } else if (transformed !== node) {
                node.container.replaceChild(transformed, node);
            }
        });
    }

    walk(node) {
        if (!node || this._stopped || typeof node === 'string') {
            return node;
        }

        this._reset();

        var parent = this._stack.length ? this._stack[this._stack.length - 1] : undefined;

        this._stack.push(node);

        var replaced = this._enter(node, parent);
        if (replaced === undefined) {
            replaced = this._replaced;
        }

        if (this._removed) {
            replaced = null;
        }

        if (replaced !== undefined) {
            this._stack.pop();
            return replaced;
        }

        if (this._skipped || this._stopped) {
            this._stack.pop();
            return node;
        }

        if (isArray(node)) {
            let array = node;
            let newArray = this._walkArray(array);
            this._stack.pop();
            return newArray;
        } else if (node instanceof Container) {
            let container = node;
            this._walkContainer(container);
            this._stack.pop();
            return container;
        } else {
            if (node.walk) {
                node.walk(this);
            }
        }

        if (this._stopped) {
            this._stack.pop();
            return node;
        }

        this._reset();

        replaced = this._exit(node, parent);
        if (replaced === undefined) {
            replaced = this._replaced;
        }

        if (this._removed) {
            replaced = null;
        }

        if (replaced !== undefined) {
            this._stack.pop();
            return replaced;
        }

        this._stack.pop();
        return node;
    }
}

module.exports = Walker;


});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/AttributePlaceholder", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class AttributePlaceholder extends Node {
    constructor(def) {
        super('AttributePlaceholder');
        this.value = def.value;
        this.escape = def.escape;
    }

    generateCode(codegen) {
        this.value = codegen.generateCode(this.value);
        return this;
    }

    writeCode(writer) {
        writer.write(this.value);
    }

    walk(walker) {
        this.value = walker.walk(this.value);
    }

    isCompoundExpression() {
        return this.value.isCompoundExpression();
    }

    /**
     * "noOutput" should be true if the Node.js does not result in any HTML or Text output
     */
    get noOutput() {
        return this.value.noOutput;
    }
}

module.exports = AttributePlaceholder;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/replacePlaceholderEscapeFuncs",function(e,a,r,l,c){var n=e("/marko$4.0.0-rc.12/compiler/ast/AttributePlaceholder");r.exports=function(e,a){var r=a.createWalker({exit:function(e,a){if("FunctionCall"===e.type&&"Identifier"===e.callee.type){if("$noEscapeXml"===e.callee.name)return new n({escape:!1,value:e.args[0]});if("$escapeXml"===e.callee.name)return new n({escape:!0,value:e.args[0]})}}});return r.walk(e)}});
$_mod.def("/marko$4.0.0-rc.12/compiler/Parser", function(require, exports, module, __filename, __dirname) { 'use strict';
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var replacePlaceholderEscapeFuncs = require('/marko$4.0.0-rc.12/compiler/util/replacePlaceholderEscapeFuncs'/*'./util/replacePlaceholderEscapeFuncs'*/);
var extend = require('/raptor-util$3.1.0/extend'/*'raptor-util/extend'*/);

var COMPILER_ATTRIBUTE_HANDLERS = {
    'preserve-whitespace': function(attr, context) {
        context.setPreserveWhitespace(true);
    },
    'preserve-comments': function(attr, context) {
        context.setPreserveComments(true);
    }
};

var ieConditionalCommentRegExp = /^\[if [^]*?<!\[endif\]$/;

function isIEConditionalComment(comment) {
    return ieConditionalCommentRegExp.test(comment);
}

function mergeShorthandClassNames(el, shorthandClassNames, context) {
    var builder = context.builder;
    let classNames = shorthandClassNames.map((className) => {
        return builder.parseExpression(className.value);
    });

    var classAttr = el.getAttributeValue('class');
    if (classAttr) {
        classNames.push(classAttr);
    }

    let prevClassName;

    var finalClassNames = [];

    for (var i=0; i<classNames.length; i++) {
        let className = classNames[i];
        if (prevClassName && className.type === 'Literal' && prevClassName.type === 'Literal') {
            prevClassName.value += ' ' + className.value;
        } else {
            finalClassNames.push(className);
            prevClassName = className;
        }
    }

    if (finalClassNames.length === 1) {
        el.setAttributeValue('class', finalClassNames[0]);
    } else {

        el.setAttributeValue('class', builder.functionCall(context.helper('classList'), finalClassNames));
    }
}

function getParserStateForTag(parser, el, tagDef) {
    var attributes = el.attributes;
    if (attributes) {
        for (var i=0; i<attributes.length; i++) {
            var attr = attributes[i];
            var attrName = attr.name;
            if (attrName === 'marko-body') {
                var parseMode;

                if (attr.literalValue) {
                    parseMode = attr.literalValue;
                }

                if (parseMode === 'static-text' ||
                    parseMode === 'parsed-text' ||
                    parseMode === 'html') {
                    return parseMode;
                } else {
                    parser.context.addError({
                        message: 'Value for "marko-body" should be one of the following: "static-text", "parsed-text", "html"',
                        code: 'ERR_INVALID_ATTR'
                    });
                    return;
                }
            } else if (attrName === 'template-helpers') {
                return 'static-text';
            } else if (attrName === 'marko-init') {
                return 'static-text';
            }
        }
    }

    if (tagDef) {
        var body = tagDef.body;
        if (body) {
            return body; // 'parsed-text' | 'static-text' | 'html'
        }
    }

    return null; // Default parse state
}

class Parser {
    constructor(parserImpl, options) {
        ok(parserImpl, '"parserImpl" is required');

        this.parserImpl = parserImpl;

        this.prevTextNode = null;
        this.stack = null;

        this.raw = options && options.raw === true;

        // The context gets provided when parse is called
        // but we store it as part of the object so that the handler
        // methods have access
        this.context = null;
    }

    _reset() {
        this.prevTextNode = null;
        this.stack = [];
    }

    parse(src, context) {
        ok(typeof src === 'string', '"src" should be a string');
        ok(context, '"context" is required');

        this._reset();

        this.context = context;

        var builder = context.builder;
        var rootNode = builder.templateRoot();

        this.stack.push({
            node: rootNode
        });

        this.parserImpl.parse(src, this, context.filename);

        return rootNode;
    }

    handleCharacters(text, parseMode) {
        var builder = this.context.builder;

        var escape = parseMode !== 'html';
        // NOTE: If parseMode is 'static-text' or 'parsed-text' then that means that special
        //       HTML characters may not have been escaped on the way in so we need to escape
        //       them on the way out

        if (this.prevTextNode && this.prevTextNode.isLiteral() && this.prevTextNode.escape === escape) {
            this.prevTextNode.argument.value += text;
        } else {
            this.prevTextNode = builder.text(builder.literal(text), escape);
            this.parentNode.appendChild(this.prevTextNode);
        }
    }

    handleStartElement(el, parser) {
        var context = this.context;
        var builder = context.builder;

        var tagName = el.tagName;
        var tagNameExpression = el.tagNameExpression;
        var attributes = el.attributes;
        var argument = el.argument; // e.g. For <for(color in colors)>, argument will be "color in colors"

        if (argument) {
            argument = argument.value;
        }

        var raw = this.raw;

        if (!raw) {
            if (tagNameExpression) {
                tagName = builder.parseExpression(tagNameExpression);
            } else if (tagName === 'marko-compiler-options') {
                this.parentNode.setTrimStartEnd(true);

                attributes.forEach(function (attr) {
                    let attrName = attr.name;
                    let handler = COMPILER_ATTRIBUTE_HANDLERS[attrName];

                    if (!handler) {
                        context.addError({
                            code: 'ERR_INVALID_COMPILER_OPTION',
                            message: 'Invalid Marko compiler option of "' + attrName + '". Allowed: ' + Object.keys(COMPILER_ATTRIBUTE_HANDLERS).join(', '),
                            pos: el.pos,
                            node: el
                        });
                        return;
                    }

                    handler(attr, context);
                });

                return;
            }
        }

        this.prevTextNode = null;

        var tagDef = el.tagName ? this.context.getTagDef(el.tagName) : null;

        var attributeParseErrors = [];
        // <div class="foo"> -> "div class=foo"
        var tagString = parser.substring(el.pos, el.endPos)
                              .replace(/^<|\/>$|>$/g, "").trim();

        var shouldParsedAttributes = !tagDef || tagDef.parseAttributes !== false;

        var parsedAttributes = [];

        if (shouldParsedAttributes) {
            attributes.forEach((attr) => {
                var attrValue;
                if (attr.hasOwnProperty('literalValue')) {
                    attrValue = builder.literal(attr.literalValue);
                } else if (attr.value == null) {
                    attrValue = undefined;
                } else {
                    let parsedExpression;
                    let valid = true;
                    try {
                        parsedExpression = builder.parseExpression(attr.value);
                    } catch(e) {
                        if (shouldParsedAttributes) {
                            valid = false;
                            attributeParseErrors.push('Invalid JavaScript expression for attribute "' + attr.name + '": ' + e);
                        } else {
                            // Attribute failed to parse. Skip it...
                            return;
                        }

                    }

                    if (valid) {
                        if (raw) {
                            attrValue = parsedExpression;
                        } else {
                            attrValue = replacePlaceholderEscapeFuncs(parsedExpression, context);
                        }
                    } else {
                        attrValue = null;
                    }
                }

                var attrDef = {
                    name: attr.name,
                    value: attrValue,
                    rawValue: attr.value
                };

                if (attr.argument) {
                    // TODO Do something with the argument pos
                    attrDef.argument = attr.argument.value;
                }

                parsedAttributes.push(attrDef);
            });            
        }

        var elDef = {
            tagName: tagName,
            argument: argument,
            tagString,
            openTagOnly: el.openTagOnly === true,
            selfClosed: el.selfClosed === true,
            pos: el.pos,
            attributes: parsedAttributes
        };

        var node;

        if (raw) {
            node = builder.htmlElement(elDef);
            node.pos = elDef.pos;
            node.tagDef = tagDef;
        } else {
            node = this.context.createNodeForEl(elDef);
        }

        if (attributeParseErrors.length) {

            attributeParseErrors.forEach((e) => {
                context.addError(node, e);
            });
        }

        if (raw) {
            if (el.shorthandId) {
                let parsed = builder.parseExpression(el.shorthandId.value);
                node.rawShorthandId = parsed.value;
            }

            if (el.shorthandClassNames) {
                node.rawShorthandClassNames = el.shorthandClassNames.map((className) => {
                    let parsed = builder.parseExpression(className.value);
                    return parsed.value;
                });
            }
        } else {
            if (el.shorthandClassNames) {
                mergeShorthandClassNames(node, el.shorthandClassNames, context);
            }

            if (el.shorthandId) {
                if (node.hasAttribute('id')) {
                    context.addError(node, 'A shorthand ID cannot be used in conjunction with the "id" attribute');
                } else {
                    node.setAttributeValue('id', builder.parseExpression(el.shorthandId.value));
                }
            }
        }

        this.parentNode.appendChild(node);

        this.stack.push({
            node: node,
            tag: null
        });
    }

    handleEndElement(elementName) {
        if (this.raw !== true) {
            if (elementName === 'marko-compiler-options') {
                return;
            }
        }

        this.prevTextNode = null;

        this.stack.pop();


    }

    handleComment(comment) {
        this.prevTextNode = null;

        var builder = this.context.builder;

        var preserveComment = this.context.isPreserveComments() ||
            isIEConditionalComment(comment);

        if (this.raw || preserveComment) {
            var commentNode = builder.htmlComment(builder.literal(comment));
            this.parentNode.appendChild(commentNode);
        }
    }

    handleDeclaration(value) {
        this.prevTextNode = null;

        var builder = this.context.builder;

        var declarationNode = builder.declaration(builder.literal(value));
        this.parentNode.appendChild(declarationNode);
    }

    handleDocumentType(value) {
        this.prevTextNode = null;

        var builder = this.context.builder;

        var docTypeNode = builder.documentType(builder.literal(value));
        this.parentNode.appendChild(docTypeNode);
    }

    handleBodyTextPlaceholder(expression, escape) {
        this.prevTextNode = null;
        var builder = this.context.builder;
        var parsedExpression = builder.parseExpression(expression);
        var preserveWhitespace = true;

        var text = builder.text(parsedExpression, escape, preserveWhitespace);
        this.parentNode.appendChild(text);
    }

    handleScriptlet(code) {
        this.prevTextNode = null;
        var builder = this.context.builder;
        var scriptlet = builder.scriptlet(code);
        this.parentNode.appendChild(scriptlet);
    }

    handleError(event) {
        this.context.addError({
            message: event.message,
            code: event.code,
            pos: event.pos,
            endPos: event.endPos
        });
    }

    get parentNode() {
        var last = this.stack[this.stack.length-1];
        return last.node;
    }

    getTagParseOptions(el) {
        var tagName = el.tagName;
        var tagDef = this.context.getTagDef(tagName);

        var state = getParserStateForTag(this, el, tagDef);
        var parseOptions = tagDef && tagDef.parseOptions;

        if (!state && !parseOptions) {
            return;
        }

        if (parseOptions) {
            if (state) {
                // We need to merge in the state to the returned parse options
                parseOptions = extend({ state: state }, parseOptions);
            }
        } else {
            parseOptions = { state: state };
        }

        return parseOptions;
    }

    isOpenTagOnly(tagName) {
        var tagDef = this.context.getTagDef(tagName);
        return tagDef && tagDef.openTagOnly;
    }
}

module.exports = Parser;

});
$_mod.installed("marko$4.0.0-rc.12","htmljs-parser","2.3.0");
$_mod.main("/htmljs-parser$2.3.0","");
$_mod.def("/htmljs-parser$2.3.0/BaseParser", function(require, exports, module, __filename, __dirname) { 'use strict';

var CODE_NEWLINE = 10;
var CODE_CARRIAGE_RETURN = 13;

class Parser {
    static createState(mixins) {
        return mixins;
    }

    constructor(options) {
        this.reset();
    }

    reset() {
        // current absolute character position
        this.pos = -1;

        // The maxPos property is the last absolute character position that is
        // readable based on the currently received chunks
        this.maxPos = -1;

        // the current parser state
        this.state = null;

        // The raw string that we are parsing
        this.data = this.src = null;

        this.filename = null;
    }

    setInitialState(initialState) {
        this.initialState = initialState;
    }

    enterState(state) {
        if (this.state === state) {
            // Re-entering the same state can lead to unexpected behavior
            // so we should throw error to catch these types of mistakes
            throw new Error('Re-entering the current state is illegal - ' + state.name);
        }

        var oldState;
        if ((oldState = this.state) && oldState.leave) {
            // console.log('Leaving state ' + oldState.name);
            oldState.leave.call(this, state);
        }

        // console.log('Entering state ' + state.name);

        this.state = state;

        if (state.enter) {
            state.enter.call(this, oldState);
        }
    }

    /**
     * Look ahead to see if the given str matches the substring sequence
     * beyond
     */
    lookAheadFor(str, startPos) {
        // Have we read enough chunks to read the string that we need?
        if (startPos == null) {
            startPos = this.pos + 1;
        }
        var len = str.length;
        var endPos = startPos + len;

        if (endPos > this.maxPos + 1) {
            return undefined;
        }

        var found = this.data.substring(startPos, endPos);
        return (found === str) ? str : undefined;
    }

    /**
     * Look ahead to a character at a specific offset.
     * The callback will be invoked with the character
     * at the given position.
     */
    lookAtCharAhead(offset, startPos) {
        if (startPos == null) {
            startPos = this.pos;
        }
        return this.data.charAt(startPos + offset);
    }

    lookAtCharCodeAhead(offset, startPos) {
        if (startPos == null) {
            startPos = this.pos;
        }
        return this.data.charCodeAt(startPos + offset);
    }

    rewind(offset) {
        this.pos -= offset;
    }

    skip(offset) {
        // console.log('-- ' + JSON.stringify(this.data.substring(this.pos, this.pos + offset)) + ' --  ' + 'SKIPPED'.gray);
        this.pos += offset;
    }

    end() {
        this.pos = this.maxPos + 1;
    }

    substring(pos, endPos) {
        return this.data.substring(pos, endPos);
    }

    parse(data, filename) {
        if (data == null) {
            return;
        }

        // call the constructor function again because we have a contract that
        // it will fully reset the parser
        this.reset();

        if (Array.isArray(data)) {
            data = data.join('');
        }

        this.src = data; // This is the unmodified data used for reporting warnings
        this.filename = filename;

        // Strip off the byte order mark (BOM) sequence
        // at the beginning of the file:
        // - https://en.wikipedia.org/wiki/Byte_order_mark
        // > The Unicode Standard permits the BOM in UTF-8, but does not require or recommend its use.
        if (data.charCodeAt(0) === 0xFEFF) {
    		data = data.slice(1);
    	}

        this.data = data;
        this.maxPos = data.length - 1;

        // Enter initial state
        if (this.initialState) {
            this.enterState(this.initialState);
        }

        // Move to first position
        this.pos = 0;

        if (!this.state) {
            // Cannot resume when parser has no state
            return;
        }

        var pos;
        while ((pos = this.pos) <= this.maxPos) {
            let ch = data[pos];
            let code = ch.charCodeAt(0);
            let state = this.state;

            if (code === CODE_NEWLINE) {
                if (state.eol) {
                    state.eol.call(this, ch);
                }
                this.pos++;
                continue;
            } else if (code === CODE_CARRIAGE_RETURN) {
                let nextPos = pos + 1;
                if (nextPos < data.length && data.charCodeAt(nextPos) === CODE_NEWLINE) {
                    if (state.eol) {
                        state.eol.call(this, '\r\n');
                    }
                    this.pos+=2;
                    continue;
                }
            }

            // console.log('-- ' + JSON.stringify(ch) + ' --  ' + this.state.name.gray);

            // We assume that every state will have "char" function
            state.char.call(this, ch, code);

            // move to next position
            this.pos++;
        }

        let state = this.state;
        if (state && state.eof) {
            state.eof.call(this);
        }
    }
}

module.exports = Parser;

});
$_mod.def("/htmljs-parser$2.3.0/operators", function(require, exports, module, __filename, __dirname) { var operators = exports.operators = [
    //Multiplicative Operators
    '*', '/', '%',

    //Additive Operators
    '+', '-',

    //Bitwise Shift Operators
    '<<', '>>', '>>>',

    //Relational Operators
    '<', '<=', '>', '>=',

    // Readable Operators
    // NOTE: These become reserved words and cannot be used as attribute names
    'instanceof',
    'in',
    // 'from', -- as in <import x from './file'/>
    // 'typeof', -- would need to look behind, not ahead

    // Equality Operators
    '==', '!=', '===', '!==',

    // Binary Bitwise Operators
    '&', '^', '|',

    // Binary Logical Operators
    '&&', '||',

    // Ternary Operator
    '?', ':',

    // Member
    '['
];

var unary = [
    'typeof',
    'new',
    'void'
];

// Look for longest operators first
operators.sort(function(a, b) {
    return b.length - a.length;
});

exports.longest = operators.sort((a, b) => b.length-a.length)[0].length+1;
exports.patternNext = new RegExp('^\\s*('+operators.map(escapeOperator).join('|')+')\\s*(?!-)');
exports.patternPrev = new RegExp('[^-+](?:'+operators.concat(unary).map(escapeOperator).join('|')+')(\\s*)$');


function escapeOperator(o) {
    if(/^[A-Z]+$/i.test(o)) {
        return '\\b'+escapeNonAlphaNumeric(o)+'\\b';
    }
    if(o === '/') {
        return '\\/(?:\\b|\\s)'; //make sure this isn't a comment
    }
    return escapeNonAlphaNumeric(o);
}

function escapeNonAlphaNumeric(str) {
    return str.replace(/([^\w\d])/g, '\\$1');
}

});
$_mod.def("/htmljs-parser$2.3.0/notify-util", function(require, exports, module, __filename, __dirname) { exports.createNotifiers = function(parser, listeners) {
    var hasError = false;

    return {
        notifyText(value, textParseMode) {
            if (hasError) {
                return;
            }

            var eventFunc = listeners.onText;

            if (eventFunc && (value.length > 0)) {
                eventFunc.call(parser, {
                    type: 'text',
                    value: value,
                    parseMode: textParseMode
                }, parser);
            }
        },

        notifyCDATA(value, pos, endPos) {
            if (hasError) {
                return;
            }

            var eventFunc = listeners.onCDATA;

            if (eventFunc && value) {
                eventFunc.call(parser, {
                    type: 'cdata',
                    value: value,
                    pos: pos,
                    endPos: endPos
                }, parser);
            }
        },

        notifyError(pos, errorCode, message) {
            if (hasError) {
                return;
            }

            hasError = true;

            var eventFunc = listeners.onError;

            if (eventFunc) {
                eventFunc.call(parser, {
                    type: 'error',
                    code: errorCode,
                    message: message,
                    pos: pos,
                    endPos: parser.pos
                }, parser);
            }
        },

        notifyOpenTagName(tagInfo) {
            if (hasError) {
                return;
            }

            var eventFunc = listeners.onOpenTagName;

            if (eventFunc) {
                // set the literalValue property for attributes that are simple
                // string simple values or simple literal values

                var event = {
                    type: 'openTagName',
                    tagName: tagInfo.tagName,
                    tagNameExpression: tagInfo.tagNameExpression,
                    emptyTagName: tagInfo.emptyTagName,
                    pos: tagInfo.pos,
                    endPos: tagInfo.tagNameEndPos,
                    concise: tagInfo.concise
                };

                if (tagInfo.shorthandId) {
                    event.shorthandId = tagInfo.shorthandId;
                }

                if (tagInfo.shorthandClassNames) {
                    event.shorthandClassNames = tagInfo.shorthandClassNames;
                }

                event.setParseOptions = function(parseOptions) {
                    if (!parseOptions) {
                        return;
                    }
                    tagInfo.parseOptions = parseOptions;
                };

                eventFunc.call(parser, event, parser);
            }
        },

        notifyOpenTag(tagInfo) {
            if (hasError) {
                return;
            }

            var eventFunc = listeners.onOpenTag;

            if (eventFunc) {
                // set the literalValue property for attributes that are simple
                // string simple values or simple literal values

                var event = {
                    type: 'openTag',
                    tagName: tagInfo.tagName,
                    tagNameExpression: tagInfo.tagNameExpression,
                    emptyTagName: tagInfo.emptyTagName,
                    argument: tagInfo.argument,
                    pos: tagInfo.pos,
                    endPos: tagInfo.endPos,
                    tagNameEndPos: tagInfo.tagNameEndPos,
                    openTagOnly: tagInfo.openTagOnly,
                    selfClosed: tagInfo.selfClosed,
                    concise: tagInfo.concise
                };

                if (tagInfo.shorthandId) {
                    event.shorthandId = tagInfo.shorthandId;
                }

                if (tagInfo.shorthandClassNames) {
                    event.shorthandClassNames = tagInfo.shorthandClassNames;
                }

                event.attributes = tagInfo.attributes.map((attr) => {
                    var newAttr = {
                        name: attr.name,
                        value: attr.value,
                        pos: attr.pos,
                        endPos: attr.endPos,
                        argument: attr.argument
                    };

                    if (attr.hasOwnProperty('literalValue')) {
                        newAttr.literalValue = attr.literalValue;
                    }

                    return newAttr;
                });

                event.setParseOptions = function(parseOptions) {
                    if (!parseOptions) {
                        return;
                    }
                    var newState = parseOptions.state;

                    if (newState) {
                        if (newState === 'parsed-text') {
                            parser.enterParsedTextContentState();
                        } else if (newState === 'static-text') {
                            parser.enterStaticTextContentState();
                        }
                    }

                    tagInfo.parseOptions = parseOptions;
                };

                eventFunc.call(parser, event, parser);
            }
        },

        notifyCloseTag(tagName, pos, endPos) {
            if (hasError) {
                return;
            }

            var eventFunc = listeners.onCloseTag;

            if (eventFunc) {
                var event = {
                    type: 'closeTag',
                    tagName: tagName,
                    pos: pos,
                    endPos: endPos
                };

                eventFunc.call(parser, event, parser);
            }
        },

        notifyDocumentType(documentType) {
            if (hasError) {
                return;
            }

            var eventFunc = listeners.onDocumentType;

            if (eventFunc) {
                eventFunc.call(this, {
                    type: 'documentType',
                    value: documentType.value,
                    pos: documentType.pos,
                    endPos: documentType.endPos
                }, parser);
            }
        },

        notifyDeclaration(declaration) {
            if (hasError) {
                return;
            }

            var eventFunc = listeners.onDeclaration;

            if (eventFunc) {
                eventFunc.call(parser, {
                    type: 'declaration',
                    value: declaration.value,
                    pos: declaration.pos,
                    endPos: declaration.endPos
                }, parser);
            }
        },

        notifyComment(comment) {
            if (hasError) {
                return;
            }

            var eventFunc = listeners.onComment;

            if (eventFunc && comment.value) {
                eventFunc.call(parser, {
                    type: 'comment',
                    value: comment.value,
                    pos: comment.pos,
                    endPos: comment.endPos
                }, parser);
            }
        },

        notifyScriptlet(scriptlet) {
            if (hasError) {
                return;
            }

            var eventFunc = listeners.onScriptlet;

            if (eventFunc && scriptlet.value) {
                eventFunc.call(parser, {
                    type: 'scriptlet',
                    tag: scriptlet.tag,
                    line: scriptlet.line,
                    block: scriptlet.block,
                    value: scriptlet.value,
                    pos: scriptlet.pos,
                    endPos: scriptlet.endPos
                }, parser);
            }
        },

        notifyPlaceholder(placeholder) {
            if (hasError) {
                return;
            }

            var eventFunc = listeners.onPlaceholder;
            if (eventFunc) {
                var placeholderEvent = {
                    type: 'placeholder',
                    value: placeholder.value,
                    pos: placeholder.pos,
                    endPos: placeholder.endPos,
                    escape: placeholder.escape !== false,
                    withinBody: placeholder.withinBody === true,
                    withinAttribute: placeholder.withinAttribute === true,
                    withinString: placeholder.withinString === true,
                    withinOpenTag: placeholder.withinOpenTag === true,
                    withinTagName: placeholder.withinTagName === true
                };

                eventFunc.call(parser, placeholderEvent, parser);
                return placeholderEvent.value;
            }

            return placeholder.value;
        },

        notifyFinish() {
            if (listeners.onfinish) {
                listeners.onfinish.call(parser, {}, parser);
            }
        }
    };
};
});
$_mod.installed("htmljs-parser$2.3.0","complain","1.0.0");
$_mod.main("/complain$1.0.0","");
$_mod.installed("complain$1.0.0","process","0.10.1");
$_mod.def("/complain$1.0.0/index",function(n,e,o,r,t){function c(){var n,e,o,r=arguments;if(!c.silence&&("object"==typeof r[r.length-1]?(n=r[r.length-1],r=x.call(r,0,-1)):n={},n.location===!1&&(o=!0),e=n.location||f(o),!T[e||c.caller])){T[e||c.caller]=!0;for(var t=u("WARNING!!",c.colors.warning),l=0;l<r.length;l++)t+=b+u(r[l],c.colors.message);n.location!==!1&&e&&(t+=b+u("  at "+e.replace(E,""),c.colors.location)),c.log(b+t+b)}}function l(n,e){var o=n[e],r=x.call(arguments,2);n[e]=function(){return c.apply(null,r),o.apply(this,arguments)}}function a(n){var e=x.call(arguments,1);return function(){return c.apply(null,e),n.apply(this,arguments)}}function i(n,e){var o=u(n,e);c.stream?c.stream.write(o+b):N&&N.warn(o)}function u(n,e){return e&&c.color?e+n+"[0m":n}function f(n){var e,o,r="",t=n?3:4;try{e=s(),o=e[t]||e[3],r=o.getFileName()+":"+o.getLineNumber()+":"+o.getColumnNumber()}catch(n){}return r}function s(){var n,e=p(Error,"prepareStackTrace",d);return n=(new Error).stack,e(),n}function p(n,e,o){var r=n[e];return n[e]=o,function(){n[e]=r}}function d(n,e){return e}function m(){}function y(n){return n}var g=n("process"),v="undefined"!=typeof g&&g.env.NODE_ENV,w="undefined"!=typeof g&&"win32"===g.platform,h=!v||"dev"===v||"development"===v,N="undefined"!=typeof console&&console.warn&&console,E="undefined"!=typeof g&&g.cwd()+"/"||"",b=w?"\r\n":"\n",x=[].slice,T={};c=h?c:m,c.method=h?l:m,c.fn=h?a:y,c.log=i,c.stream="undefined"!=typeof g&&g.stderr,c.silence=!1,c.color=c.stream&&c.stream.isTTY,c.colors={warning:"[31;1m",message:!1,location:"[90m"},"undefined"!=typeof o&&o.exports?o.exports=c:"undefined"!=typeof window&&(window.complain=c)});
$_mod.installed("htmljs-parser$2.3.0","char-props","0.1.5");
$_mod.main("/char-props$0.1.5","lib/charProps");
$_mod.def("/char-props$0.1.5/lib/charProps",function(n,t,r,i,e){function o(n){this.input=n;for(var t,r,i=n.split("\n"),e=0,o=i.length,u=0,a={length:o};e<o;e++)t=i[e],r=u+t.length+1,a[e]={start:u,end:r},u=r;this.lineMap=a}function u(n){var t=new o(n);return t}o.prototype={lineAt:function(n,t){t=t||{};for(var r,i=this.lineMap,e=t.minLine||0,o=i.length;e<o&&(r=i[e],!(n<r.end));e++);return e},columnAt:function(n){var t,r=this.input,i=n-1;if(n<0)return 0;for(;i>=0&&(t=r.charAt(i),"\n"!==t);i--);var e=n-i-1;return e},indexAt:function(n){var t=n.line,r=n.column,i=this.lineMap,e=i[t],o=e.start,u=o+r;return u},charAt:function(n){var t=this.indexAt(n),r=this.input,i=r.charAt(t);return i}},u.Indexer=o,r.exports=u});
$_mod.def("/htmljs-parser$2.3.0/html-tags",function(r,n,e,a,t){var o={};["base","br","col","hr","embed","img","input","keygen","link","meta","param","source","track","wbr"].forEach(function(r){o[r]=!0}),n.isOpenTagOnly=function(r){return o.hasOwnProperty(r)}});
$_mod.def("/htmljs-parser$2.3.0/Parser", function(require, exports, module, __filename, __dirname) { 'use strict';
var BaseParser = require('/htmljs-parser$2.3.0/BaseParser'/*'./BaseParser'*/);
var operators = require('/htmljs-parser$2.3.0/operators'/*'./operators'*/);
var notifyUtil = require('/htmljs-parser$2.3.0/notify-util'/*'./notify-util'*/);
var complain = require('/complain$1.0.0/index'/*'complain'*/);
var charProps = require('/char-props$0.1.5/lib/charProps'/*'char-props'*/);

function isWhitespaceCode(code) {
    // For all practical purposes, the space character (32) and all the
    // control characters below it are whitespace. We simplify this
    // condition for performance reasons.
    // NOTE: This might be slightly non-conforming.
    return (code <= 32);
}

var NUMBER_REGEX = /^[\-\+]?\d*(?:\.\d+)?(?:e[\-\+]?\d+)?$/;

/**
 * Takes a string expression such as `"foo"` or `'foo "bar"'`
 * and returns the literal String value.
 */
function evaluateStringExpression(expression, pos, notifyError) {
    // We could just use eval(expression) to get the literal String value,
    // but there is a small chance we could be introducing a security threat
    // by accidently running malicous code. Instead, we will use
    // JSON.parse(expression). JSON.parse() only allows strings
    // that use double quotes so we have to do extra processing if
    // we detect that the String uses single quotes

    if (expression.charAt(0) === "'") {
        expression = expression.substring(1, expression.length - 1);

        // Make sure there are no unescaped double quotes in the string expression...
        expression = expression.replace(/\\\\|\\[']|\\["]|["]/g, function(match) {
            if (match === "\\'"){
                // Don't escape single quotes since we are using double quotes
                return "'";
            } else if (match === '"'){
                // Return an escaped double quote if we encounter an
                // unescaped double quote
                return '\\"';
            } else {
                // Return the escape sequence
                return match;
            }
        });

        expression = '"' + expression + '"';
    }

    try {
        return JSON.parse(expression);
    } catch(e) {
        notifyError(pos,
            'INVALID_STRING',
            'Invalid string (' + expression + '): ' + e);
    }
}


function peek(array) {
    var len = array.length;
    if (!len) {
        return undefined;
    }
    return array[len - 1];
}

const MODE_HTML = 1;
const MODE_CONCISE = 2;

const CODE_BACK_SLASH = 92;
const CODE_FORWARD_SLASH = 47;
const CODE_OPEN_ANGLE_BRACKET = 60;
const CODE_CLOSE_ANGLE_BRACKET = 62;
const CODE_EXCLAMATION = 33;
const CODE_QUESTION = 63;
const CODE_OPEN_SQUARE_BRACKET = 91;
const CODE_CLOSE_SQUARE_BRACKET = 93;
const CODE_EQUAL = 61;
const CODE_SINGLE_QUOTE = 39;
const CODE_DOUBLE_QUOTE = 34;
const CODE_BACKTICK = 96;
const CODE_OPEN_PAREN = 40;
const CODE_CLOSE_PAREN = 41;
const CODE_OPEN_CURLY_BRACE = 123;
const CODE_CLOSE_CURLY_BRACE = 125;
const CODE_ASTERISK = 42;
const CODE_HYPHEN = 45;
const CODE_HTML_BLOCK_DELIMITER = CODE_HYPHEN;
const CODE_DOLLAR = 36;
const CODE_PERCENT = 37;
const CODE_PERIOD = 46;
const CODE_COMMA = 44;
const CODE_SEMICOLON = 59;
const CODE_NUMBER_SIGN = 35;

const BODY_PARSED_TEXT = 1; // Body of a tag is treated as text, but placeholders will be parsed
const BODY_STATIC_TEXT = 2;// Body of a tag is treated as text and placeholders will *not* be parsed

const EMPTY_ATTRIBUTES = [];
const htmlTags = require('/htmljs-parser$2.3.0/html-tags'/*'./html-tags'*/);

class Parser extends BaseParser {
    constructor(listeners, options) {
        super(options);

        var parser = this;

        function outputDeprecationWarning(message) {
            var srcCharProps = charProps(parser.src);
            var line = srcCharProps.lineAt(parser.pos);
            var column = srcCharProps.columnAt(parser.pos);
            var filename = parser.filename;
            var location = (filename || '(unknown file)') + ':' + line + ':' + column;
            complain(message, { location: location });
        }

        var notifiers = notifyUtil.createNotifiers(parser, listeners);
        this.notifiers = notifiers;

        var defaultMode = options && options.concise === false ? MODE_HTML : MODE_CONCISE;
        var userIsOpenTagOnly = options && options.isOpenTagOnly;
        var ignorePlaceholders = options && options.ignorePlaceholders;
        var legacyCompatibility = options.legacyCompatibility === true;

        var currentOpenTag; // Used to reference the current open tag that is being parsed
        var currentAttribute; // Used to reference the current attribute that is being parsed
        var closeTagName; // Used to keep track of the current close tag name as it is being parsed
        var closeTagPos; // Used to keep track of the position of the current closing tag
        var expectedCloseTagName; // Used to figure out when a text block has been ended (HTML tags are ignored)
        var text; // Used to buffer text that is found within the body of a tag
        var withinOpenTag;// Set to true if the parser is within the open tag
        var blockStack; // Used to keep track of HTML tags and HTML blocks
        var partStack; // Used to keep track of parts such as CDATA, expressions, declarations, etc.
        var currentPart; // The current part at the top of the part stack
        var indent; // Used to build the indent for the current concise line
        var isConcise; // Set to true if parser is currently in concise mode
        var isWithinSingleLineHtmlBlock; // Set to true if the current block is for a single line HTML block
        var htmlBlockDelimiter; // Current delimiter for multiline HTML blocks nested within a concise tag. e.g. "--"
        var htmlBlockIndent; // Used to hold the indentation for a delimited, multiline HTML block
        var beginMixedMode; // Used as a flag to mark that the next HTML block should enter the parser into HTML mode
        var endingMixedModeAtEOL; // Used as a flag to record that the next EOL to exit HTML mode and go back to concise
        var placeholderDepth; // Used as an easy way to know if an exptression is within a placeholder
        var textParseMode = 'html';

        this.reset = function() {
            BaseParser.prototype.reset.call(this);
            text = '';
            currentOpenTag = undefined;
            currentAttribute = undefined;
            closeTagName = undefined;
            closeTagPos = undefined;
            expectedCloseTagName = undefined;
            withinOpenTag = false;
            blockStack = [];
            partStack = [];
            currentPart = undefined;
            indent = '';
            isConcise = defaultMode === MODE_CONCISE;
            isWithinSingleLineHtmlBlock = false;
            htmlBlockDelimiter = null;
            htmlBlockIndent = null;
            beginMixedMode = false;
            endingMixedModeAtEOL = false;
            placeholderDepth = 0;
        };

        this.reset();

        /**
         * This function is called to determine if a tag is an "open only tag". Open only tags such as <img>
         * are immediately closed.
         * @param  {String}  tagName The name of the tag (e.g. "img")
         */
        function isOpenTagOnly(tagName) {
            if (!tagName) {
                return false;
            }

            tagName = tagName.toLowerCase();

            var openTagOnly = userIsOpenTagOnly && userIsOpenTagOnly(tagName);
            if (openTagOnly == null) {
                openTagOnly = htmlTags.isOpenTagOnly(tagName);
            }

            return openTagOnly;
        }

        /**
         * Clear out any buffered body text and notify any listeners
         */
        function endText(txt) {
            if (arguments.length === 0) {
                txt = text;
            }

            notifiers.notifyText(txt, textParseMode);

            // always clear text buffer...
            text =  '';
        }


        function openTagEOL() {
            if (isConcise && !currentOpenTag.withinAttrGroup) {
                // In concise mode we always end the open tag
                finishOpenTag();
            }
        }

        /**
         * This function is used to enter into "HTML" parsing mode instead
         * of concise HTML. We push a block on to the stack so that we know when
         * return back to the previous parsing mode and to ensure that all
         * tags within a block are properly closed.
         */
        function beginHtmlBlock(delimiter) {
            htmlBlockIndent = indent;
            htmlBlockDelimiter = delimiter;

            var parent = peek(blockStack);
            blockStack.push({
                type: 'html',
                delimiter: delimiter,
                indent: indent
            });

            if (parent && parent.body) {
                if (parent.body === BODY_PARSED_TEXT) {
                    parser.enterState(STATE_PARSED_TEXT_CONTENT);
                } else if (parent.body === BODY_STATIC_TEXT) {
                    parser.enterState(STATE_STATIC_TEXT_CONTENT);
                } else {
                    throw new Error('Illegal value for parent.body: ' + parent.body);
                }
            } else {
                return parser.enterState(STATE_HTML_CONTENT);
            }
        }

        /**
         * This method gets called when we are in non-concise mode
         * and we are exiting out of non-concise mode.
         */
        function endHtmlBlock() {
            // End any text
            endText();

            // Make sure all tags in this HTML block are closed
            for (let i=blockStack.length-1; i>=0; i--) {
                var curBlock = blockStack[i];
                if (curBlock.type === 'html') {
                    // Remove the HTML block from the stack since it has ended
                    blockStack.pop();
                    // We have reached the point where the HTML block started
                    // so we can stop
                    break;
                } else {
                    // The current block is for an HTML tag and it still open. When a tag is tag is closed
                    // it is removed from the stack
                    notifyError(curBlock.pos,
                        'MISSING_END_TAG',
                        'Missing ending "' + curBlock.tagName + '" tag');
                    return;
                }
            }

            // Resert variables associated with parsing an HTML block
            htmlBlockIndent = null;
            htmlBlockDelimiter = null;
            isWithinSingleLineHtmlBlock = false;

            if (parser.state !== STATE_CONCISE_HTML_CONTENT) {
                parser.enterState(STATE_CONCISE_HTML_CONTENT);
            }
        }

        /**
         * This function gets called when we reach EOF outside of a tag.
         */
        function htmlEOF() {
            endText();

            while(blockStack.length) {
                var curBlock = peek(blockStack);
                if (curBlock.type === 'tag') {
                    if (curBlock.concise) {
                        closeTag(curBlock.expectedCloseTagName);
                    } else {
                        // We found an unclosed tag on the stack that is not for a concise tag. That means
                        // there is a problem with the template because all open tags should have a closing
                        // tag
                        //
                        // NOTE: We have already closed tags that are open tag only or self-closed
                        notifyError(curBlock.pos,
                            'MISSING_END_TAG',
                            'Missing ending "' + curBlock.tagName + '" tag');
                        return;
                    }
                } else if (curBlock.type === 'html') {
                    // We reached the end of file while still within a single line HTML block. That's okay
                    // though since we know the line is completely. We'll continue ending all open concise tags.
                    blockStack.pop();
                } else {
                    // There is a bug in our parser...
                    throw new Error('Illegal state. There should not be any non-concise tags on the stack when in concise mode');
                }
            }
        }

        function openTagEOF() {
            if (isConcise) {
                if (currentOpenTag.withinAttrGroup) {
                    notifyError(currentOpenTag.pos,
                        'MALFORMED_OPEN_TAG',
                        'EOF reached while within an attribute group (e.g. "[ ... ]").');
                    return;
                }

                // If we reach EOF inside an open tag when in concise-mode
                // then we just end the tag and all other open tags on the stack
                finishOpenTag();
                htmlEOF();
            } else {
                // Otherwise, in non-concise mode we consider this malformed input
                // since the end '>' was not found.
                notifyError(currentOpenTag.pos,
                    'MALFORMED_OPEN_TAG',
                    'EOF reached while parsing open tag');
            }
        }

        var notifyCDATA = notifiers.notifyCDATA;
        var notifyComment = notifiers.notifyComment;
        var notifyOpenTag = notifiers.notifyOpenTag;
        var notifyOpenTagName = notifiers.notifyOpenTagName;
        var notifyCloseTag = notifiers.notifyCloseTag;
        var notifyDocumentType = notifiers.notifyDocumentType;
        var notifyDeclaration = notifiers.notifyDeclaration;
        var notifyPlaceholder = notifiers.notifyPlaceholder;
        var notifyScriptlet = notifiers.notifyScriptlet;

        function notifyError(pos, errorCode, message) {
            parser.end();
            notifiers.notifyError(pos, errorCode, message);
        }

        function beginAttribute() {
            currentAttribute = {};
            if (currentOpenTag.attributes === EMPTY_ATTRIBUTES) {
                currentOpenTag.attributes = [currentAttribute];
            } else {
                currentOpenTag.attributes.push(currentAttribute);
            }
            parser.enterState(STATE_ATTRIBUTE_NAME);
            return currentAttribute;
        }

        function endAttribute() {
            currentAttribute = null;
            if (parser.state !== STATE_WITHIN_OPEN_TAG) {
                parser.enterState(STATE_WITHIN_OPEN_TAG);
            }
        }

        function beginOpenTag() {
            endText();

            var tagInfo = {
                type: 'tag',
                tagName: '',
                tagNameParts: null,
                attributes: [],
                argument: undefined,
                pos: parser.pos,
                indent: indent,
                nestedIndent: null, // This will get set when we know what hte nested indent is
                concise: isConcise
            };

            withinOpenTag = true;

            if (beginMixedMode) {
                tagInfo.beginMixedMode = true;
                beginMixedMode = false;
            }

            blockStack.push(tagInfo);

            currentOpenTag = tagInfo;

            parser.enterState(STATE_TAG_NAME);

            return currentOpenTag;
        }

        function finishOpenTag(selfClosed) {
            var tagName = currentOpenTag.tagName;
            var attributes = currentOpenTag.attributes;

            if (currentOpenTag.requiresCommas && attributes.length > 1) {
                for(let i = 0; i < attributes.length-1; i++) {
                    if(!attributes[i].endedWithComma) {
                        var parseOptions = currentOpenTag.parseOptions;

                        if (!parseOptions || parseOptions.relaxRequireCommas !== true) {
                            notifyError(attributes[i].pos,
                                'COMMAS_REQUIRED',
                                'if commas are used, they must be used to separate all attributes for a tag');
                        }
                    }
                }
            }

            if (currentOpenTag.hasUnenclosedWhitespace && attributes.length > 1) {
                for(let i = 0; i < attributes.length-1; i++) {
                    if(!attributes[i].endedWithComma) {
                        notifyError(attributes[i].pos,
                            'COMMAS_REQUIRED',
                            'commas are required to separate all attributes when using complex attribute values with un-enclosed whitespace');
                    }
                }
            }

            currentOpenTag.expectedCloseTagName = expectedCloseTagName =
                parser.substring(currentOpenTag.tagNameStart, currentOpenTag.tagNameEnd);

            var openTagOnly = currentOpenTag.openTagOnly = isOpenTagOnly(tagName);
            var endPos = parser.pos;

            if (!isConcise) {
                if (selfClosed) {
                    endPos += 2; // Skip past '/>'
                } else {
                    endPos += 1;
                }
            }

            if (currentOpenTag.tagNameParts) {
                currentOpenTag.tagNameExpression = currentOpenTag.tagNameParts.join('+');
            }

            currentOpenTag.endPos = endPos;
            currentOpenTag.selfClosed = selfClosed === true;

            if (!currentOpenTag.tagName && !currentOpenTag.emptyTagName) {
                tagName = currentOpenTag.tagName = 'div';
            }

            var origState = parser.state;
            notifyOpenTag(currentOpenTag);

            var shouldClose = false;

            if (selfClosed) {
                shouldClose = true;
            } else if (openTagOnly) {
                if (!isConcise) {
                    // Only close the tag if we are not in concise mode. In concise mode
                    // we want to keep the tag on the stack to make sure nothing is nested below it
                    shouldClose = true;
                }
            }

            if (shouldClose) {
                closeTag(expectedCloseTagName);
            }

            withinOpenTag = false;

            if (shouldClose) {
                if (isConcise) {
                    parser.enterConciseHtmlContentState();
                } else {
                    parser.enterHtmlContentState();
                }
            } else {
                // Did the parser stay in the same state after
                // notifying listeners about openTag?
                if (parser.state === origState) {
                    // The listener didn't transition the parser to a new state
                    // so we use some simple rules to find the appropriate state.
                    if (tagName === 'script') {
                        parser.enterJsContentState();
                    } else if (tagName === 'style') {
                        parser.enterCssContentState();
                    } else {
                        if (isConcise) {
                            parser.enterConciseHtmlContentState();
                        } else {
                            parser.enterHtmlContentState();
                        }

                    }
                }
            }

            // We need to record the "expected close tag name" if we transition into
            // either STATE_STATIC_TEXT_CONTENT or STATE_PARSED_TEXT_CONTENT
            currentOpenTag = undefined;
        }

        function closeTag(tagName, pos, endPos) {
            if (!tagName) {
                throw new Error('Illegal state. Invalid tag name');
            }
            var lastTag = blockStack.length ? blockStack.pop() : undefined;

            if (pos == null && closeTagPos != null) {
                pos = closeTagPos;
                endPos = parser.pos + 1;
            }

            if (!lastTag || lastTag.type !== 'tag') {
                return notifyError(pos,
                    'EXTRA_CLOSING_TAG',
                    'The closing "' + tagName + '" tag was not expected');
            }

            if (!lastTag || (lastTag.expectedCloseTagName !== tagName && lastTag.tagName !== tagName)) {
                return notifyError(pos,
                    'MISMATCHED_CLOSING_TAG',
                    'The closing "' + tagName + '" tag does not match the corresponding opening "' + lastTag.expectedCloseTagName + '" tag');
            }

            tagName = lastTag.tagName;

            notifyCloseTag(tagName, pos, endPos);

            if (lastTag.beginMixedMode) {
                endingMixedModeAtEOL = true;
            }

            closeTagName = null;
            closeTagPos = null;

            lastTag = peek(blockStack);
            expectedCloseTagName = lastTag && lastTag.expectedCloseTagName;
        }

        function beginPart() {
            currentPart = {
                pos: parser.pos,
                parentState: parser.state
            };

            partStack.push(currentPart);

            return currentPart;
        }

        function endPart() {
            var last = partStack.pop();
            parser.endPos = parser.pos;
            parser.enterState(last.parentState);
            currentPart = partStack.length ? peek(partStack) : undefined;
            return last;
        }

        // Expression

        function beginExpression(endAfterGroup) {
            var expression = beginPart();
            expression.value = '';
            expression.groupStack = [];
            expression.endAfterGroup = endAfterGroup === true;
            expression.isStringLiteral = null;
            parser.enterState(STATE_EXPRESSION);
            return expression;
        }

        function endExpression() {
            var expression = endPart();
            // Probably shouldn't do this, but it makes it easier to test!
            if(expression.parentState === STATE_ATTRIBUTE_VALUE && expression.hasUnenclosedWhitespace) {
                expression.value = '('+expression.value+')';
            }
            expression.parentState.expression(expression);
        }

        // --------------------------

        // String

        function beginString(quoteChar, quoteCharCode) {
            var string = beginPart();
            string.stringParts = [];
            string.currentText = '';
            string.quoteChar = quoteChar;
            string.quoteCharCode = quoteCharCode;
            string.isStringLiteral = true;
            parser.enterState(STATE_STRING);
            return string;
        }

        function endString() {
            var string = endPart();
            string.parentState.string(string);
        }

        // --------------------------

        // Template String

        function beginTemplateString() {
            var templateString = beginPart();
            templateString.value = '`';
            parser.enterState(STATE_TEMPLATE_STRING);
            return templateString;
        }

        function endTemplateString() {
            var templateString = endPart();
            templateString.parentState.templateString(templateString);
        }

        // --------------------------


        // Scriptlet

        function beginScriptlet() {
            endText();

            var scriptlet = beginPart();
            scriptlet.tag = true;
            scriptlet.value = '';
            scriptlet.quoteCharCode = null;
            parser.enterState(STATE_SCRIPTLET);
            return scriptlet;
        }

        function endScriptlet(endPos) {
            var scriptlet = endPart();
            scriptlet.endPos = endPos;
            notifyScriptlet(scriptlet);
        }

        // InlineScript

        function beginInlineScript() {
            endText();

            var inlineScript = beginPart();
            inlineScript.value = '';
            inlineScript.endMatches = [];
            parser.enterState(STATE_INLINE_SCRIPT);
            return inlineScript;
        }

        function endInlineScript(endPos) {
            var inlineScript = endPart();
            var value = inlineScript.value;
            inlineScript.endPos = endPos;

            if (value[0] === '{' && value[value.length-1] === '}') {
                inlineScript.value = value.slice(1, -1);
                inlineScript.block = true;
            } else {
                inlineScript.line = true;
            }

            notifyScriptlet(inlineScript);
        }

        // --------------------------


        // DTD

        function beginDocumentType() {
            endText();

            var documentType = beginPart();
            documentType.value = '';

            parser.enterState(STATE_DTD);
            return documentType;
        }

        function endDocumentType() {
            var documentType = endPart();
            notifyDocumentType(documentType);
        }

        // --------------------------

        // Declaration
        function beginDeclaration() {
            endText();

            var declaration = beginPart();
            declaration.value = '';
            parser.enterState(STATE_DECLARATION);
            return declaration;
        }

        function endDeclaration() {
            var declaration = endPart();
            notifyDeclaration(declaration);
        }

        // --------------------------

        // CDATA

        function beginCDATA() {
            endText();

            var cdata = beginPart();
            cdata.value = '';
            parser.enterState(STATE_CDATA);
            return cdata;
        }

        function endCDATA() {
            var cdata = endPart();
            notifyCDATA(cdata.value, cdata.pos, parser.pos + 3);
        }

        // --------------------------

        // JavaScript Comments
        function beginLineComment() {
            var comment = beginPart();
            comment.value = '';
            comment.type = 'line';
            parser.enterState(STATE_JS_COMMENT_LINE);
            return comment;
        }

        function beginBlockComment() {
            var comment = beginPart();
            comment.value = '';
            comment.type = 'block';
            parser.enterState(STATE_JS_COMMENT_BLOCK);
            return comment;
        }

        function endJavaScriptComment() {
            var comment = endPart();
            comment.rawValue = comment.type === 'line' ?
                '//' + comment.value :
                '/*' + comment.value + '*/';
            comment.parentState.comment(comment);
        }
        // --------------------------

        // HTML Comment

        function beginHtmlComment() {
            endText();
            var comment = beginPart();
            comment.value = '';
            parser.enterState(STATE_HTML_COMMENT);
            return comment;
        }

        function endHtmlComment() {
            var comment = endPart();
            comment.endPos = parser.pos + 3;
            notifyComment(comment);
        }

        // --------------------------

        // Trailing whitespace

        function beginCheckTrailingWhitespace(handler) {
            var part = beginPart();
            part.handler = handler;
            if (typeof handler !== 'function') {
                throw new Error('Invalid handler');
            }
            parser.enterState(STATE_CHECK_TRAILING_WHITESPACE);
        }

        function endCheckTrailingWhitespace(err, eof) {
            var part = endPart();
            part.handler(err, eof);
        }

        function handleTrailingWhitespaceJavaScriptComment(err) {
            if (err) {
                // This is a non-whitespace! We don't allow non-whitespace
                // after matching two or more hyphens. This is user error...
                notifyError(parser.pos,
                    'INVALID_CHARACTER',
                    'A non-whitespace of "' + err.ch + '" was found after a JavaScript block comment.');
            }

            return;
        }

        function handleTrailingWhitespaceMultilineHtmlBlcok(err, eof) {
            if (err) {
                // This is a non-whitespace! We don't allow non-whitespace
                // after matching two or more hyphens. This is user error...
                notifyError(parser.pos,
                    'INVALID_CHARACTER',
                    'A non-whitespace of "' + err.ch + '" was found on the same line as the ending delimiter ("' + htmlBlockDelimiter + '") for a multiline HTML block');
                return;
            }

            endHtmlBlock();

            if (eof) {
                htmlEOF();
            }

            return;
        }

        // --------------------------

        // Placeholder

        function beginPlaceholder(escape, withinTagName) {
            var placeholder = beginPart();
            placeholder.value = '';
            placeholder.escape = escape !== false;
            placeholder.type = 'placeholder';
            placeholder.withinBody = withinOpenTag !== true;
            placeholder.withinAttribute = currentAttribute != null;
            placeholder.withinString = placeholder.parentState === STATE_STRING;
            placeholder.withinOpenTag = withinOpenTag === true && currentAttribute == null;
            placeholder.withinTagName = withinTagName;
            placeholderDepth++;
            parser.enterState(STATE_PLACEHOLDER);
            return placeholder;
        }

        function endPlaceholder() {
            var placeholder = endPart();
            placeholderDepth--;

            var newExpression = notifyPlaceholder(placeholder);
            placeholder.value = newExpression;
            placeholder.parentState.placeholder(placeholder);
        }

        // --------------------------

        // Placeholder

        function beginTagNameShorthand(escape, withinTagName) {
            var shorthand = beginPart();
            shorthand.currentPart = null;
            shorthand.hasId = false;
            shorthand.beginPart = function(type) {
                shorthand.currentPart = {
                    type: type,
                    stringParts: [],
                    text: '',
                    _endText() {
                        if (this.text) {
                            this.stringParts.push(JSON.stringify(this.text));
                        }
                        this.text = '';
                    },
                    addPlaceholder(placeholder) {
                        this._endText();
                        this.stringParts.push('(' + placeholder.value + ')');
                    },
                    end() {
                        this._endText();

                        var expression = this.stringParts.join('+');

                        if (type === 'id') {
                            currentOpenTag.shorthandId = {
                                value: expression
                            };
                        } else if (type === 'class') {
                            if (!currentOpenTag.shorthandClassNames) {
                                currentOpenTag.shorthandClassNames = [];
                            }

                            currentOpenTag.shorthandClassNames.push({
                                value: expression
                            });


                        }
                    }
                };
            };
            parser.enterState(STATE_TAG_NAME_SHORTHAND);
            return shorthand;
        }

        function endTagNameShorthand() {
            var shorthand = endPart();
            if (shorthand.currentPart) {
                shorthand.currentPart.end();
            }
            parser.enterState(STATE_WITHIN_OPEN_TAG);
        }

        // --------------------------

        function getAndRemoveArgument(expression) {
            let start = expression.lastLeftParenPos;
            if (start != null) {
                // The tag has an argument that we need to slice off
                let end = expression.lastRightParenPos;
                if (end === expression.value.length - 1) {
                    var argument = {
                        value: expression.value.substring(start+1, end),
                        pos: expression.pos + start,
                        endPos: expression.pos + end + 1
                    };

                    // Chop off the argument from the expression
                    expression.value = expression.value.substring(0, start);
                    // Fix the end position for the expression
                    expression.endPos = expression.pos + expression.value.length;

                    return argument;
                }
            }

            return undefined;
        }

        // --------------------------

        function checkForPlaceholder(ch, code) {
            if (code === CODE_DOLLAR) {
                var nextCode = parser.lookAtCharCodeAhead(1);
                if (nextCode === CODE_OPEN_CURLY_BRACE) {
                    // We expect to start a placeholder at the first curly brace (the next character)
                    beginPlaceholder(true);
                    return true;
                } else if (nextCode === CODE_EXCLAMATION) {
                    var afterExclamationCode = parser.lookAtCharCodeAhead(2);
                    if (afterExclamationCode === CODE_OPEN_CURLY_BRACE) {
                        // We expect to start a placeholder at the first curly brace so skip
                        // past the exclamation point
                        beginPlaceholder(false);
                        parser.skip(1);
                        return true;
                    }
                }
            }

            return false;
        }

        function checkForEscapedPlaceholder(ch, code) {
            // Look for \${ and \$!{
            if (code === CODE_BACK_SLASH) {
                if (parser.lookAtCharCodeAhead(1) === CODE_DOLLAR) {
                    if (parser.lookAtCharCodeAhead(2) === CODE_OPEN_CURLY_BRACE) {
                        return true;
                    } else if (parser.lookAtCharCodeAhead(2) === CODE_EXCLAMATION) {
                        if (parser.lookAtCharCodeAhead(3) === CODE_OPEN_CURLY_BRACE) {
                            return true;
                        }
                    }
                }
            }

            return false;
        }

        function checkForEscapedEscapedPlaceholder(ch, code) {
            // Look for \\${ and \\$!{
            if (code === CODE_BACK_SLASH) {
                if (parser.lookAtCharCodeAhead(1) === CODE_BACK_SLASH) {
                    if (parser.lookAtCharCodeAhead(2) === CODE_DOLLAR) {
                        if (parser.lookAtCharCodeAhead(3) === CODE_OPEN_CURLY_BRACE) {
                            return true;
                        } else if (parser.lookAtCharCodeAhead(3) === CODE_EXCLAMATION) {
                            if (parser.lookAtCharCodeAhead(4) === CODE_OPEN_CURLY_BRACE) {
                                return true;
                            }
                        }
                    }
                }
            }

            return false;
        }

        function lookPastWhitespaceFor(str, start) {
            var ahead = start == null ? 1 : start;
            while(isWhitespaceCode(parser.lookAtCharCodeAhead(ahead))) ahead++;
            return !!parser.lookAheadFor(str, parser.pos+ahead);
        }

        function getNextIndent() {
            var match = /[^\n]*\n(\s+)/.exec(parser.substring(parser.pos));
            if(match) {
                var whitespace = match[1].split(/\n/g);
                return whitespace[whitespace.length-1];
            }
        }

        function onlyWhitespaceRemainsOnLine(offset) {
            offset = offset == null ? 1 : offset;
            return /^\s*\n/.test(parser.substring(parser.pos+offset));
        }

        function consumeWhitespace() {
            var ahead = 1;
            var whitespace = '';
            while(isWhitespaceCode(parser.lookAtCharCodeAhead(ahead))) {
                whitespace += parser.lookAtCharAhead(ahead++);
            }
            parser.skip(whitespace.length);
            return whitespace;
        }

        function isBeginningOfLine() {
            var before = parser.substring(0, parser.pos);
            var lines = before.split('\n');
            var lastLine = lines[lines.length-1];
            return /^\s*$/.test(lastLine);
        }

        function checkForClosingTag() {
            // Look ahead to see if we found the closing tag that will
            // take us out of the EXPRESSION state...
            var lookAhead = '/' + expectedCloseTagName + '>';
            var match = parser.lookAheadFor(lookAhead);
            if (match) {
                if (parser.state === STATE_JS_COMMENT_LINE) {
                    endJavaScriptComment();
                }
                endText();

                closeTag(expectedCloseTagName, parser.pos, parser.pos + 1 + lookAhead.length);
                parser.skip(match.length);
                parser.enterState(STATE_HTML_CONTENT);
                return true;
            }

            return false;
        }

        function checkForCDATA() {
            if (parser.lookAheadFor('![CDATA[')) {
                beginCDATA();
                parser.skip(8);
                return true;
            }

            return false;
        }

        function checkForOperator() {
            var remaining = parser.data.substring(parser.pos);
            var matches = operators.patternNext.exec(remaining);

            if (matches) {
                var match = matches[0];
                var operator = matches[1];

                if (legacyCompatibility && operator === '-') {
                    return false;
                }

                var isIgnoredOperator = isConcise ? match.includes('[') : match.includes('>');
                if (!isIgnoredOperator) {
                    parser.skip(match.length-1);
                    return match;
                }
            } else {
                var previous = parser.substring(parser.pos-operators.longest, parser.pos);
                var match2 = operators.patternPrev.exec(previous);
                if(match2) {
                    parser.rewind(1);
                    var whitespace = consumeWhitespace();
                    return whitespace;
                }
            }

            return false;
        }

        function checkForTypeofOperator() {
            var remaining = parser.data.substring(parser.pos);
            var matches =  /^\s+typeof\s+/.exec(remaining);

            if (matches) {
                return matches[0];
            }

            return false;
        }

        function checkForTypeofOperatorAtStart() {
            var remaining = parser.data.substring(parser.pos);
            var matches =  /^typeof\s+/.exec(remaining);

            if (matches) {
                return matches[0];
            }

            return false;
        }

        function handleDelimitedBlockEOL(newLine) {
            // If we are within a delimited HTML block then we want to check if the next line is the end
            // delimiter. Since we are currently positioned at the start of the new line character our lookahead
            // will need to include the new line character, followed by the expected indentation, followed by
            // the delimiter.
            let endHtmlBlockLookahead = htmlBlockIndent + htmlBlockDelimiter;

            if (parser.lookAheadFor(endHtmlBlockLookahead, parser.pos + newLine.length)) {
                parser.skip(htmlBlockIndent.length);
                parser.skip(htmlBlockDelimiter.length);

                parser.enterState(STATE_CONCISE_HTML_CONTENT);

                beginCheckTrailingWhitespace(handleTrailingWhitespaceMultilineHtmlBlcok);
                return;
            } else if (parser.lookAheadFor(htmlBlockIndent, parser.pos + newLine.length)) {
                // We know the next line does not end the multiline HTML block, but we need to check if there
                // is any indentation that we need to skip over as we continue parsing the HTML in this
                // multiline HTML block

                parser.skip(htmlBlockIndent.length);
                // We stay in the same state since we are still parsing a multiline, delimited HTML block
            } else if(htmlBlockIndent && !onlyWhitespaceRemainsOnLine()) {
                // the next line does not have enough indentation
                // so unless it is black (whitespace only),
                // we will end the block
                endHtmlBlock();
            }
        }

        // In STATE_HTML_CONTENT we are looking for tags and placeholders but
        // everything in between is treated as text.
        var STATE_HTML_CONTENT = Parser.createState({
            name: 'STATE_HTML_CONTENT',

            placeholder(placeholder) {
                // We found a placeholder while parsing the HTML content. This function is called
                // from endPlaceholder(). We have already notified the listener of the placeholder so there is
                // nothing to do here
            },

            eol(newLine) {
                text += newLine;

                if (beginMixedMode) {
                    beginMixedMode = false;
                    endHtmlBlock();
                } else if (endingMixedModeAtEOL) {
                    endingMixedModeAtEOL = false;
                    endHtmlBlock();
                } else if (isWithinSingleLineHtmlBlock) {
                    // We are parsing "HTML" and we reached the end of the line. If we are within a single
                    // line HTML block then we should return back to the state to parse concise HTML.
                    // A single line HTML block can be at the end of the tag or on its own line:
                    //
                    // span class="hello" - This is an HTML block at the end of a tag
                    //     - This is an HTML block on its own line
                    //
                    endHtmlBlock();
                } else if (htmlBlockDelimiter) {
                    handleDelimitedBlockEOL(newLine);
                }
            },

            eof: htmlEOF,

            enter() {
                textParseMode = 'html';
                isConcise = false; // Back into non-concise HTML parsing
            },

            char(ch, code) {
                if (code === CODE_OPEN_ANGLE_BRACKET) {
                    if (checkForCDATA()) {
                        return;
                    }

                    var nextCode = parser.lookAtCharCodeAhead(1);

                    if (nextCode === CODE_PERCENT) {
                        beginScriptlet();
                        parser.skip(1);
                    } else if (parser.lookAheadFor('!--')) {
                        beginHtmlComment();
                        parser.skip(3);
                    } else if (nextCode === CODE_EXCLAMATION) {
                        // something like:
                        // <!DOCTYPE html>
                        // NOTE: We already checked for CDATA earlier and <!--
                        beginDocumentType();
                        parser.skip(1);
                    } else if (nextCode === CODE_QUESTION) {
                        // something like:
                        // <?xml version="1.0"?>
                        beginDeclaration();
                        parser.skip(1);
                    } else if (nextCode === CODE_FORWARD_SLASH) {
                        closeTagPos = parser.pos;
                        closeTagName = null;

                        parser.skip(1);
                        // something like:
                        // </html>
                        endText();

                        parser.enterState(STATE_CLOSE_TAG);
                    } else if (nextCode === CODE_CLOSE_ANGLE_BRACKET ||
                               nextCode === CODE_OPEN_ANGLE_BRACKET ||
                               isWhitespaceCode(nextCode)) {
                        // something like:
                        // "<>"
                        // "<<"
                        // "< "
                        // We'll treat this left angle brakect as text
                        text += '<';
                    } else {
                        beginOpenTag();
                        currentOpenTag.tagNameStart = parser.pos+1;
                    }
                } else if (!ignorePlaceholders && checkForEscapedEscapedPlaceholder(ch, code)) {
                    text += '\\';
                    parser.skip(1);
                }  else if (!ignorePlaceholders && checkForEscapedPlaceholder(ch, code)) {
                    text += '$';
                    parser.skip(1);
                } else if (!ignorePlaceholders && checkForPlaceholder(ch, code)) {
                    // We went into placeholder state...
                    endText();
                } else if (!legacyCompatibility && code === CODE_DOLLAR && isWhitespaceCode(parser.lookAtCharCodeAhead(1)) && isBeginningOfLine()) {
                    parser.skip(1);
                    beginInlineScript();
                } else {
                    text += ch;
                }
            }
        });

        // In STATE_CONCISE_HTML_CONTENT we are looking for concise tags and text blocks based on indent
        var STATE_CONCISE_HTML_CONTENT = Parser.createState({
            name: 'STATE_CONCISE_HTML_CONTENT',

            eol(newLine) {
                text += newLine;
            },

            eof: htmlEOF,

            enter() {
                isConcise = true;
                indent = '';
            },

            comment(comment) {
                var value = comment.value;

                value = value.trim();

                notifyComment({
                    value: value,
                    pos: comment.pos,
                    endPos: comment.endPos
                });

                if (comment.type === 'block') {
                    // Make sure there is only whitespace on the line
                    // after the ending "*/" sequence
                    beginCheckTrailingWhitespace(handleTrailingWhitespaceJavaScriptComment);
                }
            },

            endTrailingWhitespace(eof) {
                endHtmlBlock();

                if (eof) {
                    htmlEOF();
                }
            },

            char(ch, code) {
                if (isWhitespaceCode(code)) {
                    indent += ch;
                } else  {
                    while(true) {
                        let len = blockStack.length;
                        if (len) {
                            let curBlock = blockStack[len - 1];
                            if (curBlock.indent.length >= indent.length) {
                                closeTag(curBlock.expectedCloseTagName);
                            } else {
                                // Indentation is greater than the last tag so we are starting a
                                // nested tag and there are no more tags to end
                                break;
                            }
                        } else {
                            if (indent) {
                                notifyError(parser.pos,
                                    'BAD_INDENTATION',
                                    'Line has extra indentation at the beginning');
                                return;
                            }
                            break;
                        }
                    }

                    var parent = blockStack.length && blockStack[blockStack.length - 1];
                    var body;

                    if (parent) {
                        body = parent.body;
                        if (parent.openTagOnly) {
                            notifyError(parser.pos,
                                'INVALID_BODY',
                                'The "' + parent.tagName + '" tag does not allow nested body content');
                            return;
                        }

                        if (parent.nestedIndent) {
                            if (parent.nestedIndent.length !== indent.length) {
                                notifyError(parser.pos,
                                    'BAD_INDENTATION',
                                    'Line indentation does match indentation of previous line');
                                return;
                            }
                        } else {
                            parent.nestedIndent = indent;
                        }
                    }

                    if (body && code !== CODE_HTML_BLOCK_DELIMITER) {
                        notifyError(parser.pos,
                            'ILLEGAL_LINE_START',
                            'A line within a tag that only allows text content must begin with a "-" character');
                        return;
                    }

                    if (code === CODE_OPEN_ANGLE_BRACKET || (legacyCompatibility && code === CODE_DOLLAR)) {
                        if (code === CODE_DOLLAR) {
                            outputDeprecationWarning('Handling of a placeholder (i.e. "${...}") at the start of a concise line will be changing.\nA placeholder at the start of a concise line will now be handled as a tag name placeholder instead of a body text placeholder.\nSwitch to using "-- ${...}" to avoid breakage.\nSee: https://github.com/marko-js/htmljs-parser/issues/48');
                        }
                        beginMixedMode = true;
                        parser.rewind(1);
                        beginHtmlBlock();
                        return;
                    }

                    if (!legacyCompatibility && code === CODE_DOLLAR && isWhitespaceCode(parser.lookAtCharCodeAhead(1))) {
                        parser.skip(1);
                        beginInlineScript();
                        return;
                    }

                    if (code === CODE_HTML_BLOCK_DELIMITER) {
                        if (parser.lookAtCharCodeAhead(1) !== CODE_HTML_BLOCK_DELIMITER) {
                            if (legacyCompatibility) {
                                outputDeprecationWarning('The usage of a single hyphen at the start of a concise line is now deprecated. Use "--" instead.\nSee: https://github.com/marko-js/htmljs-parser/issues/43');
                            } else {
                                notifyError(parser.pos,
                                    'ILLEGAL_LINE_START',
                                    'A line in concise mode cannot start with a single hyphen. Use "--" instead. See: https://github.com/marko-js/htmljs-parser/issues/43');
                                return;
                            }
                        }

                        htmlBlockDelimiter = ch;
                        return parser.enterState(STATE_BEGIN_DELIMITED_HTML_BLOCK);
                    } else if (code === CODE_FORWARD_SLASH) {
                        // Check next character to see if we are in a comment
                        var nextCode = parser.lookAtCharCodeAhead(1);
                        if (nextCode === CODE_FORWARD_SLASH) {
                            beginLineComment();
                            parser.skip(1);
                            return;
                        } else if (nextCode === CODE_ASTERISK) {
                            beginBlockComment();
                            parser.skip(1);
                            return;
                        } else {
                            notifyError(parser.pos,
                                'ILLEGAL_LINE_START',
                                'A line in concise mode cannot start with "/" unless it starts a "//" or "/*" comment');
                            return;
                        }
                    } else {
                        beginOpenTag();
                        currentOpenTag.tagNameStart = parser.pos;
                        parser.rewind(1); // START_TAG_NAME expects to start at the first character
                    }

                }
            }
        });

        // In STATE_BEGIN_DELIMITED_HTML_BLOCK we have already found two consecutive hyphens. We expect
        // to reach the end of the line with only whitespace characters
        var STATE_BEGIN_DELIMITED_HTML_BLOCK = Parser.createState({
            name: 'STATE_BEGIN_DELIMITED_HTML_BLOCK',

            eol: function(newLine) {
                // We have reached the end of the first delimiter... we need to skip over any indentation on the next
                // line and we might also find that the multi-line, delimited block is immediately ended
                beginHtmlBlock(htmlBlockDelimiter);
                handleDelimitedBlockEOL(newLine);
            },

            eof: htmlEOF,

            char(ch, code) {
                if (code === CODE_HTML_BLOCK_DELIMITER) {
                    htmlBlockDelimiter += ch;
                } else if(!onlyWhitespaceRemainsOnLine()) {
                    isWithinSingleLineHtmlBlock = true;
                    beginHtmlBlock();
                }
            }
        });

        var STATE_CHECK_TRAILING_WHITESPACE = Parser.createState({
            name: 'STATE_CHECK_TRAILING_WHITESPACE',

            eol: function() {
                endCheckTrailingWhitespace(null /* no error */, false /* not EOF */);
            },

            eof: function() {
                endCheckTrailingWhitespace(null /* no error */, true /* EOF */);
            },

            char(ch, code) {
                if (isWhitespaceCode(code)) {
                    // Just whitespace... we are still good
                } else {
                    endCheckTrailingWhitespace({
                        ch: ch
                    });
                }
            }
        });

        // We enter STATE_STATIC_TEXT_CONTENT when a listener manually chooses
        // to enter this state after seeing an openTag event for a tag
        // whose content should not be parsed at all (except for the purpose
        // of looking for the end tag).
        var STATE_STATIC_TEXT_CONTENT = Parser.createState({
            name: 'STATE_STATIC_TEXT_CONTENT',

            enter() {
                textParseMode = 'static-text';
            },

            eol(newLine) {
                text += newLine;

                if (isWithinSingleLineHtmlBlock) {
                    // We are parsing "HTML" and we reached the end of the line. If we are within a single
                    // line HTML block then we should return back to the state to parse concise HTML.
                    // A single line HTML block can be at the end of the tag or on its own line:
                    //
                    // span class="hello" - This is an HTML block at the end of a tag
                    //     - This is an HTML block on its own line
                    //
                    endHtmlBlock();
                } else if (htmlBlockDelimiter) {
                    handleDelimitedBlockEOL(newLine);
                }
            },

            eof: htmlEOF,

            char(ch, code) {
                // See if we need to see if we reached the closing tag...
                if (!isConcise && code === CODE_OPEN_ANGLE_BRACKET) {
                    if (checkForClosingTag()) {
                        return;
                    }
                }

                text += ch;
            }
        });

        // We enter STATE_PARSED_TEXT_CONTENT when we are parsing
        // the body of a tag does not contain HTML tags but may contains
        // placeholders
        var STATE_PARSED_TEXT_CONTENT = Parser.createState({
            name: 'STATE_PARSED_TEXT_CONTENT',

            enter() {
                textParseMode = 'parsed-text';
            },

            placeholder: STATE_HTML_CONTENT.placeholder,

            comment(comment) {
                text += comment.rawValue;

                if (htmlBlockDelimiter && comment.eol) {
                    handleDelimitedBlockEOL(comment.eol);
                }
            },

            templateString(templateString) {
                text += templateString.value;
            },

            eol(newLine) {
                text += newLine;

                if (isWithinSingleLineHtmlBlock) {
                    // We are parsing "HTML" and we reached the end of the line. If we are within a single
                    // line HTML block then we should return back to the state to parse concise HTML.
                    // A single line HTML block can be at the end of the tag or on its own line:
                    //
                    // span class="hello" - This is an HTML block at the end of a tag
                    //     - This is an HTML block on its own line
                    //
                    endHtmlBlock();
                } else if (htmlBlockDelimiter) {
                    handleDelimitedBlockEOL(newLine);
                }
            },

            eof: htmlEOF,

            char(ch, code) {
                if (!isConcise && code === CODE_OPEN_ANGLE_BRACKET) {
                    // First, see if we need to see if we reached the closing tag
                    // and then check if we encountered CDATA
                    if (checkForClosingTag()) {
                        return;
                    } else if (checkForCDATA()) {
                        return;
                    } else if (parser.lookAtCharCodeAhead(1) === CODE_PERCENT) {
                        beginScriptlet();
                        parser.skip(1);
                        return;
                    }
                }


                if (code === CODE_FORWARD_SLASH) {
                    if (parser.lookAtCharCodeAhead(1) === CODE_ASTERISK) {
                        // Skip over code inside a JavaScript block comment
                        beginBlockComment();
                        parser.skip(1);
                        return;
                    } else if (parser.lookAtCharCodeAhead(1) === CODE_FORWARD_SLASH) {
                        beginLineComment();
                        parser.skip(1);
                        return;
                    }
                }


                if (code === CODE_FORWARD_SLASH) {
                    if (parser.lookAtCharCodeAhead(1) === CODE_ASTERISK) {
                        // Skip over code inside a JavaScript block comment
                        beginBlockComment();
                        parser.skip(1);
                        return;
                    } else if (parser.lookAtCharCodeAhead(1) === CODE_FORWARD_SLASH) {
                        beginLineComment();
                        parser.skip(1);
                        return;
                    }
                }

                if (code === CODE_BACKTICK) {
                    beginTemplateString();
                    return;

                }

                if (!ignorePlaceholders && checkForEscapedEscapedPlaceholder(ch, code)) {
                    parser.skip(1);
                }  else if (!ignorePlaceholders && checkForEscapedPlaceholder(ch, code)) {
                    text += '$';
                    parser.skip(1);
                    return;
                } else if (!ignorePlaceholders && checkForPlaceholder(ch, code)) {
                    // We went into placeholder state...
                    endText();
                    return;
                }

                text += ch;
            }
        });

        // We enter STATE_TAG_NAME after we encounter a "<"
        // followed by a non-special character
        var STATE_TAG_NAME = Parser.createState({
            name: 'STATE_TAG_NAME',

            eol: openTagEOL,

            eof: openTagEOF,

            expression(expression) {
                var argument = getAndRemoveArgument(expression);

                if (argument) {
                    // The tag has an argument that we need to slice off

                    if (currentOpenTag.argument != null) {
                        notifyError(expression.endPos,
                            'ILLEGAL_TAG_ARGUMENT',
                            'A tag can only have one argument');
                    }

                    currentOpenTag.argument = argument;
                    currentOpenTag.tagNameEnd = expression.pos + expression.lastLeftParenPos + 1;
                } else {
                    currentOpenTag.tagNameEnd = expression.endPos;
                }


                if (expression.value) {
                    currentOpenTag.tagName += expression.value;

                    if (currentOpenTag.tagNameParts) {
                        currentOpenTag.tagNameParts.push(JSON.stringify(expression.value));
                    }
                }
            },

            placeholder(placeholder) {
                if (!currentOpenTag.tagNameParts) {
                    currentOpenTag.tagNameParts = [];

                    if (currentOpenTag.tagName) {
                        currentOpenTag.tagNameParts.push(JSON.stringify(currentOpenTag.tagName));
                    }
                }

                currentOpenTag.tagName += parser.substring(placeholder.pos, placeholder.endPos);
                currentOpenTag.tagNameParts.push('(' + placeholder.value + ')');
                currentOpenTag.tagNameEnd = placeholder.endPos;
            },

            enter(oldState) {
                if (oldState !== STATE_EXPRESSION) {
                    beginExpression();
                }
            },

            char(ch, code) {
                throw new Error('Illegal state');
            }
        });



        // We enter STATE_CDATA after we see "<![CDATA["
        var STATE_CDATA = Parser.createState({
            name: 'STATE_CDATA',

            enter() {
                textParseMode = 'cdata';
            },

            eof() {
                notifyError(currentPart.pos,
                    'MALFORMED_CDATA',
                    'EOF reached while parsing CDATA');
            },

            char(ch, code) {
                if (code === CODE_CLOSE_SQUARE_BRACKET) {
                    var match = parser.lookAheadFor(']>');
                    if (match) {
                        endCDATA();
                        parser.skip(match.length);
                        return;
                    }
                }

                currentPart.value += ch;
            }
        });

        // We enter STATE_CLOSE_TAG after we see "</"
        var STATE_CLOSE_TAG = Parser.createState({
            name: 'STATE_CLOSE_TAG',
            eof() {
                notifyError(closeTag.pos,
                    'MALFORMED_CLOSE_TAG',
                    'EOF reached while parsing closing tag');
            },

            enter() {
                closeTagName = '';
            },

            char(ch, code) {
                if (code === CODE_CLOSE_ANGLE_BRACKET) {
                    if (closeTagName.length > 0) {
                        closeTag(closeTagName, closeTagPos, parser.pos + 1);
                    } else {
                        closeTag(expectedCloseTagName, closeTagPos, parser.pos + 1);
                    }

                    parser.enterState(STATE_HTML_CONTENT);
                } else {
                    closeTagName += ch;
                }
            }
        });

        // We enter STATE_WITHIN_OPEN_TAG after we have fully
        // read in the tag name and encountered a whitespace character
        var STATE_WITHIN_OPEN_TAG = Parser.createState({
            name: 'STATE_WITHIN_OPEN_TAG',

            eol: openTagEOL,

            eof: openTagEOF,

            enter() {
                if (!currentOpenTag.notifiedOpenTagName) {
                    currentOpenTag.notifiedOpenTagName = true;
                    currentOpenTag.tagNameEndPos = parser.pos;
                    notifyOpenTagName(currentOpenTag);
                }
            },

            expression(expression) {
                var argument = getAndRemoveArgument(expression);

                if (argument) {
                    // We found an argument... the argument could be for an attribute or the tag
                    if (currentOpenTag.attributes.length === 0) {
                        if (currentOpenTag.argument != null) {
                            notifyError(expression.endPos,
                                'ILLEGAL_TAG_ARGUMENT',
                                'A tag can only have one argument');
                            return;
                        }
                        currentOpenTag.argument = argument;
                    } else {
                        let targetAttribute = currentAttribute || peek(currentOpenTag.attributes);

                        if (targetAttribute.argument != null) {
                            notifyError(expression.endPos,
                                'ILLEGAL_ATTRIBUTE_ARGUMENT',
                                'An attribute can only have one argument');
                            return;
                        }
                        targetAttribute.argument = argument;
                    }
                }
            },

            placeholder(placeholder) {
                var attr = beginAttribute();
                attr.value = placeholder.value;
                endAttribute();

                parser.enterState(STATE_AFTER_PLACEHOLDER_WITHIN_TAG);
            },

            comment(comment) {
                /* Ignore comments within an open tag */
            },

            char(ch, code) {
                if (isConcise) {
                    if (code === CODE_HTML_BLOCK_DELIMITER) {
                        if (parser.lookAtCharCodeAhead(1) !== CODE_HTML_BLOCK_DELIMITER) {
                            if (legacyCompatibility) {
                                outputDeprecationWarning('The usage of a single hyphen in a concise line is now deprecated. Use "--" instead.\nSee: https://github.com/marko-js/htmljs-parser/issues/43');
                            } else {
                                notifyError(currentOpenTag.pos,
                                    'MALFORMED_OPEN_TAG',
                                    '"-" not allowed as first character of attribute name');
                                return;
                            }
                        }

                        if (currentOpenTag.withinAttrGroup) {
                            notifyError(parser.pos,
                                'MALFORMED_OPEN_TAG',
                                'Attribute group was not properly ended');
                            return;
                        }

                        // The open tag is complete
                        finishOpenTag();

                        htmlBlockDelimiter = ch;
                        var nextIndent = getNextIndent();
                        if(nextIndent > indent) {
                            indent = nextIndent;
                        }
                        parser.enterState(STATE_BEGIN_DELIMITED_HTML_BLOCK);
                        return;
                    } else if (code === CODE_OPEN_SQUARE_BRACKET) {
                        if (currentOpenTag.withinAttrGroup) {
                            notifyError(parser.pos,
                                'MALFORMED_OPEN_TAG',
                                'Unexpected "[" character within open tag.');
                            return;
                        }

                        currentOpenTag.withinAttrGroup = true;
                        return;
                    } else if (code === CODE_CLOSE_SQUARE_BRACKET) {
                        if (!currentOpenTag.withinAttrGroup) {
                            notifyError(parser.pos,
                                'MALFORMED_OPEN_TAG',
                                'Unexpected "]" character within open tag.');
                            return;
                        }

                        currentOpenTag.withinAttrGroup = false;
                        return;
                    }
                } else {
                    if (code === CODE_CLOSE_ANGLE_BRACKET) {
                        finishOpenTag();
                        return;
                    } else if (code === CODE_FORWARD_SLASH) {
                        let nextCode = parser.lookAtCharCodeAhead(1);
                        if (nextCode === CODE_CLOSE_ANGLE_BRACKET) {
                            finishOpenTag(true /* self closed */);
                            parser.skip(1);
                            return;
                        }
                    }
                }

                if (checkForEscapedEscapedPlaceholder(ch, code)) {
                    let attr = beginAttribute();
                    attr.name = '\\';
                    parser.skip(1);
                    return;
                }  else if (checkForEscapedPlaceholder(ch, code)) {
                    let attr = beginAttribute();
                    attr.name = '$';
                    parser.skip(1);
                    return;
                } else if (checkForPlaceholder(ch, code)) {
                    return;
                }

                if (code === CODE_OPEN_ANGLE_BRACKET) {
                    return notifyError(parser.pos,
                        'ILLEGAL_ATTRIBUTE_NAME',
                        'Invalid attribute name. Attribute name cannot begin with the "<" character.');
                }

                if (code === CODE_FORWARD_SLASH && parser.lookAtCharCodeAhead(1) === CODE_ASTERISK) {
                    // Skip over code inside a JavaScript block comment
                    beginBlockComment();
                    parser.skip(1);
                    return;
                }

                if (isWhitespaceCode(code)) {
                    // ignore whitespace within element...
                } else if (code === CODE_OPEN_PAREN) {
                    parser.rewind(1);
                    beginExpression();
                    // encountered something like:
                    // <for (var i = 0; i < len; i++)>
                } else {
                    parser.rewind(1);
                    // attribute name is initially the first non-whitespace
                    // character that we found
                    beginAttribute();
                }
            }
        });

        // We enter STATE_ATTRIBUTE_NAME when we see a non-whitespace
        // character after reading the tag name
        var STATE_ATTRIBUTE_NAME = Parser.createState({
            name: 'STATE_ATTRIBUTE_NAME',

            eol: openTagEOL,

            eof: openTagEOF,

            expression(expression) {
                var argument = getAndRemoveArgument(expression);
                if (argument) {
                    // The tag has an argument that we need to slice off
                    currentAttribute.argument = argument;
                }

                if(expression.endedWithComma) {
                    // consume all following whitespace,
                    // including new lines (which allows attributes to
                    // span multiple lines in concise mode)
                    consumeWhitespace();
                    currentOpenTag.requiresCommas = true;
                    currentAttribute.endedWithComma = true;
                } else if(!lookPastWhitespaceFor('=', 0)){
                    currentOpenTag.lastAttrNoComma = true;
                }

                currentAttribute.name = currentAttribute.name ? currentAttribute.name + expression.value : expression.value;
                currentAttribute.pos = expression.pos;
                currentAttribute.endPos = expression.endPos;
            },

            enter(oldState) {
                if (currentOpenTag.requiresCommas && currentOpenTag.lastAttrNoComma) {
                    var parseOptions = currentOpenTag.parseOptions;

                    if (!parseOptions || parseOptions.relaxRequireCommas !== true) {
                        return notifyError(parser.pos,
                            'COMMAS_REQUIRED',
                            'if commas are used, they must be used to separate all attributes for a tag');
                    }
                }

                if (oldState !== STATE_EXPRESSION) {
                    beginExpression();
                }
            },

            char(ch, code) {
                throw new Error('Illegal state');
            }
        });

        // We enter STATE_ATTRIBUTE_VALUE when we see a "=" while in
        // the ATTRIBUTE_NAME state.
        var STATE_ATTRIBUTE_VALUE = Parser.createState({
            name: 'STATE_ATTRIBUTE_VALUE',

            expression(expression) {
                var value = expression.value;

                if (value === '') {

                    return notifyError(expression.pos,
                        'ILLEGAL_ATTRIBUTE_VALUE',
                        'No attribute value found after "="');
                }

                if(expression.endedWithComma) {
                    // consume all following whitespace,
                    // including new lines (which allows attributes to
                    // span multiple lines in concise mode)
                    consumeWhitespace();
                    currentOpenTag.requiresCommas = true;
                    currentAttribute.endedWithComma = true;
                } else {
                    currentOpenTag.lastAttrNoComma = true;
                }

                if(expression.hasUnenclosedWhitespace) {
                    currentOpenTag.hasUnenclosedWhitespace = true;
                }

                currentAttribute.value = value;
                currentAttribute.pos = expression.pos;
                currentAttribute.endPos = expression.endPos;

                // If the expression evaluates to a literal value then add the
                // `literalValue` property to the attribute
                if (expression.isStringLiteral) {
                    currentAttribute.literalValue = evaluateStringExpression(value, expression.pos, notifyError);
                } else if (value === 'true') {
                    currentAttribute.literalValue = true;
                } else if (value === 'false') {
                    currentAttribute.literalValue = false;
                } else if (value === 'null') {
                    currentAttribute.literalValue = null;
                } else if (value === 'undefined') {
                    currentAttribute.literalValue = undefined;
                } else if (NUMBER_REGEX.test(value)) {
                    currentAttribute.literalValue = Number(value);
                }

                // We encountered a whitespace character while parsing the attribute name. That
                // means the attribute name has ended and we should continue parsing within the
                // open tag
                endAttribute();
            },

            eol: openTagEOL,

            eof: openTagEOF,

            enter(oldState) {
                if (oldState !== STATE_EXPRESSION) {
                    beginExpression();
                }
            },

            char(ch, code) {
                throw new Error('Illegal state');
            }
        });

        var STATE_EXPRESSION = Parser.createState({
            name: 'STATE_EXPRESSION',

            eol(str) {
                let depth = currentPart.groupStack.length;

                if (depth === 0) {
                    if (currentPart.parentState === STATE_ATTRIBUTE_NAME || currentPart.parentState === STATE_ATTRIBUTE_VALUE) {
                        currentPart.endPos = parser.pos;
                        endExpression();
                        // We encountered a whitespace character while parsing the attribute name. That
                        // means the attribute name has ended and we should continue parsing within the
                        // open tag
                        endAttribute();

                        if (isConcise) {
                            openTagEOL();
                        }
                        return;
                    } else if (currentPart.parentState === STATE_TAG_NAME) {
                        currentPart.endPos = parser.pos;
                        endExpression();

                        // We encountered a whitespace character while parsing the attribute name. That
                        // means the attribute name has ended and we should continue parsing within the
                        // open tag
                        if (parser.state !== STATE_WITHIN_OPEN_TAG) {
                            // Make sure we transition into parsing within the open tag
                            parser.enterState(STATE_WITHIN_OPEN_TAG);
                        }

                        if (isConcise) {
                            openTagEOL();
                        }

                        return;
                    }
                }

                currentPart.value += str;
            },

            eof() {
                if (isConcise && currentPart.groupStack.length === 0) {
                    currentPart.endPos = parser.pos;
                    endExpression();
                    openTagEOF();
                } else {
                    let parentState = currentPart.parentState;

                    if (parentState === STATE_ATTRIBUTE_NAME) {
                        return notifyError(currentPart.pos,
                            'MALFORMED_OPEN_TAG',
                            'EOF reached while parsing attribute name for the "' + currentOpenTag.tagName + '" tag');
                    } else if (parentState === STATE_ATTRIBUTE_VALUE) {
                        return notifyError(currentPart.pos,
                            'MALFORMED_OPEN_TAG',
                            'EOF reached while parsing attribute value for the "' + currentAttribute.name + '" attribute');
                    } else if (parentState === STATE_TAG_NAME) {
                        return notifyError(currentPart.pos,
                            'MALFORMED_OPEN_TAG',
                            'EOF reached while parsing tag name');
                    } else if (parentState === STATE_PLACEHOLDER) {
                        return notifyError(currentPart.pos,
                            'MALFORMED_PLACEHOLDER',
                            'EOF reached while parsing placeholder');
                    }

                    return notifyError(currentPart.pos,
                        'INVALID_EXPRESSION',
                        'EOF reached will parsing expression');
                }
            },

            string(string) {
                if (currentPart.value === '') {
                    currentPart.isStringLiteral = string.isStringLiteral === true;
                } else {
                    // More than one strings means it is for sure not a string literal...
                    currentPart.isStringLiteral = false;
                }

                currentPart.value += string.value;
            },

            comment(comment) {
                currentPart.isStringLiteral = false;
                currentPart.value += comment.rawValue;
            },

            templateString(templateString) {
                currentPart.isStringLiteral = false;
                currentPart.value += templateString.value;
            },

            char(ch, code) {
                let depth = currentPart.groupStack.length;
                let parentState = currentPart.parentState;

                if (code === CODE_SINGLE_QUOTE) {
                    return beginString("'", CODE_SINGLE_QUOTE);
                } else if (code === CODE_DOUBLE_QUOTE) {
                    return beginString('"', CODE_DOUBLE_QUOTE);
                } else if (code === CODE_BACKTICK) {
                    return beginTemplateString();
                } else if (code === CODE_FORWARD_SLASH) {
                    // Check next character to see if we are in a comment
                    var nextCode = parser.lookAtCharCodeAhead(1);
                    if (nextCode === CODE_FORWARD_SLASH) {
                        beginLineComment();
                        parser.skip(1);
                        return;
                    } else if (nextCode === CODE_ASTERISK) {

                        beginBlockComment();
                        parser.skip(1);
                        return;
                    } else if (depth === 0 && !isConcise && nextCode === CODE_CLOSE_ANGLE_BRACKET) {
                        // Let the STATE_WITHIN_OPEN_TAG state deal with the ending tag sequence
                        currentPart.endPos = parser.pos;
                        endExpression();
                        parser.rewind(1);

                        if (parser.state !== STATE_WITHIN_OPEN_TAG) {
                            // Make sure we transition into parsing within the open tag
                            parser.enterState(STATE_WITHIN_OPEN_TAG);
                        }
                        return;
                    }
                } else if (code === CODE_OPEN_PAREN ||
                           code === CODE_OPEN_SQUARE_BRACKET ||
                           code === CODE_OPEN_CURLY_BRACE) {

                    if (depth === 0 && code === CODE_OPEN_PAREN) {
                        currentPart.lastLeftParenPos = currentPart.value.length;
                    }

                    currentPart.groupStack.push(code);
                    currentPart.isStringLiteral = false;
                    currentPart.value += ch;
                    return;
                } else if (code === CODE_CLOSE_PAREN ||
                           code === CODE_CLOSE_SQUARE_BRACKET ||
                           code === CODE_CLOSE_CURLY_BRACE) {

                    if (depth === 0) {
                        if (code === CODE_CLOSE_SQUARE_BRACKET) {
                            // We are ending the attribute group so end this expression and let the
                            // STATE_WITHIN_OPEN_TAG state deal with the ending attribute group
                            if (currentOpenTag.withinAttrGroup) {
                                currentPart.endPos = parser.pos + 1;
                                endExpression();
                                // Let the STATE_WITHIN_OPEN_TAG state deal with the ending tag sequence
                                parser.rewind(1);
                                if (parser.state !== STATE_WITHIN_OPEN_TAG) {
                                    // Make sure we transition into parsing within the open tag
                                    parser.enterState(STATE_WITHIN_OPEN_TAG);
                                }
                                return;
                            }
                        } else {
                            return notifyError(currentPart.pos,
                                'INVALID_EXPRESSION',
                                'Mismatched group. A closing "' + ch + '" character was found but it is not matched with a corresponding opening character.');
                        }
                    }


                    let matchingGroupCharCode = currentPart.groupStack.pop();

                    if ((code === CODE_CLOSE_PAREN && matchingGroupCharCode !== CODE_OPEN_PAREN) ||
                        (code === CODE_CLOSE_SQUARE_BRACKET && matchingGroupCharCode !== CODE_OPEN_SQUARE_BRACKET) ||
                        (code === CODE_CLOSE_CURLY_BRACE && matchingGroupCharCode !== CODE_OPEN_CURLY_BRACE)) {
                            return notifyError(currentPart.pos,
                                'INVALID_EXPRESSION',
                                'Mismatched group. A "' + ch + '" character was found when "' + String.fromCharCode(matchingGroupCharCode) + '" was expected.');
                    }

                    currentPart.value += ch;

                    if (currentPart.groupStack.length === 0) {
                        if (code === CODE_CLOSE_PAREN) {
                            currentPart.lastRightParenPos = currentPart.value.length - 1;
                        } else if (code === CODE_CLOSE_CURLY_BRACE && parentState === STATE_PLACEHOLDER) {
                            currentPart.endPos = parser.pos + 1;
                            endExpression();
                            return;
                        }
                    }

                    return;
                } else if (depth === 0) {

                    if (!isConcise) {
                        if (code === CODE_CLOSE_ANGLE_BRACKET &&
                            (parentState === STATE_TAG_NAME ||
                             parentState === STATE_ATTRIBUTE_NAME ||
                             parentState === STATE_ATTRIBUTE_VALUE ||
                             parentState === STATE_WITHIN_OPEN_TAG)) {
                            currentPart.endPos = parser.pos;
                            endExpression();
                            endAttribute();
                            // Let the STATE_WITHIN_OPEN_TAG state deal with the ending tag sequence
                            parser.rewind(1);
                            if (parser.state !== STATE_WITHIN_OPEN_TAG) {
                                // Make sure we transition into parsing within the open tag
                                parser.enterState(STATE_WITHIN_OPEN_TAG);
                            }
                            return;
                        }
                    }

                    if (code === CODE_SEMICOLON) {
                        endExpression();
                        endAttribute();
                        if(isConcise) {
                            finishOpenTag();
                            beginCheckTrailingWhitespace(function(hasChar) {
                                if(hasChar) {
                                    var code = hasChar.ch.charCodeAt(0);

                                    if(code === CODE_FORWARD_SLASH) {
                                        if(parser.lookAheadFor('/')) {
                                            beginLineComment();
                                            parser.skip(1);
                                            return;
                                        } else if(parser.lookAheadFor('*')) {
                                            beginBlockComment();
                                            parser.skip(1);
                                            return;
                                        }
                                    } else if (code === CODE_OPEN_ANGLE_BRACKET && parser.lookAheadFor('!--')) {
                                        // html comment
                                        beginHtmlComment();
                                        parser.skip(3);
                                        return;
                                    }

                                    notifyError(parser.pos,
                                        'INVALID_CODE_AFTER_SEMICOLON',
                                        'A semicolon indicates the end of a line.  Only comments may follow it.');
                                }
                            });
                        }
                        return;
                    }

                    if (currentPart.parentState === STATE_TAG_NAME) {
                        if (code === CODE_EQUAL || isWhitespaceCode(code)) {
                            // Handle the case where are only attributes and no tagname:
                            // <a=1 b=2/>
                            var remaining = parser.data.substring(parser.pos);
                            var equalMatches = /^\s*=\s*/.exec(remaining);

                            if (equalMatches) {
                                let attrName = currentPart.value;
                                let parserPos = parser.pos;
                                currentPart.value = ''; // Reset the expression value to '' for the tag name
                                // Backtrack to the beginning of the tag before firing the open tag name event:
                                parser.pos = currentPart.pos;
                                currentOpenTag.emptyTagName = true; // Set a flag to mark this as an empty tag name
                                endExpression();

                                // Start the attributes section with the first attribute name being what we thought
                                // was the tag name
                                currentAttribute = {
                                    name: attrName,
                                    pos: currentOpenTag.pos
                                };

                                currentOpenTag.attributes = [currentAttribute];
                                let equalMatch = equalMatches[0];
                                // Advance past the equal sign and whitespace to start parsing the attribute value
                                parser.pos = parserPos + equalMatch.length - 1;
                                parser.enterState(STATE_ATTRIBUTE_VALUE);
                                return;
                            }
                        }
                    }

                    if (code === CODE_COMMA || isWhitespaceCode(code)) {
                        if (code === CODE_COMMA || lookPastWhitespaceFor(',')) {
                            if(code !== CODE_COMMA) {
                                consumeWhitespace();
                                parser.skip(1);
                            }

                            currentPart.endedWithComma = true;
                        } else if (currentPart.parentState === STATE_ATTRIBUTE_NAME && lookPastWhitespaceFor('=')) {
                            consumeWhitespace();
                            return;
                        } else if (parentState === STATE_ATTRIBUTE_VALUE) {
                            var typeofExpression = checkForTypeofOperator();
                            if (typeofExpression) {
                                currentPart.value += typeofExpression;
                                currentPart.isStringLiteral = false;
                                currentPart.hasUnenclosedWhitespace = true;
                                parser.skip(typeofExpression.length-1);
                                return;
                            }

                            var operator = checkForOperator();

                            if (operator) {
                                currentPart.isStringLiteral = false;
                                currentPart.hasUnenclosedWhitespace = true;
                                currentPart.value += operator;
                                return;
                            }
                        }

                        currentPart.endPos = parser.pos;
                        endExpression();
                        endAttribute();
                        if (parser.state !== STATE_WITHIN_OPEN_TAG) {
                            // Make sure we transition into parsing within the open tag
                            parser.enterState(STATE_WITHIN_OPEN_TAG);
                        }
                        return;
                    } else if (code === CODE_EQUAL && parentState === STATE_ATTRIBUTE_NAME) {
                        currentPart.endPos = parser.pos;
                        endExpression();
                        // We encountered "=" which means we need to start reading
                        // the attribute value.
                        parser.enterState(STATE_ATTRIBUTE_VALUE);
                        consumeWhitespace();
                        return;
                    }

                    if (currentPart.value === '') {
                        let typeofExpression = checkForTypeofOperatorAtStart();
                        if (typeofExpression) {
                            currentPart.value += typeofExpression;
                            currentPart.isStringLiteral = false;
                            currentPart.hasUnenclosedWhitespace = true;
                            parser.skip(typeofExpression.length-1);
                            return;
                        }
                    }

                    if (currentPart.parentState === STATE_TAG_NAME) {
                        if (checkForEscapedEscapedPlaceholder(ch, code)) {
                            currentPart.value += '\\';
                            parser.skip(1);
                            return;
                        }  else if (checkForEscapedPlaceholder(ch, code)) {
                            currentPart.value += '$';
                            parser.skip(1);
                            return;
                        } else if (code === CODE_DOLLAR && parser.lookAtCharCodeAhead(1) === CODE_OPEN_CURLY_BRACE) {
                            currentPart.endPos = parser.pos;
                            endExpression();
                            // We expect to start a placeholder at the first curly brace (the next character)
                            beginPlaceholder(true, true /* tag name */);
                            return;
                        } else if (code === CODE_PERIOD || code === CODE_NUMBER_SIGN) {
                            endExpression();
                            parser.rewind(1);
                            beginTagNameShorthand();
                            return;
                        }
                    }
                }

                // If we got here then we didn't find a string part so we know
                // the current expression is not a string literal
                currentPart.isStringLiteral = false;
                currentPart.value += ch;
            }
        });

        var STATE_TAG_NAME_SHORTHAND = Parser.createState({
            name: 'STATE_TAG_NAME_SHORTHAND',

            placeholder(placeholder) {
                var shorthand = currentPart;
                shorthand.currentPart.addPlaceholder(placeholder);
            },

            eol(str) {
                currentOpenTag.tagNameEnd = parser.pos;
                endTagNameShorthand();

                if (parser.state !== STATE_WITHIN_OPEN_TAG) {
                    // Make sure we transition into parsing within the open tag
                    parser.enterState(STATE_WITHIN_OPEN_TAG);
                }

                if (isConcise) {
                    openTagEOL();
                }
            },

            eof() {
                endTagNameShorthand();

                if (isConcise) {
                    openTagEOF();
                } else {
                    return notifyError(currentPart.pos,
                        'INVALID_TAG_SHORTHAND',
                        'EOF reached will parsing id/class shorthand in tag name');
                }
            },

            char(ch, code) {
                var shorthand = currentPart;
                if (!isConcise) {
                    if (code === CODE_CLOSE_ANGLE_BRACKET || code === CODE_FORWARD_SLASH) {
                        currentOpenTag.tagNameEnd = parser.pos;
                        endTagNameShorthand();
                        parser.rewind(1);
                        return;
                    }
                }

                if (isWhitespaceCode(code)) {
                    endTagNameShorthand();
                    currentOpenTag.tagNameEnd = parser.pos;
                    if (parser.state !== STATE_WITHIN_OPEN_TAG) {
                        parser.enterState(STATE_WITHIN_OPEN_TAG);
                    }
                    return;
                }

                if (code === CODE_PERIOD) {
                    if (shorthand.currentPart) {
                        shorthand.currentPart.end();
                    }

                    shorthand.beginPart('class');
                } else if (code === CODE_NUMBER_SIGN) {
                    if (shorthand.hasId) {
                        return notifyError(currentPart.pos,
                            'INVALID_TAG_SHORTHAND',
                            'Multiple shorthand ID parts are not allowed on the same tag');
                    }

                    shorthand.hasId = true;

                    if (shorthand.currentPart) {
                        shorthand.currentPart.end();
                    }

                    shorthand.beginPart('id');
                }

                else if (!ignorePlaceholders && checkForEscapedEscapedPlaceholder(ch, code)) {
                    shorthand.currentPart.text += '\\';
                    parser.skip(1);
                }  else if (!ignorePlaceholders && checkForEscapedPlaceholder(ch, code)) {
                    shorthand.currentPart.text += '$';
                    parser.skip(1);
                } else if (!ignorePlaceholders && checkForPlaceholder(ch, code)) {
                    // We went into placeholder state...
                } else {
                    shorthand.currentPart.text += ch;
                }
            }
        });

        // We enter STATE_WITHIN_OPEN_TAG after we have fully
        // read in the tag name and encountered a whitespace character
        var STATE_AFTER_PLACEHOLDER_WITHIN_TAG = Parser.createState({
            name: 'STATE_AFTER_PLACEHOLDER_WITHIN_TAG',

            eol: openTagEOL,

            eof: openTagEOF,

            char(ch, code) {

                if (!isConcise) {
                    if (code === CODE_CLOSE_ANGLE_BRACKET) {
                        finishOpenTag();
                        return;
                    } else if (code === CODE_FORWARD_SLASH) {
                        let nextCode = parser.lookAtCharCodeAhead(1);
                        if (nextCode === CODE_CLOSE_ANGLE_BRACKET) {
                            finishOpenTag(true /* self closed */);
                            parser.skip(1);
                            return;
                        }
                    }
                }

                if (isWhitespaceCode(code)) {
                    parser.enterState(STATE_WITHIN_OPEN_TAG);
                } else {
                    notifyError(parser.pos,
                        'UNEXPECTED_TEXT_AFTER_PLACEHOLDER_IN_TAG',
                        `An unexpected "${ch}" character was found after a placeoholder within the open tag.`);
                    return;
                }
            }
        });

        var STATE_PLACEHOLDER = Parser.createState({
            name: 'STATE_PLACEHOLDER',

            expression(expression) {
                currentPart.value = expression.value.slice(1, -1); // Chop off the curly braces
                currentPart.endPos = expression.endPos;
                endPlaceholder();
            },

            eol(str) {
                throw new Error('Illegal state. EOL not expected');
            },

            eof() {
                throw new Error('Illegal state. EOF not expected');
            },

            enter(oldState) {
                if (oldState !== STATE_EXPRESSION) {
                    beginExpression();
                }
            }
        });

        var STATE_STRING = Parser.createState({
            name: 'STATE_STRING',

            placeholder(placeholder) {
                if (currentPart.currentText) {
                    currentPart.stringParts.push(currentPart.currentText);
                    currentPart.currentText = '';
                }
                currentPart.isStringLiteral = false;
                currentPart.stringParts.push(placeholder);
            },

            eol(str) {
                // New line characters are not allowed in JavaScript string expressions. We need to use
                // a different character sequence, but we don't want to through off positions so we need
                // to use a replacement sequence with the same number of characters.
                if (str.length === 2) {
                    currentPart.currentText += '\\r\\n';
                } else {
                    currentPart.currentText += '\\n';
                }

            },

            eof() {
                if (placeholderDepth > 0) {
                    notifyError(parser.pos,
                        'INVALID_STRING',
                        'EOF reached while parsing string expression found inside placeholder');
                    return;
                }
                notifyError(parser.pos,
                    'INVALID_STRING',
                    'EOF reached while parsing string expression');
            },

            char(ch, code) {
                var stringParts = currentPart.stringParts;

                var nextCh;
                var quoteCharCode = currentPart.quoteCharCode;

                if (code === CODE_BACK_SLASH) {
                    if (checkForEscapedEscapedPlaceholder(ch, code)) {
                        if (ignorePlaceholders) {
                            // We are actually adding two escaped backslashes here...
                            currentPart.currentText += '\\\\\\\\';
                        } else {
                            currentPart.currentText += '\\';
                        }
                    }  else if (checkForEscapedPlaceholder(ch, code)) {
                        if (ignorePlaceholders) {
                            // We are actually adding one escaped backslashes here...
                            currentPart.currentText += '\\\\$';
                        } else {
                            currentPart.currentText += '$';
                        }
                    } else {
                        // Handle string escape sequence
                        nextCh = parser.lookAtCharAhead(1);
                        currentPart.currentText += ch + nextCh;
                    }

                    parser.skip(1);
                } else if (code === quoteCharCode) {
                    // We encountered the end delimiter
                    if (currentPart.currentText) {
                        stringParts.push(currentPart.currentText);
                    }

                    let stringExpr = '';
                    let quoteChar =  currentPart.quoteChar;

                    if (stringParts.length) {
                        for (let i=0; i<stringParts.length; i++) {
                            let part = stringParts[i];
                            if (i !== 0) {
                                stringExpr += '+';
                            }

                            if (typeof part === 'string') {
                                stringExpr += quoteChar + part + quoteChar;
                            } else {
                                stringExpr += '(' + part.value + ')';
                            }
                        }
                    } else {
                        // Just an empty string...
                        stringExpr = quoteChar + quoteChar;
                    }

                    if (stringParts.length > 1) {
                        stringExpr = '(' + stringExpr + ')';
                    }

                    currentPart.value = stringExpr;
                    endString();
                } else if (!ignorePlaceholders && checkForPlaceholder(ch, code)) {
                    if (currentPart.currentText) {
                        stringParts.push(currentPart.currentText);
                    }

                    currentPart.currentText = '';
                    // We encountered nested placeholder...
                    currentPart.isStringLiteral = false;
                } else {
                    currentPart.currentText += ch;
                }
            }
        });

        var STATE_TEMPLATE_STRING = Parser.createState({
            name: 'STATE_TEMPLATE_STRING',

            placeholder: function(placeholder) {
                if (currentPart.currentText) {
                    currentPart.stringParts.push(currentPart.currentText);
                    currentPart.currentText = '';
                }
                currentPart.isStringLiteral = false;
                currentPart.stringParts.push(placeholder);
            },

            eol(str) {
                // Convert the EOL sequence ot the equivalent string escape sequences... Not necessary
                // for template strings but it is equivalent.
                if (str.length === 2) {
                    currentPart.value += '\\r\\n';
                } else {
                    currentPart.value += '\\n';
                }
            },

            eof() {
                notifyError(parser.pos,
                    'INVALID_TEMPLATE_STRING',
                    'EOF reached while parsing template string expression');
            },

            char(ch, code) {
                var nextCh;
                currentPart.value += ch;
                if (code === CODE_BACK_SLASH) {
                    // Handle string escape sequence
                    nextCh = parser.lookAtCharAhead(1);
                    parser.skip(1);

                    currentPart.value += nextCh;
                } else if (code === CODE_BACKTICK) {
                    endTemplateString();
                }
            }
        });

        // We enter STATE_JS_COMMENT_BLOCK after we encounter a "/*" sequence
        // while in STATE_ATTRIBUTE_VALUE or STATE_DELIMITED_EXPRESSION.
        // We leave STATE_JS_COMMENT_BLOCK when we see a "*/" sequence.
        var STATE_JS_COMMENT_BLOCK = Parser.createState({
            name: 'STATE_JS_COMMENT_BLOCK',

            eol(str) {
                currentPart.value += str;
            },

            eof() {
                notifyError(currentPart.pos,
                    'MALFORMED_COMMENT',
                    'EOF reached while parsing multi-line JavaScript comment');
            },

            char(ch, code) {


                if (code === CODE_ASTERISK) {
                    var nextCode = parser.lookAtCharCodeAhead(1);
                    if (nextCode === CODE_FORWARD_SLASH) {
                        currentPart.endPos = parser.pos + 2;
                        endJavaScriptComment();
                        parser.skip(1);
                        return;
                    }
                }

                currentPart.value += ch;
            }
        });

        // We enter STATE_JS_COMMENT_LINE after we encounter a "//" sequence
        // when parsing JavaScript code.
        // We leave STATE_JS_COMMENT_LINE when we see a newline character.
        var STATE_JS_COMMENT_LINE = Parser.createState({
            name: 'STATE_JS_COMMENT_LINE',

            eol(str) {
                currentPart.value += str;
                currentPart.endPos = parser.pos;
                currentPart.eol = str;
                endJavaScriptComment();
            },

            eof() {
                currentPart.endPos = parser.pos;
                endJavaScriptComment();
            },

            char(ch, code) {
                if (currentPart.parentState === STATE_PARSED_TEXT_CONTENT) {
                    if (!isConcise && code === CODE_OPEN_ANGLE_BRACKET) {
                        // First, see if we need to see if we reached the closing tag
                        // and then check if we encountered CDATA
                        if (checkForClosingTag()) {
                            return;
                        }
                    }
                }

                currentPart.value += ch;
            }
        });

        // We enter STATE_DTD after we encounter a "<!" while in the STATE_HTML_CONTENT.
        // We leave STATE_DTD if we see a ">".
        var STATE_DTD = Parser.createState({
            name: 'STATE_DTD',

            eol(str) {
                currentPart.value += str;
            },

            eof() {
                notifyError(currentPart.pos,
                    'MALFORMED_DOCUMENT_TYPE',
                    'EOF reached while parsing document type');
            },

            char(ch, code) {
                if (code === CODE_CLOSE_ANGLE_BRACKET) {
                    currentPart.endPos = parser.pos + 1;
                    endDocumentType();
                } else {
                    currentPart.value += ch;
                }
            }
        });

        // We enter STATE_DECLARATION after we encounter a "<?"
        // while in the STATE_HTML_CONTENT.
        // We leave STATE_DECLARATION if we see a "?>" or ">".
        var STATE_DECLARATION = Parser.createState({
            name: 'STATE_DECLARATION',

            eol(str) {
                currentPart.value += str;
            },

            eof() {
                notifyError(currentPart.pos,
                    'MALFORMED_DECLARATION',
                    'EOF reached while parsing declaration');
            },

            char(ch, code) {
                if (code === CODE_QUESTION) {
                    var nextCode = parser.lookAtCharCodeAhead(1);
                    if (nextCode === CODE_CLOSE_ANGLE_BRACKET) {
                        currentPart.endPos = parser.pos + 2;
                        endDeclaration();
                        parser.skip(1);
                    }
                } else if (code === CODE_CLOSE_ANGLE_BRACKET) {
                    currentPart.endPos = parser.pos + 1;
                    endDeclaration();
                } else {
                    currentPart.value += ch;
                }
            }
        });

        // We enter STATE_HTML_COMMENT after we encounter a "<--"
        // while in the STATE_HTML_CONTENT.
        // We leave STATE_HTML_COMMENT when we see a "-->".
        var STATE_HTML_COMMENT = Parser.createState({
            name: 'STATE_HTML_COMMENT',

            eol(newLineChars) {
                currentPart.value += newLineChars;
            },

            eof() {
                notifyError(currentPart.pos,
                    'MALFORMED_COMMENT',
                    'EOF reached while parsing comment');
            },

            char(ch, code) {
                if (code === CODE_HYPHEN) {
                    var match = parser.lookAheadFor('->');
                    if (match) {
                        currentPart.endPos = parser.pos + 3;
                        endHtmlComment();
                        parser.skip(match.length);
                    } else {
                        currentPart.value += ch;
                    }
                } else {
                    currentPart.value += ch;
                }
            }
        });

        // We enter STATE_SCRIPTLET after we encounter a "<%" while in STATE_HTML_CONTENT.
        // We leave STATE_SCRIPTLET if we see a "%>".
        var STATE_SCRIPTLET = Parser.createState({
            name: 'STATE_SCRIPTLET',

            eol(str) {
                currentPart.value += str;
            },

            eof() {
                notifyError(currentPart.pos,
                    'MALFORMED_SCRIPTLET',
                    'EOF reached while parsing scriptlet');
            },

            comment(comment) {
                currentPart.value += comment.rawValue;
            },

            char(ch, code) {
                if (currentPart.quoteCharCode) {
                    currentPart.value += ch;

                    // We are within a string... only look for ending string code
                    if (code === CODE_BACK_SLASH) {
                        // Handle string escape sequence
                        currentPart.value += parser.lookAtCharAhead(1);
                        parser.skip(1);
                    } else if (code === currentPart.quoteCharCode) {
                        currentPart.quoteCharCode = null;
                    }
                    return;
                } else if (code === CODE_FORWARD_SLASH) {
                    if (parser.lookAtCharCodeAhead(1) === CODE_ASTERISK) {
                        // Skip over code inside a JavaScript block comment
                        beginBlockComment();
                        parser.skip(1);
                        return;
                    }
                } else if (code === CODE_SINGLE_QUOTE || code === CODE_DOUBLE_QUOTE) {
                    currentPart.quoteCharCode = code;
                } else if (code === CODE_PERCENT) {
                    if (parser.lookAtCharCodeAhead(1) === CODE_CLOSE_ANGLE_BRACKET) {
                        endScriptlet(parser.pos + 2 /* end pos */);
                        parser.skip(1); // Skip over the closing right angle bracket
                        return;
                    }
                }

                currentPart.value += ch;
            }
        });

        var STATE_INLINE_SCRIPT = Parser.createState({
            name: 'STATE_INLINE_SCRIPT',

            eol(str) {
                if (currentPart.endMatch || currentPart.stringType === CODE_BACKTICK) {
                    currentPart.value += str;
                } else {
                    endInlineScript(parser.pos);
                    parser.rewind(str.length);
                }
            },

            eof() {
                if (currentPart.endMatch || currentPart.stringType) {
                    notifyError(currentPart.pos,
                        'MALFORMED_SCRIPTLET',
                        'EOF reached while parsing scriptet');
                } else {
                    endInlineScript(parser.pos);
                }
            },

            comment(comment) {
                currentPart.value += comment.rawValue;
            },

            char(ch, code) {
                currentPart.value += ch;

                if (code === CODE_BACK_SLASH) {
                    currentPart.value += parser.lookAtCharAhead(1);
                    parser.skip(1);
                    return;
                }

                if (currentPart.stringType) {
                    if (code === currentPart.stringType) {
                        currentPart.stringType = null;
                    }
                    return;
                }

                if (code === currentPart.endMatch) {
                    currentPart.endMatch = currentPart.endMatches.pop();
                    return;
                }

                if (code === CODE_FORWARD_SLASH) {
                    if (parser.lookAtCharCodeAhead(1) === CODE_ASTERISK) {
                        // Skip over code inside a JavaScript block comment
                        beginBlockComment();
                        parser.skip(1);
                        return;
                    }
                }

                if (code === CODE_SINGLE_QUOTE || code === CODE_DOUBLE_QUOTE || code === CODE_BACKTICK) {
                    currentPart.stringType = code;
                    return;
                }

                var nextMatch = null;

                if (code === CODE_OPEN_PAREN) {
                    nextMatch = CODE_CLOSE_PAREN;
                } else if (code === CODE_OPEN_CURLY_BRACE) {
                    nextMatch = CODE_CLOSE_CURLY_BRACE;
                } else if (code === CODE_OPEN_SQUARE_BRACKET) {
                    nextMatch = CODE_CLOSE_SQUARE_BRACKET;
                }

                if (nextMatch) {
                    if (currentPart.endMatch) {
                        currentPart.endMatches.push(currentPart.endMatch);
                    }
                    currentPart.endMatch = nextMatch;
                }
            }
        });

        parser.enterHtmlContentState = function() {
            if (parser.state !== STATE_HTML_CONTENT) {
                parser.enterState(STATE_HTML_CONTENT);
            }
        };

        parser.enterConciseHtmlContentState = function() {
            if (parser.state !== STATE_CONCISE_HTML_CONTENT) {
                parser.enterState(STATE_CONCISE_HTML_CONTENT);
            }
        };

        parser.enterParsedTextContentState = function() {
            var last = blockStack.length && blockStack[blockStack.length - 1];

            if (!last || !last.tagName) {
                throw new Error('The "parsed text content" parser state is only allowed within a tag');
            }

            if (isConcise) {
                // We will transition into the STATE_PARSED_TEXT_CONTENT state
                // for each of the nested HTML blocks
                last.body = BODY_PARSED_TEXT;
                parser.enterState(STATE_CONCISE_HTML_CONTENT);
            } else {
                parser.enterState(STATE_PARSED_TEXT_CONTENT);
            }
        };

        parser.enterJsContentState = parser.enterParsedTextContentState;
        parser.enterCssContentState = parser.enterParsedTextContentState;

        parser.enterStaticTextContentState = function() {
            var last = blockStack.length && blockStack[blockStack.length - 1];

            if (!last || !last.tagName) {
                throw new Error('The "static text content" parser state is only allowed within a tag');
            }

            if (isConcise) {
                // We will transition into the STATE_STATIC_TEXT_CONTENT state
                // for each of the nested HTML blocks
                last.body = BODY_STATIC_TEXT;
                parser.enterState(STATE_CONCISE_HTML_CONTENT);
            } else {
                parser.enterState(STATE_STATIC_TEXT_CONTENT);
            }
        };


        if (defaultMode === MODE_CONCISE) {
            parser.setInitialState(STATE_CONCISE_HTML_CONTENT);
            parser.enterDefaultState = function() {
                parser.enterState(STATE_CONCISE_HTML_CONTENT);
            };
        } else {
            parser.setInitialState(STATE_HTML_CONTENT);
            parser.enterDefaultState = function() {
                parser.enterState(STATE_HTML_CONTENT);
            };
        }
    }

    parse(data, filename) {
        super.parse(data, filename);
        this.notifiers.notifyFinish();
    }
}

module.exports = Parser;
});
$_mod.def("/htmljs-parser$2.3.0/index",function(r,e,a,n,s){var t=r("/htmljs-parser$2.3.0/Parser");e.createParser=function(r,e){var a=new t(r,e||{});return a}});
$_mod.def("/marko$4.0.0-rc.12/compiler/HtmlJsParser", function(require, exports, module, __filename, __dirname) { 'use strict';
var htmljs = require('/htmljs-parser$2.3.0/index'/*'htmljs-parser'*/);

class HtmlJsParser {
    constructor(options) {
        this.ignorePlaceholders = options && options.ignorePlaceholders === true;
    }

    parse(src, handlers, filename) {
        var listeners = {
            onText(event) {
                handlers.handleCharacters(event.value, event.parseMode);
            },

            onPlaceholder(event) {
                if (event.withinBody) {
                    if (!event.withinString) {
                        handlers.handleBodyTextPlaceholder(event.value, event.escape);
                    }
                } else if (event.withinOpenTag) {
                    // Don't escape placeholder for dynamic attributes. For example: <div ${data.myAttrs}></div>
                } else {
                    // placeholder within attribute
                    if (event.escape) {
                        event.value = '$escapeXml(' + event.value + ')';
                    } else {
                        event.value = '$noEscapeXml(' + event.value + ')';
                    }
                }
                // placeholder within content

            },

            onCDATA(event) {
                handlers.handleCharacters(event.value, 'static-text');
            },

            onOpenTagName(event, parser) {
                event.selfClosed = false; // Don't allow self-closed tags

                var tagParseOptions = handlers.getTagParseOptions(event);

                if (tagParseOptions) {
                    event.setParseOptions(tagParseOptions);
                }
            },

            onOpenTag(event, parser) {
                event.selfClosed = false; // Don't allow self-closed tags
                handlers.handleStartElement(event, parser);

                var tagParseOptions = handlers.getTagParseOptions(event);
                if (tagParseOptions) {
                    event.setParseOptions(tagParseOptions);
                }
            },

            onCloseTag(event) {
                var tagName = event.tagName;
                handlers.handleEndElement(tagName);
            },

            onDocumentType(event) {

                // Document type: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd
                // NOTE: The value will be all of the text between "<!" and ">""
                handlers.handleDocumentType(event.value);
            },

            onDeclaration(event) {
                handlers.handleDeclaration(event.value);
            },

            onComment(event) {
                // Text within XML comment
                handlers.handleComment(event.value);
            },

            onScriptlet(event) {
                // <% (code) %>
                handlers.handleScriptlet(event.value);
            },

            onError(event) {
                handlers.handleError(event);
            }
        };

        var parser = this.parser = htmljs.createParser(listeners, {
            ignorePlaceholders: this.ignorePlaceholders,
            isOpenTagOnly: function(tagName) {
                return handlers.isOpenTagOnly(tagName);
            }
        });
        parser.parse(src, filename);
    }
}

module.exports = HtmlJsParser;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Program", function(require, exports, module, __filename, __dirname) { 'use strict';
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class Program extends Node {
    constructor(def) {
        super('Program');
        this.body = def.body;
    }

    generateCode(codegen) {
        this.body = codegen.generateCode(this.body);
        return this;
    }

    writeCode(writer) {
        writer.writeStatements(this.body);
    }

    walk(walker) {
        this.body = walker.walk(this.body);
    }
}

module.exports = Program;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/TemplateRoot", function(require, exports, module, __filename, __dirname) { 'use strict';
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

function createVarsArray(vars) {
    return Object.keys(vars).map(function(varName) {
        var varInit = vars[varName];
        return {
            id: varName,
            init: varInit
        };
    });
}

class TemplateRoot extends Node {
    constructor(def) {
        super('TemplateRoot');
        this.body = this.makeContainer(def.body);
        this.extraRenderParams = null;
        this.generateAssignRenderCode = null;
    }

    addRenderFunctionParam(id) {
        if (!this.extraRenderParams) {
            this.extraRenderParams = [];
        }

        this.extraRenderParams.push(id);
    }

    generateCode(codegen) {
        var context = codegen.context;

        this.body = codegen.generateCode(this.body);

        context.optimize(this);

        var body = this.body;

        var builder = codegen.builder;

        let renderStatements = [
            builder.var('data', builder.identifier('input'))
        ];
        var vars = createVarsArray(context.getVars());
        if (vars.length) {
            renderStatements.push(builder.vars(vars));
        }

        renderStatements = renderStatements.concat(body);

        if (context.inline) {
            var createInlineMarkoTemplateVar = context.helper('createInlineTemplate');

            return builder.functionCall(
                createInlineMarkoTemplateVar,
                [
                    builder.identifier('__filename'),
                    builder.functionDeclaration(
                        null,
                        [
                            builder.identifier('input'),
                            builder.identifierOut()
                        ],
                        renderStatements)
                ]);
        } else {
            var isBrowser = context.options.browser;
            var createArgs = isBrowser ?
                [] :
                [ builder.identifier('__filename') ];

            let templateDeclaration = builder.variableDeclarator('marko_template',
                builder.assignment(
                    builder.moduleExports(),
                    builder.functionCall(
                        builder.memberExpression(
                            builder.require(
                                builder.literal(context.getModuleRuntimeTarget())
                            ),
                            builder.identifier('t')
                        ),
                        createArgs
                    )
                )
            );

            let body = [];

            let staticNodes = context.getStaticNodes([templateDeclaration]);
            if (staticNodes.length) {
                body = body.concat(staticNodes);
            }

            var renderParams = [builder.identifier('input'), builder.identifierOut()];
            if (this.extraRenderParams) {
                renderParams = renderParams.concat(this.extraRenderParams);
            }

            let renderFunction = builder.functionDeclaration(
                'render',
                renderParams,
                renderStatements);

            body = body.concat([
                renderFunction,
            ]);

            var assignRenderCode;

            let templateVar = builder.identifier('marko_template');
            let renderFunctionVar = builder.identifier('render');
            let templateRendererMember = builder.memberExpression(
                builder.identifier('marko_template'),
                builder.identifier('_'));

            if (this.generateAssignRenderCode) {
                var eventArgs = {
                    context,
                    templateVar,
                    templateRendererMember,
                    renderFunctionVar
                };

                assignRenderCode = this.generateAssignRenderCode(eventArgs);
            } else {

                assignRenderCode = builder.assignment(
                    templateRendererMember,
                    renderFunctionVar);
            }

            if (assignRenderCode) {
                body = body.concat(assignRenderCode);
            }

            if (context.useMeta && context.meta) {
                body.push(builder.assignment(
                    builder.memberExpression(builder.identifier('marko_template'), builder.identifier('meta')),
                    builder.literal(context.meta)));
            }

            return builder.program(body);
        }
    }

    toJSON(prettyPrinter) {
        return {
            type: this.type,
            body: this.body
        };
    }

    walk(walker) {
        this.body = walker.walk(this.body);
    }
}

module.exports = TemplateRoot;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/FunctionDeclaration", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;

class FunctionDeclaration extends Node {
    constructor(def) {
        super('FunctionDeclaration');
        this.name = def.name;
        this.params = def.params;
        this.body = this.makeContainer(def.body);
    }

    generateCode(codegen) {
        var oldInFunction = codegen.inFunction;
        codegen.inFunction = true;
        this.body = codegen.generateCode(this.body);
        codegen.inFunction = oldInFunction;
        return this;
    }

    writeCode(writer) {
        var name = this.name;
        var params = this.params;
        var body = this.body;
        var statement = this.statement;

        if (name != null) {
            ok(typeof name === 'string' || name.type === 'Identifier', 'Function name should be a string or Identifier');
        }

        if (name) {
            writer.write('function ');
            writer.write(name);
            writer.write('(');
        } else {
            writer.write('function(');
        }

        if (params && params.length) {
            for (let i=0, paramsLen = params.length; i<paramsLen; i++) {
                if (i !== 0) {
                    writer.write(', ');
                }
                var param = params[i];

                if (typeof param === 'string') {
                    writer.write(param);
                } else {
                    if (param.type !== 'Identifier') {
                        throw new Error('Illegal param ' + JSON.stringify(param) + ' for FunctionDeclaration: ' + JSON.stringify(this));
                    }
                    writer.write(param);
                }
            }
        }

        writer.write(') ');

        writer.writeBlock(body);

        if (statement) {
            writer.write('\n');
        }
    }

    isCompoundExpression() {
        return true;
    }

    walk(walker) {
        this.name = walker.walk(this.name);
        this.params = walker.walk(this.params);
        this.body = walker.walk(this.body);
    }
}

module.exports = FunctionDeclaration;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/isCompoundExpression",function(o,n,i,r,s){function e(o){return"string"==typeof o||o.isCompoundExpression()}i.exports=e});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/FunctionCall", function(require, exports, module, __filename, __dirname) { 'use strict';
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var isCompoundExpression = require('/marko$4.0.0-rc.12/compiler/util/isCompoundExpression'/*'../util/isCompoundExpression'*/);

class FunctionCall extends Node {
    constructor(def) {
        super('FunctionCall');
        this.callee = def.callee;

        ok(this.callee, '"callee" is required');

        let args = this.args = def.args;

        if (args) {
            if (!Array.isArray(args)) {
                throw new Error('Invalid args');
            }

            for (let i=0; i<args.length; i++) {
                let arg = args[i];
                if (!arg) {
                    throw new Error('Arg ' + i + ' is not valid for function call: ' + JSON.stringify(this.toJSON(), null, 2));
                }
            }
        }
    }

    generateCode(codegen) {
        this.callee = codegen.generateCode(this.callee);
        this.args = codegen.generateCode(this.args);

        return this;
    }

    writeCode(writer) {
        var callee = this.callee;
        var args = this.args;

        var wrapWithParens = isCompoundExpression(callee);

        if (wrapWithParens) {
            writer.write('(');
        }

        writer.write(callee);

        if (wrapWithParens) {
            writer.write(')');
        }

        writer.write('(');

        if (args && args.length) {
            for (let i=0, argsLen = args.length; i<argsLen; i++) {
                if (i !== 0) {
                    writer.write(', ');
                }

                let arg = args[i];
                if (!arg) {
                    throw new Error('Arg ' + i + ' is not valid for function call: ' + JSON.stringify(this.toJSON()));
                }
                writer.write(arg);
            }
        }

        writer.write(')');


    }

    walk(walker) {
        this.callee = walker.walk(this.callee);
        this.args = walker.walk(this.args);
    }

    toString() {
        var callee = this.callee;
        var args = this.args;

        var result = callee.toString() + '(';

        if (args && args.length) {
            for (let i=0, argsLen = args.length; i<argsLen; i++) {
                if (i !== 0) {
                    result += ', ';
                }

                let arg = args[i];
                if (!arg) {
                    throw new Error('Arg ' + i + ' is not valid for function call: ' + JSON.stringify(this.toJSON()));
                }
                result += arg;
            }
        }

        result += ')';
        return result;
    }
}

module.exports = FunctionCall;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/If", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

function removeWhitespaceNodes(whitespaceNodes) {
    for (var i=0; i<whitespaceNodes.length; i++) {
        whitespaceNodes[i].detach();
    }
    whitespaceNodes.length = 0;
}

class If extends Node {
    constructor(def) {
        super('If');
        this.test = def.test;
        this.body = this.makeContainer(def.body);
        this.else = def.else;
    }

    generateCode(codegen) {
        if (this.else) {
            this.else.matched = true;
        } else {
            // We want to match up any else/else if statements
            // with this node so that we can generate the code
            // correctly.
            let previous = this;
            let whitespaceNodes = [];
            this.forEachNextSibling((curNode) => {
                if (curNode.type === 'Else') {
                    curNode.detach();
                    if (whitespaceNodes.length) {
                        removeWhitespaceNodes(whitespaceNodes);
                    }
                    previous.else = curNode;
                    curNode.matched = true;
                    return false; // Stop searching
                } else if (curNode.type === 'ElseIf') {
                    curNode.detach();
                    if (whitespaceNodes.length) {
                        removeWhitespaceNodes(whitespaceNodes);
                    }

                    previous.else = curNode;
                    previous = curNode;
                    curNode.matched = true;
                    return true; // Keep searching since they may be more ElseIf/Else nodes...
                } else if (curNode.type === 'Text') {
                    if (curNode.isWhitespace()) {
                        whitespaceNodes.push(curNode);
                        return true; // Just whitespace... keep searching
                    } else {
                        return false; // Stop searching
                    }
                } else {
                    return false; // Stop searching
                }
            });
        }

        this.test = codegen.generateCode(this.test);
        this.body = codegen.generateCode(this.body);
        this.else = codegen.generateCode(this.else);

        return this;
    }

    writeCode(writer) {
        var test = this.test;
        var body = this.body;

        writer.write('if (');
        writer.write(test);
        writer.write(') ');
        writer.writeBlock(body);
        if (this.else) {
            writer.write(' else ');
            writer.write(this.else);
        } else {
            writer.write('\n');
        }
    }

    appendChild(newChild) {
        this.body.appendChild(newChild);
    }

    walk(walker) {
        this.test = walker.walk(this.test);
        this.body = walker.walk(this.body);
        this.else = walker.walk(this.else);
    }
}

module.exports = If;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ElseIf", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class ElseIf extends Node {
    constructor(def) {
        super('ElseIf');
        this.test = def.test;
        this.body = this.makeContainer(def.body);
        this.else = def.else;
        this.matched = false;
    }

    generateCode(codegen) {
        if (!this.matched) {
            codegen.addError('Unmatched else statement');
            return;
        }

        return codegen.builder.ifStatement(this.test, this.body, this.else);
    }

    walk(walker) {
        this.test = walker.walk(this.test);
        this.body = walker.walk(this.body);
        this.else = walker.walk(this.else);
    }
}

module.exports = ElseIf;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Else", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class Else extends Node {
    constructor(def) {
        super('Else');
        this.body = this.makeContainer(def.body);
        this.matched = false;
    }

    generateCode(codegen) {
        if (!this.matched) {
            codegen.addError('Unmatched else statement');
            return;
        }

        this.body = codegen.generateCode(this.body);
        return this;
    }

    writeCode(writer) {
        var body = this.body;
        writer.writeBlock(body);
        writer.write('\n');
    }

    walk(walker) {
        this.body = walker.walk(this.body);
    }
}

module.exports = Else;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Assignment", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class Assignment extends Node {
    constructor(def) {
        super('Assignment');
        this.left = def.left;
        this.right = def.right;
        this.operator = def.operator;
    }

    generateCode(codegen) {
        this.left = codegen.generateCode(this.left);
        this.right = codegen.generateCode(this.right);
        return this;
    }

    writeCode(writer) {
        var left = this.left;
        var right = this.right;
        var operator = this.operator;

        writer.write(left);
        writer.write(' '  + (operator || '=') + ' ');

        var wrap = right instanceof Assignment;

        if (wrap) {
            writer.write('(');
        }

        writer.write(right);

        if (wrap) {
            writer.write(')');
        }
    }

    walk(walker) {
        this.left = walker.walk(this.left);
        this.right = walker.walk(this.right);
    }

    isCompoundExpression() {
        return true;
    }

    /**
     * "noOutput" should be true if the Node.js does not result in any HTML or Text output
     */
    get noOutput() {
        return !(this.body && this.body.length);
    }

    toString() {
        var left = this.left;
        var right = this.right;
        var operator = this.operator;

        var result = left.toString() + ' ' + (operator || '=') + ' ';

        var wrap = right instanceof Assignment;

        if (wrap) {
            result += '(';
        }

        result += right.toString();

        if (wrap) {
            result += ')';
        }

        return result;
    }
}

module.exports = Assignment;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/BinaryExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var isCompoundExpression = require('/marko$4.0.0-rc.12/compiler/util/isCompoundExpression'/*'../util/isCompoundExpression'*/);

function writeCodeForOperand(node, writer) {
    var wrap = isCompoundExpression(node);

    if (wrap) {
        writer.write('(');
    }

    writer.write(node);

    if (wrap) {
        writer.write(')');
    }
}

function operandToString(node) {
    var wrap = isCompoundExpression(node);

    var result = '';

    if (wrap) {
        result += '(';
    }

    result += node.toString();

    if (wrap) {
        result += ')';
    }

    return result;
}

class BinaryExpression extends Node {
    constructor(def) {
        super('BinaryExpression');
        this.left = def.left;
        this.operator = def.operator;
        this.right = def.right;
    }

    generateCode(codegen) {
        this.left = codegen.generateCode(this.left);
        this.right = codegen.generateCode(this.right);

        var left = this.left;
        var right = this.right;
        var operator = this.operator;

        if (!left || !right) {
            throw new Error('Invalid BinaryExpression: ' + this);
        }

        var builder = codegen.builder;

        if (left.type === 'Literal' && right.type === 'Literal') {
            if (operator === '+') {
                return builder.literal(left.value + right.value);
            } else if (operator === '-') {
                return builder.literal(left.value - right.value);
            } else if (operator === '*') {
                return builder.literal(left.value * right.value);
            } else if (operator === '/') {
                return builder.literal(left.value / right.value);
            }
        }

        return this;
    }

    writeCode(writer) {
        var left = this.left;
        var operator = this.operator;
        var right = this.right;

        if (!left || !right) {
            throw new Error('Invalid BinaryExpression: ' + this);
        }

        writeCodeForOperand(left, writer);
        writer.write(' ');
        writer.write(operator);
        writer.write(' ');
        writeCodeForOperand(right, writer);
    }

    isCompoundExpression() {
        return true;
    }

    toJSON() {
        return {
            type: 'BinaryExpression',
            left: this.left,
            operator: this.operator,
            right: this.right
        };
    }

    walk(walker) {
        this.left = walker.walk(this.left);
        this.right = walker.walk(this.right);
    }

    toString() {
        var left = this.left;
        var operator = this.operator;
        var right = this.right;

        if (!left || !right) {
            throw new Error('Invalid BinaryExpression: ' + this);
        }

        return operandToString(left) + ' ' + operator + ' ' + operandToString(right);
    }
}

module.exports = BinaryExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/LogicalExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var isCompoundExpression = require('/marko$4.0.0-rc.12/compiler/util/isCompoundExpression'/*'../util/isCompoundExpression'*/);

function generateCodeForOperand(node, writer) {
    var wrap = isCompoundExpression(node);

    if (wrap) {
        writer.write('(');
    }

    writer.write(node);

    if (wrap) {
        writer.write(')');
    }
}

function operandToString(node) {
    var wrap = isCompoundExpression(node);

    var result = '';

    if (wrap) {
        result += '(';
    }

    result += node;

    if (wrap) {
        result += ')';
    }

    return result;
}

class LogicalExpression extends Node {
    constructor(def) {
        super('LogicalExpression');
        this.left = def.left;
        this.operator = def.operator;
        this.right = def.right;
    }

    generateCode(codegen) {
        this.left = codegen.generateCode(this.left);
        this.right = codegen.generateCode(this.right);
        return this;
    }

    writeCode(writer) {
        var left = this.left;
        var operator = this.operator;
        var right = this.right;

        if (!left || !right) {
            throw new Error('Invalid LogicalExpression: ' + this);
        }

        generateCodeForOperand(left, writer);
        writer.write(' ');
        writer.write(operator);
        writer.write(' ');
        generateCodeForOperand(right, writer);
    }

    isCompoundExpression() {
        return true;
    }

    toJSON() {
        return {
            type: 'LogicalExpression',
            left: this.left,
            operator: this.operator,
            right: this.right
        };
    }

    walk(walker) {
        this.left = walker.walk(this.left);
        this.right = walker.walk(this.right);
    }

    toString() {
        var left = this.left;
        var operator = this.operator;
        var right = this.right;

        if (!left || !right) {
            throw new Error('Invalid LogicalExpression: ' + this);
        }

        return operandToString(left) + ' ' + operator + ' ' + operandToString(right);
    }
}

module.exports = LogicalExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Vars", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class Vars extends Node {
    constructor(def) {
        super('Vars');
        this.kind = def.kind || 'var';
        this.declarations = def.declarations;
        this.body = this.makeContainer(def.body);
    }

    generateCode(codegen) {
        var declarations = this.declarations;

        if (!declarations || !declarations.length) {
            return null;
        }

        this.declarations = codegen.generateCode(this.declarations);

        if (this.body && this.body.length) {
            var scopedBody = [this].concat(this.body);
            this.body = null;
            return codegen.builder.selfInvokingFunction(scopedBody);
        }

        return this;
    }

    writeCode(writer) {
        var declarations = this.declarations;
        var kind = this.kind;
        var isStatement = this.statement;


        if (!declarations || !declarations.length) {
            return;
        }

        writer.incIndent(4);

        for (let i=0; i<declarations.length; i++) {
            var declarator = declarations[i];

            if (i === 0) {
                writer.write(kind + ' ');
            } else {
                writer.writeLineIndent();
            }

            writer.write(declarator);

            if (i < declarations.length - 1) {
                writer.write(',\n');
            } else {
                if (isStatement) {
                    writer.write(';\n');
                }
            }
        }

        writer.decIndent(4);
    }

    walk(walker) {
        this.argument = walker.walk(this.argument);
    }

    /**
     * "noOutput" should be true if the Node.js does not result in any HTML or Text output
     */
    get noOutput() {
        return !(this.body && this.body.length);
    }
}

module.exports = Vars;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Return", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class Return extends Node {
    constructor(def) {
        super('Return');
        this.argument = def.argument;
    }

    generateCode(codegen) {
        if (!codegen.inFunction) {
            throw new Error('"return" not allowed outside a function body');
        }

        this.argument = codegen.generateCode(this.argument);
        return this;
    }

    writeCode(writer) {
        var argument = this.argument;

        if (argument) {
            writer.write('return ');
            writer.write(argument);
        } else {
            writer.write('return');
        }
    }

    walk(walker) {
        this.argument = walker.walk(this.argument);
    }
}

module.exports = Return;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Html", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'./Literal'*/);
var isCompoundExpression = require('/marko$4.0.0-rc.12/compiler/util/isCompoundExpression'/*'../util/isCompoundExpression'*/);

class Html extends Node {
    constructor(def) {
        super('Html');
        this.argument = def.argument;
    }

    _append(appendArgument) {
        var argument = this.argument;

        if (Array.isArray(argument)) {
            var len = argument.length;
            var last = argument[len-1];

            if (last instanceof Literal && appendArgument instanceof Literal) {
                last.value += appendArgument.value;
            } else {
                this.argument.push(appendArgument);
            }
        } else {
            if (argument instanceof Literal && appendArgument instanceof Literal) {
                argument.value += appendArgument.value;
            } else {
                this.argument = [ this.argument, appendArgument ];
            }
        }
    }

    append(html) {
        var appendArgument = html.argument;
        if (!appendArgument) {
            return;
        }

        if (Array.isArray(appendArgument)) {
            appendArgument.forEach(this._append, this);
        } else {
            this._append(appendArgument);
        }
    }

    generateHTMLCode() {
        return this;
    }

    writeCode(writer) {
        var argument = this.argument;

        if (Array.isArray(argument)) {
            let args = argument;

            for (let i=0, len=args.length; i<len; i++) {
                let arg = args[i];

                if (i === 0) {
                    writer.write('out.w(');
                } else {
                    writer.write(' +\n');
                    writer.writeLineIndent();
                    writer.writeIndent();
                }

                if (isCompoundExpression(arg)) {
                    writer.write(['(', arg, ')']);
                } else {
                    writer.write(arg);
                }
            }

            writer.write(')');
        } else {
            writer.write('out.w(');
            writer.write(argument);
            writer.write(')');
        }
    }

    walk(walker) {
        this.argument = walker.walk(this.argument);
    }
}

module.exports = Html;
});
$_mod.main("/marko$4.0.0-rc.12/compiler/ast/Text","");
$_mod.def("/marko$4.0.0-rc.12/runtime/html/escape",function(t,n,e,r,u){function o(t){return g[t]}function i(t,n,e){return n.test(t)?t.replace(e,o):t}function f(t,n,e){if("string"==typeof t)return i(t,n,e);if(null==t)return"";if("object"==typeof t){if(t.toHTML)return t.toHTML()}else if(t===!0||t===!1||"number"==typeof t)return t.toString();return i(t.toString(),n,e)}function c(t){return f(t,a,l)}function p(t){return f(t,m,s)}var a=/[&<]/,l=/[&<]/g,m=/[&<\"\n]/,s=/[&<\"\n]/g,g={"<":"&lt;","&":"&amp;",'"':"&quot;","'":"&#39;","\n":"&#10;"};n.escapeString=i,n.escapeXml=c,n.escapeXmlAttr=p});
$_mod.main("/warp10$1.3.3","src/index");
$_mod.def("/warp10$1.3.3/src/serialize", function(require, exports, module, __filename, __dirname) { 'use strict';

const markerKey = Symbol('warp10');
const safePropName = /^[$A-Z_][0-9A-Z_$]*$/i;
const escapeEndingScriptTagRegExp = /<\//g;
const isArray = Array.isArray;

class Marker {
    constructor(path, symbol) {
        this.path = path;
        this.symbol = symbol;
    }
}

function handleProperty(clone, key, value, valuePath, serializationSymbol, assignments) {
    if (value.constructor === Date) {
        assignments.push(valuePath + '=new Date(' + value.getTime() + ')');
    } else if (isArray(value)) {
        const marker = value[markerKey];

        if (marker && marker.symbol === serializationSymbol) {
            assignments.push(valuePath + '=' + marker.path);
        } else {
            value[markerKey] = new Marker(valuePath, serializationSymbol);
            clone[key] = pruneArray(value, valuePath, serializationSymbol, assignments);
        }
    } else {
        const marker = value[markerKey];
        if (marker && marker.symbol === serializationSymbol) {
            assignments.push(valuePath + '=' + marker.path);
        } else {
            value[markerKey] = new Marker(valuePath, serializationSymbol);
            clone[key] = pruneObject(value, valuePath, serializationSymbol, assignments);
        }
    }
}

function pruneArray(array, path, serializationSymbol, assignments) {
    let len = array.length;

    var clone = new Array(len);

    for (let i=0; i<len; i++) {
        var value = array[i];
        if (value == null) {
            continue;
        }

        if (value && typeof value === 'object') {
            let valuePath = path + '[' + i + ']';
            handleProperty(clone, i, value, valuePath, serializationSymbol, assignments);
        } else {
            clone[i] = value;
        }
    }

    return clone;
}

function pruneObject(obj, path, serializationSymbol, assignments) {
    var clone = {};

    for (var key in obj) {
        var value = obj[key];
        if (value === undefined) {
            continue;
        }

        if (value && typeof value === 'object') {
            let valuePath = path + (safePropName.test(key) ? '.' + key : '[' + JSON.stringify(key) + ']');
            handleProperty(clone, key, value, valuePath, serializationSymbol, assignments);
        } else {
            clone[key] = value;
        }
    }

    return clone;
}

function serializeHelper(obj, safe, varName, additive) {
    /**
     * Performance notes:
     *
     * - It is faster to use native JSON.stringify instead of a custom stringify
     * - It is faster to first prune and then call JSON.stringify with _no_ replacer
     */
    var pruned;

    const assignments = []; // Used to keep track of code that needs to run to fix up the stringified object

    if (typeof obj === 'object') {
        const serializationSymbol = Symbol(); // Used to detect if the marker is associated with _this_ serialization
        const path = '$';

        obj[markerKey] = new Marker(path, serializationSymbol);

        if (obj.constructor === Date) {
            return '(new Date(' + obj.getTime() + '))';
        } else if (isArray(obj)) {
            pruned = pruneArray(obj, path, serializationSymbol, assignments);
        } else {
            pruned = pruneObject(obj, path, serializationSymbol, assignments);
        }
    } else {
        pruned = obj;
    }

    let json = JSON.stringify(pruned);
    if (safe) {
        json = json.replace(escapeEndingScriptTagRegExp, '\\u003C/');
    }

    if (varName) {
        if (additive) {
            let innerCode = 'var $=' + json + '\n';

            if (assignments.length) {
                innerCode += assignments.join('\n') + '\n';
            }

            let code = '(function() {var t=window.' + varName + '||(window.' + varName + '={})\n' + innerCode;

            for (let key in obj) {
                var prop;

                if (safePropName.test(key)) {
                    prop = '.' + key;
                } else {
                    prop = '[' + JSON.stringify(key) + ']';
                }
                code += 't' + prop + '=$' + prop + '\n';
            }

            return code + '}())';
        } else {
            if (assignments.length) {
                return '(function() {var $=' +
                    json + '\n' +
                    assignments.join('\n') +
                    '\nwindow.' + varName + '=$}())';
            } else {
                return 'window.' + varName + '=' + json;
            }
        }
    } else {
        if (assignments.length) {
            return '(function() {var $=' +
                json + '\n' +
                assignments.join('\n') +
                '\nreturn $}())';
        } else {
            return '(' + json + ')';
        }

    }
}

module.exports = function serialize(obj, options) {
    if (obj == null) {
        return 'null';
    }

    var safe;
    var varName;
    var additive;

    if (options) {
        safe = options.safe !== false;
        varName = options.var;
        additive = options.additive === true;
    } else {
        safe = true;
        additive = false;
    }

    return serializeHelper(obj, safe, varName, additive);
};
});
$_mod.def("/warp10$1.3.3/src/stringifyPrepare", function(require, exports, module, __filename, __dirname) { 'use strict';
const markerKey = Symbol('warp10');
const isArray = Array.isArray;

class Marker {
    constructor(path, symbol) {
        this.path = path;
        this.symbol = symbol;
    }
}

function append(array, el) {
    var len = array.length;
    var clone = new Array(len+1);
    for (var i=0; i<len; i++) {
        clone[i] = array[i];
    }
    clone[len] = el;
    return clone;
}

class Assignment {
    constructor(lhs, rhs) {
        this.l = lhs;
        this.r = rhs;
    }
}

function handleProperty(clone, key, value, valuePath, serializationSymbol, assignments) {
    if (value.constructor === Date) {
        assignments.push(new Assignment(valuePath, { type: 'Date', value: value.getTime() }));
    } else if (isArray(value)) {
        const marker = value[markerKey];

        if (marker && marker.symbol === serializationSymbol) {
            assignments.push(new Assignment(valuePath, marker.path));
        } else {
            value[markerKey] = new Marker(valuePath, serializationSymbol);
            clone[key] = pruneArray(value, valuePath, serializationSymbol, assignments);
        }
    } else {
        const marker = value[markerKey];
        if (marker && marker.symbol === serializationSymbol) {
            assignments.push(new Assignment(valuePath, marker.path));
        } else {
            value[markerKey] = new Marker(valuePath, serializationSymbol);
            clone[key] = pruneObject(value, valuePath, serializationSymbol, assignments);
        }
    }
}

function pruneArray(array, path, serializationSymbol, assignments) {
    let len = array.length;

    var clone = new Array(len);

    for (let i=0; i<len; i++) {
        var value = array[i];
        if (value == null) {
            continue;
        }

        if (value && typeof value === 'object') {
            handleProperty(clone, i, value, append(path, i), serializationSymbol, assignments);
        } else {
            clone[i] = value;
        }
    }

    return clone;
}

function pruneObject(obj, path, serializationSymbol, assignments) {
    var clone = {};

    for (var key in obj) {
        try {
        if (obj.hasOwnProperty(key)) {
            var value = obj[key];
            if (value === undefined) {
                continue;
            }

            if (value && typeof value === 'object') {
                handleProperty(clone, key, value, append(path, key), serializationSymbol, assignments);
            } else {
                clone[key] = value;
            }
        }
    } catch(e) {
        console.log(obj, key, path, serializationSymbol, assignments);
        throw e;
    }
    }

    return clone;
}

module.exports = function stringifyPrepare(obj) {
    if (!obj) {
        return obj;
    }

    /**
     * Performance notes:
     *
     * - It is faster to use native JSON.stringify instead of a custom stringify
     * - It is faster to first prune and then call JSON.stringify with _no_ replacer
     */
    var pruned;

    const assignments = []; // Used to keep track of code that needs to run to fix up the stringified object

    if (typeof obj === 'object') {
        const serializationSymbol = Symbol(); // Used to detect if the marker is associated with _this_ serialization
        const path = [];

        obj[markerKey] = new Marker(path, serializationSymbol);

        if (obj.constructor === Date) {
            pruned = null;
            assignments.push(new Assignment([], { type: 'Date', value: obj.getTime() }));
        } else if (isArray(obj)) {
            pruned = pruneArray(obj, path, serializationSymbol, assignments);
        } else {
            pruned = pruneObject(obj, path, serializationSymbol, assignments);
        }
    } else {
        pruned = obj;
    }

    if (assignments.length) {
        return {
            o: pruned,
            $$: assignments
        };
    } else {
        return pruned;
    }
};
});
$_mod.def("/warp10$1.3.3/src/stringify", function(require, exports, module, __filename, __dirname) { 'use strict';
const stringifyPrepare = require('/warp10$1.3.3/src/stringifyPrepare'/*'./stringifyPrepare'*/);
const escapeEndingScriptTagRegExp = /<\//g;

module.exports = function stringify(obj, options) {
    var safe;

    if (options) {
        safe = options.safe === true;
    } else {
        safe = false;
    }

    var final = stringifyPrepare(obj);

    let json = JSON.stringify(final);
    if (safe) {
        json = json.replace(escapeEndingScriptTagRegExp, '\\u003C/');
    }

    return json;
};
});
$_mod.def("/warp10$1.3.3/src/index",function(r,i,s,e,a){"use strict";i.serialize=r("/warp10$1.3.3/src/serialize"),i.stringify=r("/warp10$1.3.3/src/stringify"),i.parse=r("/warp10$1.3.3/src/parse"),i.finalize=r("/warp10$1.3.3/src/finalize"),i.stringifyPrepare=r("/warp10$1.3.3/src/stringifyPrepare")});
$_mod.def("/marko$4.0.0-rc.12/runtime/html/helper-attr",function(t,r,e,n,i){function a(t,r,e){return"string"==typeof r?" "+t+'="'+(e!==!1?m(r):r)+'"':r===!0?" "+t:null==r||r===!1?"":"object"==typeof r?(r="data-_"===t.substring(0,6)?s.stringify(r):JSON.stringify(r)," "+t+"='"+o(r,p,f)+"'"):" "+t+"="+r}var s=t("/warp10$1.3.3/src/index"),c=t("/marko$4.0.0-rc.12/runtime/html/escape"),o=c.escapeString,m=c.escapeXmlAttr,p=/[&\'\n]/,f=/[&\'\n]/g;e.exports=a});
$_mod.def("/marko$4.0.0-rc.12/runtime/html/helper-attrs",function(r,t,e,n,o){function a(r){if("object"==typeof r){var t="";for(var e in r)t+=f(e,r[e]);return t}return"string"==typeof r?r:""}var f=r("/marko$4.0.0-rc.12/runtime/html/helper-attr");e.exports=a});
$_mod.def("/marko$4.0.0-rc.12/runtime/helpers",function(r,n,e,t,f){"use strict";function i(r){return"function"==typeof r}function o(r,n){var e;if(r)if("string"==typeof r)r&&n.push(r);else if("number"==typeof(e=r.length))for(var t=0;t<e;t++)o(r[t],n);else if("object"==typeof r)for(var f in r)if(r.hasOwnProperty(f)){var i=r[f];i&&n.push(f)}}function u(r){var n=[];return o(r,n),n.join(" ")}function c(r){function n(r,e){n.renderer(r,e)}return n.renderer=function(e,t){var f=r.renderer||r._||r.render;if(!i(f))throw Error("Invalid renderer");n.renderer=f,f(e,t)},n}function a(r){var n=r.renderer||r._;return n?n:i(r)?r:c(r)}var s=Array.isArray;n.s=function(r){return null==r?"":r.toString()},n.f=function(r,n){if(s(r))for(var e=0;e<r.length;e++)n(r[e]);else i(r)&&r(n)},n.t=function(r,n,e){return r&&(r=a(r)),r},n.cl=function(){return u(arguments)}});
$_mod.def("/marko$4.0.0-rc.12/runtime/html/helpers",function(r,e,t,n,a){"use strict";function i(r){var e,t,n,a="";if(r)if("string"==typeof r)r&&(a+=" "+r);else if("number"==typeof(e=r.length))for(var o=0;o<e;o++)n=i(r[o]),n&&(a+=" "+n);else if("object"==typeof r)for(var t in r){var n=r[t];n&&(a+=" "+t)}return a&&a.slice(1)}var i,o=r("/raptor-util$3.1.0/extend"),f="style",u="class",l=/<\//g,c=r("/marko$4.0.0-rc.12/runtime/html/escape"),s=c.escapeXml,m=c.escapeXmlAttr,p=r("/marko$4.0.0-rc.12/runtime/html/helper-attr"),v=r("/marko$4.0.0-rc.12/runtime/html/helper-attrs");e.x=s,e.xa=m,e.xs=function(r){return"string"==typeof r?r.replace(l,"\\u003C/"):r},e.a=p,e.as=v;var h={};e.sa=function(r){if(!r)return"";if("string"==typeof r)return p(f,r,!1);if("object"==typeof r){var e="";for(var t in r){var n=r[t];if(null!=n){var a=h[t];a||(a=h[t]=t.replace(/([A-Z])/g,"-$1").toLowerCase()),e+=a+":"+n+";"}}return e?" "+f+'="'+e+'"':""}return""},e.ca=function(r){return r?"string"==typeof r?p(u,r,!1):p(u,i(r),!1):""};var y=r("/marko$4.0.0-rc.12/runtime/helpers");o(e,y),e.cl=function(){return i(arguments)||null}});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Text/html/generateCode", function(require, exports, module, __filename, __dirname) { 'use strict';

var escapeXml = require('/marko$4.0.0-rc.12/runtime/html/helpers'/*'../../../../runtime/html/helpers'*/).x;
var Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'../..//Literal'*/);

module.exports = function(node, codegen) {
    var context = codegen.context;
    var argument = codegen.generateCode(node.argument);
    var escape = node.escape !== false;

    var htmlArray = [];

    function append(argument) {
        if (argument instanceof Literal) {
            if (!argument.value) {
                return;
            }

            if (context.isFlagSet('SCRIPT_BODY')) {
                escape = false;
            }

            if (escape === true) {
                argument.value = escapeXml(argument.value.toString());
            }

            htmlArray.push(argument);
        } else {
            let builder = codegen.builder;

            if (escape) {
                let escapeIdentifier = context.helper('escapeXml');

                if (context.isFlagSet('SCRIPT_BODY')) {
                    escapeIdentifier = context.helper('escapeScript');
                }

                // TODO Only escape the parts that need to be escaped if it is a compound expression with static
                //      text parts
                argument = builder.functionCall(
                    escapeIdentifier,
                    [argument]);
            } else {
                argument = builder.functionCall(context.helper('str'), [ argument ]);
            }
            htmlArray.push(argument);
        }
    }

    if (Array.isArray(argument)) {
        argument.forEach(append);
    } else {
        append(argument);
    }

    if (htmlArray.length) {
        return codegen.builder.html(htmlArray);
    } else {
        return null;
    }
};
});
$_mod.main("/marko$4.0.0-rc.12/compiler/util/vdom","");
$_mod.def("/marko$4.0.0-rc.12/compiler/util/vdom/VDOMOptimizer", function(require, exports, module, __filename, __dirname) { 'use strict';

/*
Algorithm:

Walk the DOM tree to find all HtmlElementVDOM and TextVDOM nodes

a) If a node is static then move to a static variable. Depending on whether or not the node is a root or nested,
we will need to replace it with one of the following:
- out.n(staticVar)
- .n(staticVar)

b) If a node is HTML-only then generate code depending on if it is root or not:

- out.e('div', ...) | out.t('foo')
- .e('div', ...) || .t('foo')

c) Else, generate one of the following:

- out.beginElement()

*/


const Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'../../ast/Node'*/);
const OPTIMIZER_CONTEXT_KEY = Symbol();

const OPTIONS_DEFAULT =             { optimizeTextNodes: true, optimizeStaticNodes: true };
const OPTIONS_OPTIMIZE_TEXT_NODES = { optimizeTextNodes: true, optimizeStaticNodes: false };

class OptimizerContext {
    constructor(context) {
        this.context = context;

        this.nextAttrsId = 0;
        this.nextNodeId = 0;
        this._nextConstIdFunc = null;
    }

    get nextConstIdFunc() {
        let nextConstIdFunc = this._nextConstIdFunc;
        if (!nextConstIdFunc) {
            let context = this.context;
            let builder = context.builder;
            let constId = this.context.helper('const');
            let fingerprintLiteral = builder.literal(context.getFingerprint(6));
            nextConstIdFunc = this._nextConstIdFunc = context.addStaticVar(
                'marko_const_nextId',
                builder.functionCall(constId, [ fingerprintLiteral ]));
        }
        return nextConstIdFunc;
    }
}

class NodeVDOM extends Node {
    constructor(variableIdentifier) {
        super('NodeVDOM');
        this.variableIdentifier = variableIdentifier;
    }

    writeCode(writer) {
        var builder = writer.builder;

        let funcCall = builder.functionCall(
            builder.identifier('n'),
            [
                this.variableIdentifier
            ]);

        if (this.isChild) {
            writer.write('.');
        } else {
            writer.write('out.');
        }

        writer.write(funcCall);
    }
}

function generateNodesForArray(nodes, context, options) {
    let builder = context.builder;

    var optimizerContext = context[OPTIMIZER_CONTEXT_KEY] ||
        (context[OPTIMIZER_CONTEXT_KEY] = new OptimizerContext(context));


    var optimizeStaticNodes = options.optimizeStaticNodes !== false;

    function generateStaticNode(node) {
        if (node.type === 'HtmlElementVDOM') {
            node.createElementId = context.helper('createElement');
        }/* else {
            node.createTextId = context.importModule('marko_createText', 'marko/vdom/createText');
        }*/

        node.nextConstId = builder.functionCall(optimizerContext.nextConstIdFunc, []);

        node.isStaticRoot = true;
        let staticNodeId = context.addStaticVar('marko_node' + (optimizerContext.nextNodeId++), node);

        return new NodeVDOM(staticNodeId);
    }

    function handleStaticAttributes(node) {
        var attributesArg = node.attributesArg;
        if (attributesArg) {
            node.isStaticRoot = true;
            let staticAttrsId = context.addStaticVar('marko_attrs' + (optimizerContext.nextAttrsId++), attributesArg);
            node.attributesArg = staticAttrsId;
        }
    }

    let finalNodes = [];
    let i = 0;

    while (i<nodes.length) {
        let node = nodes[i];
        if (node.type === 'HtmlElementVDOM') {
            if (optimizeStaticNodes) {
                if (node.isStatic) {
                    finalNodes.push(generateStaticNode(node));
                    doOptimizeNode(node, context, OPTIONS_OPTIMIZE_TEXT_NODES);
                } else {
                    if (node.isAttrsStatic) {
                        handleStaticAttributes(node);
                    }

                    finalNodes.push(node);
                }
            } else {
                finalNodes.push(node);
            }

        } else {
            finalNodes.push(node);
        }

        i++;
    }

    return finalNodes;
}

function doOptimizeNode(node, context, options) {
    let walker = context.createWalker({
        enterArray(nodes) {
            return generateNodesForArray(nodes, context, options);
        }
    });

    return walker.walk(node);
}

class VDOMOptimizer {
    optimize(node, context) {
        doOptimizeNode(node, context, OPTIONS_DEFAULT);
    }
}

module.exports = VDOMOptimizer;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/vdom/isStaticValue", function(require, exports, module, __filename, __dirname) { 'use strict';
var Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'../../ast/Literal'*/);
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'../../ast/Node'*/);

function isStaticArray(array) {
    for (let i=0; i<array.length; i++) {
        if (!isStaticValue(array[i])) {
            return false;
        }
    }

    return true;
}

function isStaticObject(object) {
    for (var k in object) {
        if (object.hasOwnProperty(k)) {
            let v = object[k];
            if (!isStaticValue(v)) {
                return false;
            }
        }
    }
}

function isStaticValue(value) {
    if (value == null) {
        return true;
    }

    if (value instanceof Node) {
         if (value instanceof Literal) {
             return isStaticValue(value.value);
         } else {
             return false;
         }
    } else {
        if (typeof value === 'object') {
            if (Array.isArray(value)) {
                return isStaticArray(value);
            } else {
                return isStaticObject(value);
            }
        } else {
            return true;
        }
    }
}

module.exports = isStaticValue;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/vdom/index",function(i,r,t,e,m){"use strict";function o(i){var r=i.data;r[d]||(r[d]=!0,i.addOptimizer(new c))}const c=i("/marko$4.0.0-rc.12/compiler/util/vdom/VDOMOptimizer"),a=i("/marko$4.0.0-rc.12/compiler/util/vdom/isStaticValue"),d=Symbol();r.registerOptimizer=o,r.isStaticValue=a,r.registerOptimizer=o});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Text/vdom/TextVDOM", function(require, exports, module, __filename, __dirname) { 'use strict';

const Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'../../Node'*/);
const Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'../../Literal'*/);
const vdomUtil = require('/marko$4.0.0-rc.12/compiler/util/vdom/index'/*'../../../util/vdom'*/);

class TextVDOM extends Node {
    constructor(def) {
        super('TextVDOM');
        this.arguments = [def.argument];
        this.isStatic = def.isStatic;
        this.escape = def.escape !== false;
        this.isHtmlOnly = true;
        this.isChild = false;
        this.createTextId = undefined;
        this.strFuncId = undefined;
    }

    generateCode(codegen) {
        var context = codegen.context;

        vdomUtil.registerOptimizer(context);

        return this;
    }

    _append(appendArgument) {
        let args = this.arguments;
        let len = args.length;
        let last = args[len-1];

        if (last instanceof Literal && appendArgument instanceof Literal) {
            last.value += appendArgument.value;
        } else {
            args.push(appendArgument);
        }
    }

    append(textVDOMToAppend) {
        if (textVDOMToAppend.escape !== this.escape) {
            return false;
        }

        if (!textVDOMToAppend.isStatic) {
            this.isStatic = false;
        }

        if (textVDOMToAppend.strFuncId) {
            this.strFuncId = textVDOMToAppend.strFuncId;
        }

        textVDOMToAppend.arguments.forEach(this._append, this);

        return true;
    }

    writeCode(writer) {
        let builder = writer.builder;
        let args = this.arguments;
        let escape = this.escape;

        var funcName = escape ? 't' : 'h';

        function writeTextArgs() {
            writer.write('(');

            for (let i=0, len=args.length; i<len; i++) {
                let arg = args[i];

                if (i !== 0) {
                    writer.write(' +\n');
                    writer.writeLineIndent();
                    writer.writeIndent();
                }

                writer.write(arg);
            }

            writer.write(')');
        }

        if (this.isChild) {
            writer.write('.');
            writer.write(builder.identifier(funcName));
        } else if (this.isStatic && this.createTextId) {
            writer.write(this.createTextId);
        } else {
            writer.write('out.');
            writer.write(builder.identifier(funcName));
        }

        writeTextArgs();
    }
}

module.exports = TextVDOM;
});
$_mod.installed("marko$4.0.0-rc.12","he","1.1.1");
$_mod.main("/he$1.1.1","he");
$_mod.def("/he$1.1.1/he",function(r,e,a,u,t){!function(r){var u="object"==typeof e&&e,t="object"==typeof a&&a&&a.exports==u&&a,o="object"==typeof global&&global;o.global!==o&&o.window!==o||(r=o);var c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[\x01-\x7F]/g,l=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,i=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,n={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},p=/["&'<>`]/g,d={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},g=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,m=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,f=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,b={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",
jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},h={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},D={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},v=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],y=String.fromCharCode,q={},A=q.hasOwnProperty,w=function(r,e){return A.call(r,e)},E=function(r,e){for(var a=-1,u=r.length;++a<u;)if(r[a]==e)return!0;return!1},x=function(r,e){if(!r)return e;var a,u={};for(a in e)u[a]=w(r,a)?r[a]:e[a];return u},k=function(r,e){var a="";return r>=55296&&r<=57343||r>1114111?(e&&L("character reference outside the permissible Unicode range"),"�"):w(D,r)?(e&&L("disallowed character reference"),D[r]):(e&&E(v,r)&&L("disallowed character reference"),r>65535&&(r-=65536,a+=y(r>>>10&1023|55296),r=56320|1023&r),a+=y(r))},C=function(r){return"&#x"+r.toString(16).toUpperCase()+";"},B=function(r){return"&#"+r+";"},L=function(r){throw Error("Parse error: "+r)},F=function(r,e){e=x(e,F.options);var a=e.strict;a&&m.test(r)&&L("forbidden code point");var u=e.encodeEverything,t=e.useNamedReferences,o=e.allowUnsafeSymbols,d=e.decimal?B:C,g=function(r){return d(r.charCodeAt(0))};return u?(r=r.replace(s,function(r){return t&&w(n,r)?"&"+n[r]+";":g(r)}),t&&(r=r.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),t&&(r=r.replace(i,function(r){return"&"+n[r]+";"}))):t?(o||(r=r.replace(p,function(r){return"&"+n[r]+";"})),r=r.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),r=r.replace(i,function(r){return"&"+n[r]+";"})):o||(r=r.replace(p,g)),r.replace(c,function(r){var e=r.charCodeAt(0),a=r.charCodeAt(1),u=1024*(e-55296)+a-56320+65536;return d(u)}).replace(l,g)};F.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var S=function(r,e){e=x(e,S.options);var a=e.strict;return a&&g.test(r)&&L("malformed character reference"),r.replace(f,function(r,u,t,o,c,s,l,i){var n,p,d,g,m,f;return u?(d=u,p=t,a&&!p&&L("character reference was not terminated by a semicolon"),n=parseInt(d,10),k(n,a)):o?(g=o,p=c,a&&!p&&L("character reference was not terminated by a semicolon"),n=parseInt(g,16),k(n,a)):s?(m=s,w(b,m)?b[m]:(a&&L("named character reference was not terminated by a semicolon"),r)):(m=l,f=i,f&&e.isAttributeValue?(a&&"="==f&&L("`&` did not start a character reference"),r):(a&&L("named character reference was not terminated by a semicolon"),h[m]+(f||"")))})};S.options={isAttributeValue:!1,strict:!1};var T=function(r){return r.replace(p,function(r){return d[r]})},R={version:"1.1.1",encode:F,decode:S,escape:T,unescape:S};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return R});else if(u&&!u.nodeType)if(t)t.exports=R;else for(var N in R)w(R,N)&&(u[N]=R[N]);else r.he=R}(this)});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Text/vdom/generateCode", function(require, exports, module, __filename, __dirname) { 'use strict';

var TextVDOM = require('/marko$4.0.0-rc.12/compiler/ast/Text/vdom/TextVDOM'/*'./TextVDOM'*/);
var Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'../../Literal'*/);
var he = require('/he$1.1.1/he'/*'he'*/); // Used for dealing with HTML entities

module.exports = function(node, codegen, vdomUtil) {
    var argument = codegen.generateCode(node.argument);
    var escape = node.escape !== false;
    var isStatic = null;

    if (codegen.context.isFlagSet('SCRIPT_BODY')) {
        escape = true;
    }

    if (argument instanceof Literal) {
        var literalValue = argument.value;
        if (literalValue == null || literalValue === '') {
            // Don't add empty text nodes to the final tree
            return null;
        }

        if (escape === false) {
            escape = true;

            if (typeof literalValue === 'string') {
                if (literalValue.indexOf('<') !== -1) {
                    escape = false;
                } else if (literalValue.indexOf('&') !== -1) {
                    argument = codegen.builder.literal(he.decode(literalValue));
                }
            }
        }

    }

    isStatic = isStatic == null ? vdomUtil.isStaticValue(argument) : isStatic;
    return new TextVDOM({ argument, isStatic, escape });
};
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Text/index", function(require, exports, module, __filename, __dirname) { 'use strict';

var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'../Node'*/);
var Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'../Literal'*/);

var generateHTMLCode = require('/marko$4.0.0-rc.12/compiler/ast/Text/html/generateCode'/*'./html/generateCode'*/);
var generateVDOMCode = require('/marko$4.0.0-rc.12/compiler/ast/Text/vdom/generateCode'/*'./vdom/generateCode'*/);
var vdomUtil = require('/marko$4.0.0-rc.12/compiler/util/vdom/index'/*'../../util/vdom'*/);

class Text extends Node {
    constructor(def) {
        super('Text');
        this.argument = def.argument;
        this.escape = def.escape !== false;
        this.normalized = false;
        this.isFirst = false;
        this.isLast = false;
        this.preserveWhitespace = def.preserveWhitespace === true;

        ok(this.argument, 'Invalid argument');
    }

    generateHTMLCode(codegen) {
        return generateHTMLCode(this, codegen);
    }

    generateVDOMCode(codegen) {
        return generateVDOMCode(this, codegen, vdomUtil);
    }

    isLiteral() {
        return this.argument instanceof Node && this.argument.type === 'Literal';
    }

    isWhitespace() {
        var argument = this.argument;
        return (argument instanceof Literal) &&
            (typeof argument.value === 'string') &&
            (argument.value.trim() === '');
    }

    toJSON() {
        return {
            type: this.type,
            argument: this.argument
        };
    }
}

module.exports = Text;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ForEach", function(require, exports, module, __filename, __dirname) { 'use strict';
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class ForEach extends Node {
    constructor(def) {
        super('ForEach');
        this.varName = def.varName;
        this.in = def.in;
        this.body = this.makeContainer(def.body);
        this.separator = def.separator;
        this.statusVarName = def.statusVarName;
        this.iterator = def.iterator;
        this.isArray = def.isArray;

        ok(this.varName, '"varName" is required');
        ok(this.in != null, '"in" is required');
    }

    generateCode(codegen) {
        var varName = this.varName;
        var inExpression = this.in;
        var separator = this.separator;
        var statusVarName = this.statusVarName;
        var iterator = this.iterator;
        var context = codegen.context;
        var builder = codegen.builder;
        var isArray = this.isArray;

        if (separator && !statusVarName) {
            statusVarName = '__loop';
        }

        if (iterator) {
            let params = [varName];

            if (statusVarName) {
                params.push(statusVarName);
            }

            return builder.functionCall(iterator, [
                inExpression,
                builder.functionDeclaration(null, params, this.body)
            ]);
        } else if (statusVarName) {

            let body = this.body;

            if (separator) {
                let isNotLastTest = builder.functionCall(
                    builder.memberExpression(statusVarName, builder.identifier('isLast')),
                    []);

                isNotLastTest = builder.negate(isNotLastTest);

                body = body.items.concat([
                    builder.ifStatement(isNotLastTest, [
                        builder.text(separator, false)
                    ])
                ]);
            }

            return builder.functionCall(context.helper('forEachWithStatusVar'), [
                inExpression,
                builder.functionDeclaration(null, [varName, statusVarName], body)
            ]);
        } else {
            if (isArray) {
                context.addVar(varName.name);
                var indexVarId = context.addVar(varName.name + '__i');
                var arrayVarId = context.addVar(varName.name + '__array');
                var lengthVarId = context.addVar(varName.name + '__len');

                var init = builder.sequenceExpression([
                    builder.assignment(indexVarId, builder.literal(0)),
                    builder.assignment(arrayVarId, inExpression),
                    builder.assignment(lengthVarId, builder.binaryExpression(arrayVarId, '&&', builder.memberExpression(arrayVarId, builder.identifier('length'))))
                ]);

                var test = builder.binaryExpression(indexVarId, '<', lengthVarId);

                var update = builder.unaryExpression(indexVarId, '++');

                var loopBody = [
                        builder.assignment(varName, builder.memberExpression(arrayVarId, indexVarId, true))
                    ].concat(this.body);

                return builder.forStatement(init, test, update, loopBody);
            } else {
                return builder.functionCall(context.helper('forEach'), [
                    inExpression,
                    builder.functionDeclaration(null, [varName], this.body)
                ]);
            }
        }
    }

    walk(walker) {
        this.varName = walker.walk(this.varName);
        this.in = walker.walk(this.in);
        this.body = walker.walk(this.body);
        this.separator = walker.walk(this.separator);
        this.statusVarName = walker.walk(this.statusVarName);
        this.iterator = walker.walk(this.iterator);
    }
}

module.exports = ForEach;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ForEachProp", function(require, exports, module, __filename, __dirname) { 'use strict';
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class ForEachProp extends Node {
    constructor(def) {
        super('ForEachProp');
        this.nameVarName = def.nameVarName;
        this.valueVarName = def.valueVarName;
        this.in = def.in;
        this.separator = def.separator;
        this.statusVarName = def.statusVarName;
        this.body = this.makeContainer(def.body);

        ok(this.nameVarName, '"nameVarName" is required');
        ok(this.valueVarName != null, '"valueVarName" is required');
        ok(this.in != null, '"in" is required');
    }

    generateCode(codegen) {
        var context = codegen.context;
        var nameVarName = this.nameVarName;
        var valueVarName = this.valueVarName;
        var inExpression = this.in;
        var body = this.body;
        var separator = this.separator;
        var statusVarName = this.statusVarName;

        if (separator && !statusVarName) {
            statusVarName = '__loop';
        }

        var builder = codegen.builder;

        if (statusVarName) {
            let helperVar = context.helper('forEachPropStatusVar');
            let forEachVarName = codegen.addStaticVar('forEacPropStatusVar', helperVar);
            let body = this.body;

            if (separator) {
                let isNotLastTest = builder.functionCall(
                    builder.memberExpression(statusVarName, builder.identifier('isLast')),
                    []);

                isNotLastTest = builder.negate(isNotLastTest);

                body = body.items.concat([
                    builder.ifStatement(isNotLastTest, [
                        builder.text(separator)
                    ])
                ]);
            }

            return builder.functionCall(forEachVarName, [
                inExpression,
                builder.functionDeclaration(null, [nameVarName, valueVarName, statusVarName], body)
            ]);
        } else {
            return builder.functionCall(
                context.helper('forEachProp'),
                [
                    inExpression,
                    builder.functionDeclaration(null, [nameVarName, valueVarName], body)
                ]);
        }
    }

    walk(walker) {
        this.nameVarName = walker.walk(this.nameVarName);
        this.valueVarName = walker.walk(this.valueVarName);
        this.in = walker.walk(this.in);
        this.body = walker.walk(this.body);
    }
}

module.exports = ForEachProp;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ForRange", function(require, exports, module, __filename, __dirname) { 'use strict';
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'./Literal'*/);
var Identifier = require('/marko$4.0.0-rc.12/compiler/ast/Identifier'/*'./Identifier'*/);

class ForRange extends Node {
    constructor(def) {
        super('ForRange');
        this.varName = def.varName;
        this.body = this.makeContainer(def.body);
        this.from = def.from;
        this.to = def.to;
        this.step = def.step;

        ok(this.varName, '"varName" is required');
        ok(this.from != null, '"from" is required');
    }

    generateCode(codegen) {
        var context = codegen.context;

        var varName = this.varName;
        var from = this.from;
        var to = this.to;
        var step = this.step;

        var builder = codegen.builder;

        if (varName instanceof Identifier) {
            varName = varName.name;
        }

        if (step == null) {
            let fromLiteral = (from instanceof Literal) && from.value;
            let toLiteral = (to instanceof Literal) && to.value;

            if (typeof fromLiteral === 'number' && typeof toLiteral === 'number') {
                if (fromLiteral > toLiteral) {
                    step = builder.literal(-1);
                } else {
                    step = builder.literal(1);
                }
            }
        }

        if (step == null) {
            step = builder.literalNull();
        }

        return builder.functionCall(context.helper('forRange'), [
            from,
            to,
            step,
            builder.functionDeclaration(null, [varName], this.body)
        ]);
    }

    walk(walker) {
        this.varName = walker.walk(this.varName);
        this.body = walker.walk(this.body);
        this.from = walker.walk(this.from);
        this.to = walker.walk(this.to);
        this.step = walker.walk(this.step);
    }
}

module.exports = ForRange;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlComment", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class HtmlComment extends Node {
    constructor(def) {
        super('HtmlComment');
        this.comment = def.comment;
    }

    generateHTMLCode(codegen) {
        var comment = this.comment;
        var builder = codegen.builder;

        return [
            builder.htmlLiteral('<!--'),
            builder.html(comment),
            builder.htmlLiteral('-->')
        ];
    }

    generateVDOMCode(codegen) {
        var comment = this.comment;
        var builder = codegen.builder;

        return builder.functionCall(
            builder.memberExpression(
                builder.identifierOut(),
                builder.identifier('comment')),
            [
                comment
            ]);
    }

    walk(walker) {
        this.comment = walker.walk(this.comment);
    }
}

module.exports = HtmlComment;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/SelfInvokingFunction", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class SelfInvokingFunction extends Node {
    constructor(def) {
        super('SelfInvokingFunction');
        this.params = def.params;
        this.args = def.args;
        this.body = this.makeContainer(def.body);
    }

    generateCode(codegen) {
        var params = this.params || [];
        var args = this.args || [];
        var oldInFunction = codegen.inFunction;
        codegen.inFunction = true;
        var body = codegen.generateCode(this.body);
        codegen.inFunction = oldInFunction;

        var functionDeclaration = codegen.builder.functionDeclaration(null, params, body);
        var functionCall = codegen.builder.functionCall(functionDeclaration, args);

        return functionCall;
    }

    walk(walker) {
        this.params = walker.walk(this.params);
        this.args = walker.walk(this.args);
        this.body = walker.walk(this.body);
    }
}

module.exports = SelfInvokingFunction;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ForStatement", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class ForStatement extends Node {
    constructor(def) {
        super('ForStatement');
        this.init = def.init;
        this.test = def.test;
        this.update = def.update;
        this.body = this.makeContainer(def.body);
    }

    generateCode(codegen) {
        this.init = codegen.generateCode(this.init);
        this.test = codegen.generateCode(this.test);
        this.update = codegen.generateCode(this.update);
        this.body = codegen.generateCode(this.body);
        return this;
    }

    writeCode(writer) {
        var init = this.init;
        var test = this.test;
        var update = this.update;
        var body = this.body;

        writer.write('for (');

        if (init) {
            writer.write(init);
        }

        writer.write('; ');

        if (test) {
            writer.write(test);
        }

        writer.write('; ');

        if (update) {
            writer.write(update);
        }

        writer.write(') ');

        writer.writeBlock(body);

        writer.write('\n');
    }

    walk(walker) {
        this.init = walker.walk(this.init);
        this.test = walker.walk(this.test);
        this.update = walker.walk(this.update);
        this.body = walker.walk(this.body);
    }
}

module.exports = ForStatement;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/UpdateExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var isCompoundExpression = require('/marko$4.0.0-rc.12/compiler/util/isCompoundExpression'/*'../util/isCompoundExpression'*/);

class UpdateExpression extends Node {
    constructor(def) {
        super('UpdateExpression');
        this.argument = def.argument;
        this.operator = def.operator;
        this.prefix = def.prefix === true;
    }

    generateCode(codegen) {
        this.argument = codegen.generateCode(this.argument);
        return this;
    }

    writeCode(writer) {
        var argument = this.argument;
        var operator = this.operator;
        var prefix = this.prefix;

        if (prefix) {
            writer.write(operator);
        }

        var wrap = isCompoundExpression(argument);

        if (wrap) {
            writer.write('(');
        }

        writer.write(argument);

        if (wrap) {
            writer.write(')');
        }

        if (!prefix) {
            writer.write(operator);
        }
    }

    isCompoundExpression() {
        return true;
    }

    toJSON() {
        return {
            type: 'UpdateExpression',
            argument: this.argument,
            operator: this.operator,
            prefix: this.prefix
        };
    }

    walk(walker) {
        this.argument = walker.walk(this.argument);
    }

    toString() {
        var argument = this.argument;
        var operator = this.operator;
        var prefix = this.prefix;

        let result = '';

        if (prefix) {
            result += operator;
        }

        var wrap = isCompoundExpression(argument);

        if (wrap) {
            result += '(';
        }

        result += argument;

        if (wrap) {
            result += ')';
        }

        if (!prefix) {
            result += operator;
        }

        return result;
    }
}

module.exports = UpdateExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/UnaryExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var isCompoundExpression = require('/marko$4.0.0-rc.12/compiler/util/isCompoundExpression'/*'../util/isCompoundExpression'*/);

class UnaryExpression extends Node {
    constructor(def) {
        super('UnaryExpression');
        this.argument = def.argument;
        this.operator = def.operator;
        this.prefix = def.prefix === true;
    }

    generateCode(codegen) {
        this.argument = codegen.generateCode(this.argument);
        return this;
    }

    writeCode(writer) {
        var argument = this.argument;
        var operator = this.operator;
        var prefix = this.prefix;

        if (prefix) {
            writer.write(operator);

            if (operator === 'typeof' || operator === 'delete') {
                writer.write(' ');
            }
        }

        var wrap = isCompoundExpression(argument);

        if (wrap) {
            writer.write('(');
        }

        writer.write(argument);

        if (wrap) {
            writer.write(')');
        }

        if (!prefix) {
            writer.write(operator);
        }
    }

    isCompoundExpression() {
        return true;
    }

    toJSON() {
        return {
            type: 'UnaryExpression',
            argument: this.argument,
            operator: this.operator,
            prefix: this.prefix
        };
    }

    walk(walker) {
        this.argument = walker.walk(this.argument);
    }

    toString() {
        var argument = this.argument;
        var operator = this.operator;
        var prefix = this.prefix;

        let result = '';

        if (prefix) {
            result += operator;

            if (operator === 'typeof' || operator === 'delete') {
                result += ' ';
            }
        }

        var wrap = isCompoundExpression(argument);

        if (wrap) {
            result += '(';
        }

        result += argument;

        if (wrap) {
            result += ')';
        }

        if (!prefix) {
            result += operator;
        }

        return result;
    }
}

module.exports = UnaryExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/MemberExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var isCompoundExpression = require('/marko$4.0.0-rc.12/compiler/util/isCompoundExpression'/*'../util/isCompoundExpression'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;

class MemberExpression extends Node {
    constructor(def) {
        super('MemberExpression');
        this.object = def.object;
        this.property = def.property;
        this.computed = def.computed;

        ok(this.object, '"object" is required');
        ok(this.property, '"property" is required');
    }

    generateCode(codegen) {
        this.object = codegen.generateCode(this.object);
        this.property = codegen.generateCode(this.property);
        return this;
    }

    writeCode(writer) {
        var object = this.object;
        var property = this.property;
        var computed = this.computed;

        var wrapWithParens = isCompoundExpression(object);

        if (wrapWithParens) {
            writer.write('(');
        }

        writer.write(object);

        if (wrapWithParens) {
            writer.write(')');
        }

        if (computed) {
            writer.write('[');
            writer.write(property);
            writer.write(']');
        } else {
            writer.write('.');
            writer.write(property);
        }
    }

    toJSON() {
        return {
            type: 'MemberExpression',
            object: this.object,
            property: this.property,
            computed: this.computed
        };
    }

    walk(walker) {
        this.object = walker.walk(this.object);
        this.property = walker.walk(this.property);
    }

    toString() {
        var object = this.object;
        var property = this.property;
        var computed = this.computed;

        var result = object.toString();

        if (computed) {
            result += '[' + property + ']';
        } else {
            result += '.' + property;
        }

        return result;
    }
}

module.exports = MemberExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/adjustIndent", function(require, exports, module, __filename, __dirname) { var splitLinesRegExp = /\r?\n/;
var initialIndentationRegExp = /^\s+/;

function removeInitialEmptyLines(lines) {
    var i;

    for (i=0; i<lines.length; i++) {
        if (lines[i].trim() !== '') {
            break;
        }
    }

    if (i !== 0) {
        lines = lines.slice(i);
    }

    return lines;
}

function removeTrailingEmptyLines(lines) {
    var i;
    var last = lines.length-1;

    for (i=last; i>=0; i--) {
        if (lines[i].trim() !== '') {
            break;
        }
    }

    if (i !== last) {
        lines = lines.slice(0, i+1);
    }

    return lines;
}

function adjustIndent(str, newIndentation) {
    if (!str) {
        return str;
    }

    var lines = str.split(splitLinesRegExp);
    lines = removeInitialEmptyLines(lines);
    lines = removeTrailingEmptyLines(lines);

    if (lines.length === 0) {
        return '';
    }

    var initialIndentationMatches = initialIndentationRegExp.exec(lines[0]);

    var indentation = initialIndentationMatches ? initialIndentationMatches[0] : '';
    if (!indentation && !newIndentation) {
        return str;
    }

    lines.forEach((line, i) => {
        if (line.startsWith(indentation)) {
            line = line.substring(indentation.length);
        }

        lines[i] = line;
    });

    return newIndentation ?
        lines.join('\n' + newIndentation) :
        lines.join('\n');
}

module.exports = adjustIndent;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Code", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var adjustIndent = require('/marko$4.0.0-rc.12/compiler/util/adjustIndent'/*'../util/adjustIndent'*/);

class Code extends Node {
    constructor(def) {
        super('Code');
        this.value = def.value;
    }

    generateCode(codegen) {
        return this;
    }

    writeCode(writer) {
        var code = this.value;

        if (!code) {
            return;
        }

        code = adjustIndent(code, writer.currentIndent);

        writer.write(code);
    }
}

module.exports = Code;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/InvokeMacro", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;

function removeTrailingUndefineds(args) {
    var i;
    var last = args.length-1;

    for (i=last; i>=0; i--) {
        if (args[i].type !== 'Literal' || args[i].value !== undefined) {
            break;
        }
    }

    if (i !== last) {
        args = args.slice(0, i+1);
    }

    return args;
}


class InvokeMacro extends Node {
    constructor(def) {
        super('InvokeMacro');
        this.el = def.el;
        this.name = def.name;
        this.args = def.args;
        this.body = this.makeContainer(def.body);

        if (this.name != null) {
            ok(typeof this.name === 'string', 'Invalid macro name: ' + this.name);
        }
    }

    generateCode(codegen) {
        var el = this.el;
        var name = this.name;
        var args = this.args;
        var body = this.body;

        var builder = codegen.builder;

        var macroDef;

        if (el) {
            name = el.tagName;
            body = el.body;

            if (typeof name !== 'string') {
                codegen.context.addError(el, 'Element node with a dynamic tag name cannot be used to invoke a macro', 'ERR_INVOKE_MACRO');
                return;
            }

            macroDef = codegen.context.getRegisteredMacro(name);

            if (!macroDef) {
                codegen.context.addError(el, 'Element node does not correspond to a macro', 'ERR_INVOKE_MACRO');
                return;
            }

            if (el.argument) {
                args = builder.parseJavaScriptArgs(el.argument);
            } else {
                args = new Array(macroDef.params.length);
                for (let i=0; i<args.length; i++) {
                    args[i] = builder.literal(undefined);
                }

                el.forEachAttribute((attr) => {
                    var paramName = attr.name;
                    var paramIndex = macroDef.getParamIndex(paramName);
                    if (paramIndex == null) {
                        codegen.context.addError(el, 'The "' + name + '" macro does not have a parameter named "' + paramName + '"', 'ERR_INVOKE_MACRO');
                        return;
                    }

                    var value = attr.value;
                    if (value == null) {
                        value = builder.literal(true);
                    }
                    args[paramIndex] = value;
                });
            }
        } else {
            macroDef = codegen.context.getRegisteredMacro(name);
            if (!macroDef) {
                codegen.addError('Macro not found with name "' + name + '"', 'ERR_INVOKE_MACRO');
                return;
            }
        }

        if (!args) {
            args = [];
        }

        while (args.length < macroDef.params.length) {
            args.push(builder.literal(undefined));
        }

        if (body && body.length) {
            args[macroDef.getParamIndex('renderBody')] = builder.renderBodyFunction(body);
        }

        args[macroDef.getParamIndex('out')] = builder.identifier('out');

        args = removeTrailingUndefineds(args);

        return builder.functionCall(builder.identifier(macroDef.functionName), args);
    }

    walk(walker) {
        this.el = walker.walk(this.el);
        this.name = walker.walk(this.name);
        this.args = walker.walk(this.args);
        this.body = walker.walk(this.body);
    }
}

module.exports = InvokeMacro;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Macro", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;

class Macro extends Node {
    constructor(def) {
        super('Macro');
        this.name = def.name;
        this.params = def.params;
        this.body = this.makeContainer(def.body);

        if (this.params == null) {
            this.params = [];
        } else {
            ok(Array.isArray(this.params), '"params" should be an array');
        }
    }

    generateCode(codegen) {
        var name = this.name;
        var params = this.params || [];
        var builder = codegen.builder;
        var macroDef = codegen.context.registerMacro(name, params);
        var functionName = macroDef.functionName;

        // Walk the body after registering the macro
        var body = codegen.generateCode(this.body);

        return builder.functionDeclaration(functionName, macroDef.params, body);
    }

    walk(walker) {
        this.body = walker.walk(this.body);
    }
}

module.exports = Macro;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ConditionalExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class ConditionalExpression extends Node {
    constructor(def) {
        super('ConditionalExpression');
        this.test = def.test;
        this.consequent = def.consequent;
        this.alternate = def.alternate;
    }

    generateCode(codegen) {
        this.test = codegen.generateCode(this.test);
        this.consequent = codegen.generateCode(this.consequent);
        this.alternate = codegen.generateCode(this.alternate);
        return this;
    }

    writeCode(writer) {
        var test = this.test;
        var consequent = this.consequent;
        var alternate = this.alternate;

        writer.write(test);
        writer.write(' ? ');
        writer.write(consequent);
        writer.write(' : ');
        writer.write(alternate);
    }

    isCompoundExpression() {
        return true;
    }

    toJSON() {
        return {
            type: 'ConditionalExpression',
            test: this.test,
            consequent: this.consequent,
            alternate: this.alternate
        };
    }

    walk(walker) {
        this.test = walker.walk(this.test);
        this.consequent = walker.walk(this.consequent);
        this.alternate = walker.walk(this.alternate);
    }

    toString() {
        var test = this.test;
        var consequent = this.consequent;
        var alternate = this.alternate;
        return test.toString() + ' ? ' + consequent + ' : ' + alternate;
    }
}

module.exports = ConditionalExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/NewExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var isCompoundExpression = require('/marko$4.0.0-rc.12/compiler/util/isCompoundExpression'/*'../util/isCompoundExpression'*/);

class NewExpression extends Node {
    constructor(def) {
        super('NewExpression');
        this.callee = def.callee;
        this.args = def.args;
    }

    generateCode(codegen) {
        this.callee = codegen.generateCode(this.callee);
        this.args = codegen.generateCode(this.args);
        return this;
    }

    writeCode(writer) {
        var callee = this.callee;
        var args = this.args;

        writer.write('new ');

        var wrap = isCompoundExpression(callee);

        if (wrap) {
            writer.write('(');
        }

        writer.write(callee);

        if (wrap) {
            writer.write(')');
        }

        writer.write('(');

        if (args && args.length) {
            for (let i=0, argsLen = args.length; i<argsLen; i++) {
                if (i !== 0) {
                    writer.write(', ');
                }

                let arg = args[i];
                if (!arg) {
                    throw new Error('Arg ' + i + ' is not valid for new expression: ' + JSON.stringify(this.toJSON()));
                }
                writer.write(arg);
            }
        }

        writer.write(')');
    }

    isCompoundExpression() {
        return true;
    }

    toJSON() {
        return {
            type: 'NewExpression',
            callee: this.callee,
            args: this.args
        };
    }

    walk(walker) {
        this.callee = walker.walk(this.callee);
        this.args = walker.walk(this.args);
    }

    toString() {
        var callee = this.callee;
        var args = this.args;

        let result = 'new ';

        var wrap = isCompoundExpression(callee);

        if (wrap) {
            result += '(';
        }

        result += callee;

        if (wrap) {
            result += ')';
        }


        result += '(';

        if (args && args.length) {
            for (let i=0, argsLen = args.length; i<argsLen; i++) {
                if (i !== 0) {
                    result += ', ';
                }

                let arg = args[i];
                result += arg;
            }
        }

        result += ')';

        return result;
    }
}

module.exports = NewExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ObjectExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class ObjectExpression extends Node {
    constructor(def) {
        super('ObjectExpression');
        this.properties = def.properties;
    }

    generateCode(codegen) {
        this.properties = codegen.generateCode(this.properties);

        return this;
    }

    writeCode(writer) {
        var properties = this.properties;

        if (!properties || !properties.length) {
            writer.write('{}');
            return;
        }

        writer.incIndent();
        writer.write('{\n');
        writer.incIndent();

        properties.forEach((prop, i) => {
            writer.writeLineIndent();
            writer.write(prop);

            if (i < properties.length - 1) {
                writer.write(',\n');
            } else {
                writer.write('\n');
            }
        });

        writer.decIndent();
        writer.writeLineIndent();
        writer.write('}');
        writer.decIndent();
    }

    toJSON() {
        return {
            type: 'ObjectExpression',
            properties: this.properties
        };
    }

    walk(walker) {
        this.properties = walker.walk(this.properties);
    }

    toString(codegen) {
        var properties = this.properties;

        if (!properties || !properties.length) {
            return '{}';
        }

        let result = '{';

        properties.forEach((prop, i) => {
            if (i !== 0) {
                result += ', ';
            }
            result += prop;
        });

        return result + '}';    }
}

module.exports = ObjectExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ArrayExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class ArrayExpression extends Node {
    constructor(def) {
        super('ArrayExpression');
        this.elements = def.elements;
    }

    generateCode(codegen) {
        this.elements = codegen.generateCode(this.elements);
        return this;
    }

    writeCode(writer) {
        var elements = this.elements;

        if (!elements || !elements.length) {
            writer.write('[]');
            return;
        }

        writer.incIndent();
        writer.write('[\n');
        writer.incIndent();

        elements.forEach((element, i) => {
            writer.writeLineIndent();
            writer.write(element);

            if (i < elements.length - 1) {
                writer.write(',\n');
            } else {
                writer.write('\n');
            }
        });

        writer.decIndent();
        writer.writeLineIndent();
        writer.write(']');
        writer.decIndent();
    }

    walk(walker) {
        this.elements = walker.walk(this.elements);
    }

    toJSON() {
        return {
            type: 'ArrayExpression',
            elements: this.elements
        };
    }

    toString() {
        var result = '[';
        var elements = this.elements;
        if (elements) {
            elements.forEach((element, i) => {
                if (i !== 0) {
                    result += ', ';
                }
                result += element.toString();
            });
        }

        return result + ']';
    }
}

module.exports = ArrayExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/isValidJavaScriptIdentifier",function(i,r,t,e,n){var o=/^[$A-Z_][0-9A-Z_$]*$/i;t.exports=function(i){return o.test(i)}});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Property", function(require, exports, module, __filename, __dirname) { 'use strict';
const isValidJavaScriptIdentifier = require('/marko$4.0.0-rc.12/compiler/util/isValidJavaScriptIdentifier'/*'../util/isValidJavaScriptIdentifier'*/);
const Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class Property extends Node {
    constructor(def) {
        super('Property');
        this.key = def.key;
        this.value = def.value;
    }

    generateCode(codegen) {
        var key = this.key;
        var value = this.value;

        if (key.type === 'Literal') {
            var propName = key.value;
            if (isValidJavaScriptIdentifier(propName)) {
                key = codegen.builder.identifier(propName);
            }
        }

        this.key = codegen.generateCode(key);
        this.value = codegen.generateCode(value);

        return this;
    }

    writeCode(writer) {
        var key = this.key;
        var value = this.value;
        writer.write(key);
        writer.write(': ');
        writer.write(value);
    }

    toJSON() {
        return {
            type: 'Property',
            key: this.key,
            value: this.value
        };
    }

    walk(walker) {
        this.key = walker.walk(this.key);
        this.value = walker.walk(this.value);
    }

    toString() {
        var key = this.key;
        var value = this.value;

        if (key.type === 'Literal') {
            var propName = key.value;
            if (isValidJavaScriptIdentifier(propName)) {
                key = propName;
            }
        }

        return key + ': ' + value;
    }
}

module.exports = Property;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/VariableDeclarator", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var Identifier = require('/marko$4.0.0-rc.12/compiler/ast/Identifier'/*'./Identifier'*/);
var isValidJavaScriptVarName = require('/marko$4.0.0-rc.12/compiler/util/isValidJavaScriptVarName'/*'../util/isValidJavaScriptVarName'*/);

class VariableDeclarator extends Node {
    constructor(def) {
        super('VariableDeclarator');
        this.id = def.id;
        this.init = def.init;

        let name = this.id.name;
        if (!name) {
            throw new Error('"name" is required');
        }

        if (!isValidJavaScriptVarName(name)) {
            var error = new Error('Invalid JavaScript variable name: ' + name);
            error.code = 'INVALID_VAR_NAME';
            throw error;
        }
    }

    generateCode(codegen) {
        this.id = codegen.generateCode(this.id);
        this.init = codegen.generateCode(this.init);
        return this;
    }

    writeCode(writer) {
        var id = this.id;
        var init = this.init;

        if (!(id instanceof Identifier) && typeof id !== 'string') {
            throw new Error('Invalid variable name: ' + id);
        }

        writer.write(id);

        if (init != null) {
            writer.write(' = ');
            writer.write(init);
        }
    }

    walk(walker) {
        this.id = walker.walk(this.id);
        this.init = walker.walk(this.init);
    }
}

module.exports = VariableDeclarator;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ThisExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class ThisExpression extends Node {
    constructor(def) {
        super('ThisExpression');
    }

    generateCode(codegen) {
        return this;
    }

    writeCode(writer) {
        writer.write('this');
    }

    toString() {
        return 'this';
    }
}

module.exports = ThisExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Expression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;

class Expression extends Node {
    constructor(def) {
        super('Expression');
        this.value = def.value;
        ok(this.value != null, 'Invalid expression');
    }

    generateCode(codegen) {
        return this;
    }

    writeCode(writer) {
        writer.write(this.value);
    }

    isCompoundExpression() {
        return true;
    }

    toString() {
        return this.value;
    }
}

module.exports = Expression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Scriptlet", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);
var adjustIndent = require('/marko$4.0.0-rc.12/compiler/util/adjustIndent'/*'../util/adjustIndent'*/);

class Scriptlet extends Node {
    constructor(def) {
        super('Scriptlet');
        this.code = def.code;
    }

    generateCode(codegen) {
        return this;
    }

    writeCode(writer) {
        var code = this.code;

        if (!code) {
            return;
        }

        code = adjustIndent(code, writer.currentIndent);

        writer.write(code);
        writer.write('\n');
    }
}

module.exports = Scriptlet;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/ContainerNode", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class ContainerNode extends Node {
    constructor(def) {
        super('ContainerNode');
        this.body = this.makeContainer(def.body);
    }

    generateCode(codegen) {
        return codegen.genereateCode(this.body);
    }

    walk(walker) {
        this.body = walker.walk(this.body);
    }
}

module.exports = ContainerNode;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/WhileStatement", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class WhileStatement extends Node {
    constructor(def) {
        super('WhileStatement');
        this.test = def.test;
        this.body = this.makeContainer(def.body);
    }

    generateCode(codegen) {
        this.test = codegen.generateCode(this.test);
        this.body = codegen.generateCode(this.body);
        return this;
    }

    writeCode(writer) {
        var test = this.test;
        var body = this.body;

        writer.write('while (');
        writer.write(test);
        writer.write(') ');

        writer.write(body);

        writer.write('\n');
    }

    walk(walker) {
        this.test = walker.walk(this.test);
        this.body = walker.walk(this.body);
    }
}

module.exports = WhileStatement;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/DocumentType", function(require, exports, module, __filename, __dirname) { 'use strict';
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class DocumentType extends Node {
    constructor(def) {
        super('DocumentType');
        this.documentType = def.documentType;
    }

    generateHTMLCode(codegen) {
        var builder = codegen.builder;

        return [
            builder.htmlLiteral('<!'),
            builder.html(codegen.generateCode(this.documentType)),
            builder.htmlLiteral('>')
        ];
    }

    toJSON() {
        return {
            type: this.type,
            value: this.value
        };
    }
}

module.exports = DocumentType;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/Declaration", function(require, exports, module, __filename, __dirname) { 'use strict';
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class Declaration extends Node {
    constructor(def) {
        super('Declaration');
        this.declaration = def.declaration;
    }

    generateHTMLCode(codegen) {
        var builder = codegen.builder;

        return [
            builder.htmlLiteral('<?'),
            codegen.generateCode(this.declaration),
            builder.htmlLiteral('?>')
        ];
    }

    toJSON() {
        return {
            type: this.type,
            value: this.value
        };
    }
}

module.exports = Declaration;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/SequenceExpression", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class SequenceExpression extends Node {
    constructor(def) {
        super('SequenceExpression');
        this.expressions = def.expressions;
    }

    generateCode(codegen) {
        this.expressions = codegen.generateCode(this.expressions);
        return this;
    }

    writeCode(writer) {

        for (var i=0; i<this.expressions.length; i++) {
            var expression = this.expressions[i];

            if (i !== 0) {
                writer.write(', ');
            }

            writer.write(expression);
        }
    }

    isCompoundExpression() {
        return true;
    }

    toJSON() {
        return {
            type: 'SequenceExpression',
            expressions: this.expressions
        };
    }

    walk(walker) {
        this.expressions = walker.walk(this.expressions);
    }

    toString() {
        var code = '';

        for (var i=0; i<this.expressions.length; i++) {
            var expression = this.expressions[i];

            if (i !== 0) {
                code += ', ';
            }

            code += expression;
        }

        return code;
    }
}

module.exports = SequenceExpression;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlElement/html/StartTag", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'../../Node'*/);

class StartTag extends Node {
    constructor(def) {
        super('StartTag');

        this.tagName = def.tagName;
        this.attributes = def.attributes;
        this.argument = def.argument;
        this.selfClosed = def.selfClosed;
        this.dynamicAttributes = def.dynamicAttributes;
    }

    generateCode(codegen) {
        var builder = codegen.builder;

        var tagName = this.tagName;
        var selfClosed = this.selfClosed;
        var dynamicAttributes = this.dynamicAttributes;
        var context = codegen.context;

        var nodes = [
            builder.htmlLiteral('<'),
            builder.html(tagName),
        ];

        var attributes = this.attributes;

        if (attributes) {
            for (let i=0; i<attributes.length; i++) {
                let attr = attributes[i];
                nodes.push(codegen.generateCode(attr));
            }
        }

        if (dynamicAttributes) {
            dynamicAttributes.forEach(function(attrsExpression) {
                let attrsFunctionCall = builder.functionCall(context.helper('attrs'), [attrsExpression]);
                nodes.push(builder.html(attrsFunctionCall));
            });
        }

        if (selfClosed) {
            nodes.push(builder.htmlLiteral('/>'));
        } else {
            nodes.push(builder.htmlLiteral('>'));
        }

        return nodes;
    }
}

module.exports = StartTag;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlElement/html/EndTag", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'../../Node'*/);

class EndTag extends Node {
    constructor(def) {
        super('EndTag');
        this.tagName = def.tagName;
    }

    generateCode(codegen) {
        var tagName = this.tagName;
        var builder = codegen.builder;

        return [
            builder.htmlLiteral('</'),
            builder.html(tagName),
            builder.htmlLiteral('>')
        ];
    }
}

module.exports = EndTag;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlElement/html/generateCode",function(e,t,a,r,n){"use strict";var m=e("/marko$4.0.0-rc.12/compiler/ast/HtmlElement/html/StartTag"),l=e("/marko$4.0.0-rc.12/compiler/ast/HtmlElement/html/EndTag");a.exports=function(e,t){var a=e.tagName;a=a?t.builder.literal(a):e.tagNameExpression;var r=e._attributes&&e._attributes.all,n=e.body,i=e.argument,o=n&&n.length,s=e.openTagOnly,g=e.bodyOnlyIf,d=e.dynamicAttributes,u=e.selfClosed===!0,c=t.builder;o&&(n=t.generateCode(n)),o||g?(s=!1,u=!1):u&&(s=!0);var b,f=new m({tagName:a,attributes:r,argument:i,selfClosed:u,dynamicAttributes:d});if(s||(b=new l({tagName:a})),g){var p=c.ifStatement(c.negate(g),[f]),y=c.ifStatement(c.negate(g),[b]);return[p,n,y]}return s?t.generateCode(f):[f,n,b]}});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlElement/vdom/HtmlElementVDOM", function(require, exports, module, __filename, __dirname) { 'use strict';

const Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'../../Node'*/);
const vdomUtil = require('/marko$4.0.0-rc.12/compiler/util/vdom/index'/*'../../../util/vdom'*/);

function finalizeCreateArgs(createArgs, builder) {
    var length = createArgs.length;
    var lastArg;

    for (var i=length-1; i>=0; i--) {
        var arg = createArgs[i];
        if (arg) {
            lastArg = arg;
        } else {
            if (lastArg != null) {
                createArgs[i] = builder.literalNull();
            } else {
                length--;
            }
        }
    }

    createArgs.length = length;
    return createArgs;
}

class HtmlElementVDOM extends Node {
    constructor(def) {
        super('HtmlElementVDOM');
        this.tagName = def.tagName;
        this.isStatic = def.isStatic;
        this.isAttrsStatic = def.isAttrsStatic;
        this.isHtmlOnly = def.isHtmlOnly;
        this.attributes = def.attributes;
        this.body = def.body;
        this.dynamicAttributes = def.dynamicAttributes;

        this.isChild = false;
        this.createElementId = undefined;
        this.attributesArg = undefined;
        this.nextConstId = undefined;
    }

    generateCode(codegen) {
        let context = codegen.context;
        let builder = codegen.builder;

        vdomUtil.registerOptimizer(context);

        let attributes = this.attributes;
        let dynamicAttributes = this.dynamicAttributes;

        let attributesArg = null;

        if (attributes && attributes.length) {
            let addAttr = function(name, value) {
                if (!attributesArg) {
                    attributesArg = {};
                }

                if (value.type === 'Literal') {
                    let literalValue = value.value;
                    if (literalValue == null || literalValue === false) {
                        return;
                    } else if (typeof literalValue === 'number') {
                        value.value = literalValue.toString();
                    }
                } else if (value.type === 'AttributePlaceholder') {
                    value = codegen.builder.functionCall(context.helper('str'), [value]);
                }

                attributesArg[name] = value;
            };

            attributes.forEach((attr) => {
                let value = attr.value;

                if (value == null) {
                    value = builder.literal(true);
                }

                if (!attr.name) {
                    return;
                }

                addAttr(attr.name, value);
            });

            if (attributesArg) {
                attributesArg = builder.literal(attributesArg);
            }
        }

        if (dynamicAttributes && dynamicAttributes.length) {
            dynamicAttributes.forEach((attrs) => {
                if (attributesArg) {
                    let mergeVar = context.helper('merge');
                    attributesArg = builder.functionCall(mergeVar, [
                        attributesArg, // Input props from the attributes take precedence
                        attrs
                    ]);
                } else {
                    attributesArg = attrs;
                }
            });
        }

        this.attributesArg = attributesArg;

        return this;
    }

    walk(walker) {
        this.tagName = walker.walk(this.tagName);
        this.attributes = walker.walk(this.attributes);
        this.body = walker.walk(this.body);
    }

    writeCode(writer) {
        let builder = writer.builder;

        let body = this.body;
        let attributesArg = this.attributesArg;
        let nextConstId = this.nextConstId;

        let childCount = body && body.length;

        let createArgs = new Array(4); // tagName, attributes, childCount, const ID

        createArgs[0] = this.tagName;

        if (attributesArg) {
            createArgs[1] = attributesArg;
        }

        if (childCount != null) {
            createArgs[2] = builder.literal(childCount);
        }

        if (nextConstId) {
            createArgs[3] = nextConstId;
        }

        // Remove trailing undefined arguments and convert non-trailing
        // undefined elements to a literal null node
        createArgs = finalizeCreateArgs(createArgs, builder);

        let funcCall;

        if (this.isChild) {
            writer.write('.');

            funcCall = builder.functionCall(
                builder.identifier('e'),
                createArgs);
        } else if (this.isStatic && this.createElementId) {
            funcCall = builder.functionCall(
                this.createElementId,
                createArgs);
        } else if (this.isHtmlOnly) {
            writer.write('out.');
            funcCall = builder.functionCall(
                builder.identifier('e'),
                createArgs);
        } else {
            writer.write('out.');
            funcCall = builder.functionCall(
                builder.identifier('be'),
                createArgs);
        }

        writer.write(funcCall);

        if (body && body.length) {
            writer.incIndent();
            for(let i=0; i<body.length; i++) {
                let child = body[i];
                child.isChild = true;
                writer.write('\n');
                writer.writeLineIndent();
                writer.write(child);
            }
            writer.decIndent();
        }
    }
}

module.exports = HtmlElementVDOM;

});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlElement/vdom/EndElementVDOM", function(require, exports, module, __filename, __dirname) { 'use strict';
const Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'../../Node'*/);

class EndElementVDOM extends Node {
    constructor() {
        super('EndElementVDOM');
    }

    writeCode(writer) {
        writer.write('out.ee()');
    }
}

module.exports = EndElementVDOM;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlElement/vdom/generateCode", function(require, exports, module, __filename, __dirname) { 'use strict';
var HtmlElementVDOM = require('/marko$4.0.0-rc.12/compiler/ast/HtmlElement/vdom/HtmlElementVDOM'/*'./HtmlElementVDOM'*/);
var EndElementVDOM = require('/marko$4.0.0-rc.12/compiler/ast/HtmlElement/vdom/EndElementVDOM'/*'./EndElementVDOM'*/);

function checkAttributesStatic(attributes) {
    if (attributes) {
        for (let i=0; i<attributes.length; i++) {
            let attr = attributes[i];

            if (!attr.isStatic) {
                return false;
            }
        }
    }

    return true;
}

module.exports = function(node, codegen, vdomUtil) {
    var body = codegen.generateCode(node.body);
    var tagName = codegen.generateCode(node.tagNameExpression);
    var attributes = codegen.generateCode(node.getAttributes());
    var dynamicAttributes = codegen.generateCode(node.dynamicAttributes);
    var builder = codegen.builder;

    var isAttrsStatic = checkAttributesStatic(attributes);
    var isStatic = isAttrsStatic && node.isLiteralTagName();
    var isHtmlOnly = true;

    if (body && body.length) {
        for (var i=0; i<body.length; i++) {
            let child = body[i];
            if (child.type === 'HtmlElementVDOM' || child.type === 'TextVDOM') {
                if (child.type === 'TextVDOM' && child.escape === false) {
                    isHtmlOnly = false;
                }
                if (!child.isHtmlOnly) {
                    isStatic = false;
                    isHtmlOnly = false;
                } if (!child.isStatic) {
                    isStatic = false;
                }
            } else {
                isHtmlOnly = false;
                isStatic = false;
            }
        }
    }

    var bodyOnlyIf = node.bodyOnlyIf;
    if (bodyOnlyIf) {
        isHtmlOnly = false;
    }

    var htmlElVDOM = new HtmlElementVDOM({
        tagName,
        attributes,
        body,
        isStatic,
        isAttrsStatic,
        isHtmlOnly,
        dynamicAttributes
    });


    if (bodyOnlyIf) {
        htmlElVDOM.body = null;

        var startIf = builder.ifStatement(builder.negate(bodyOnlyIf), [
            htmlElVDOM
        ]);

        var endIf = builder.ifStatement(builder.negate(bodyOnlyIf), [
            new EndElementVDOM()
        ]);

        return [
            startIf,
            body,
            endIf
        ];
    } else if (isHtmlOnly) {
        return htmlElVDOM;
    } else {
        htmlElVDOM.body = null;
        return [htmlElVDOM].concat(body, new EndElementVDOM());
    }
};

});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/removeDashes",function(e,r,o,n,t){o.exports=function(e){return e.replace(/-([a-z])/g,function(e,r){return r.toUpperCase()})}});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/safeVarName",function(e,r,n,t,a){function o(e){var r=e.split(/[\\/]/);return r.length>=2&&(e=r.slice(-2).join("_")),e.replace(/[^A-Za-z0-9_]/g,"_").replace(/^[0-9]+/,function(e){for(var r="",n=0;n<e.length;n++)r+="_";return r})}n.exports=o});
$_mod.installed("marko$4.0.0-rc.12","property-handlers","1.1.1");
$_mod.main("/property-handlers$1.1.1","lib/index");
$_mod.def("/property-handlers$1.1.1/lib/index",function(r,e,t,n,o){"use strict";function i(r){return r.replace(/-([a-z])/g,function(r,e){return e.toUpperCase()})}t.exports=function(r,e,t){function n(r,e){if(e){if(e.__propertyHandlers)throw e;r+=". Cause: "+(e.stack||e)}o&&(r+=" ("+o+")");var t=new Error(r);throw t.__propertyHandlers=!0,t}var o;null!=t&&(o="string"==typeof t?t:t.path),r||n('"config" argument is required'),"object"!=typeof r&&n("object expected");for(var a in r)if(r.hasOwnProperty(a)){var p=r[a],f=i(a),c=e[f],l=!1;if(c||(c=e["*"],l=!0),!c){var s=JSON.stringify(a);a!==f&&(s+="/"+JSON.stringify(f)),n("Invalid option of "+s+". Allowed: "+Object.keys(e).join(", "))}try{l?c.call(e,a,p)===!1&&n("Invalid option: "+a):c.call(e,p)}catch(r){n('Error while applying option of "'+a+'"',r)}}if(e._end)try{e._end()}catch(r){n("Error after applying properties",r)}}});
$_mod.remap("/marko$4.0.0-rc.12/compiler/util/resolve","/marko$4.0.0-rc.12/compiler/util/resolve-browser");
$_mod.def("/marko$4.0.0-rc.12/compiler/util/resolve-browser",function(r,o,e,i,n){var t=r("/path-browserify$0.0.0/index");e.exports=function(r,o){return t.join(o,r)}});
$_mod.def("/raptor-util$3.1.0/forEachEntry",function(r,o,n,t,a){n.exports=function(r,o,n){for(var t in r)r.hasOwnProperty(t)&&o.call(n,t,r[t])}});
$_mod.installed("marko$4.0.0-rc.12","raptor-regexp","1.0.1");
$_mod.main("/raptor-regexp$1.0.1","lib/raptor-regexp");
$_mod.def("/raptor-regexp$1.0.1/lib/raptor-regexp",function(e,r,n,p,t){var a={"*":".*?","?":".?"};n.exports={escape:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},simple:function(e){var r=this;return new RegExp("^"+e.replace(/[\*\?]|[^\*\?]*/g,function(e){return a[e]||r.escape(e)})+"$")}}});
$_mod.main("/marko$4.0.0-rc.12/compiler/taglib-loader","");
$_mod.remap("/marko$4.0.0-rc.12/compiler/taglib-loader/scanTagsDir","/marko$4.0.0-rc.12/compiler/taglib-loader/scanTagsDir-browser");
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/scanTagsDir-browser",function(o,r,a,c,e){a.exports=function(){}});
$_mod.remap("/marko$4.0.0-rc.12/compiler/taglib-loader/json-file-reader","/marko$4.0.0-rc.12/compiler/taglib-loader/json-file-reader-browser");
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/json-file-reader-browser",function(r,e,a,o,t){e.readFileSync=function(e){var a;try{a=r(e)}catch(r){throw new Error('Unable to parse taglib JSON at path "'+e+'". Exception: '+r)}return a}});
$_mod.installed("marko$4.0.0-rc.12","try-require","1.2.1");
$_mod.main("/try-require$1.2.1","");
$_mod.def("/try-require$1.2.1/index",function(r,t,e,n,u){"use strict";var l=null,o=function(t,e){var n,u=e||r;try{n=u.resolve(t),l=null}catch(r){l=r}if(n)return u(n)},c=function(t,e){var n,u=e||r;try{n=u.resolve(t),l=null}catch(r){l=r}return n};o.resolve=c,o.lastError=function(){return l},e.exports=o});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/DependencyChain", function(require, exports, module, __filename, __dirname) { 'use strict';

class DependencyChain {
    constructor(array) {
        this.array = array || [];
    }

    append(str) {
        return new DependencyChain(this.array.concat(str));
    }

    toString() {
        return '[' + this.array.join(' → ') + ']';
    }
}

module.exports = DependencyChain;
});
$_mod.def("/raptor-util$3.1.0/createError",function(n,r,t,e,a){t.exports=function(n,r){var t,e=arguments.length,a=Error;return 2==e?(t=n instanceof a?n:new a(n),t.stack?t.stack+="\nCaused by: "+(r.stack||r):t._cause=r):1==e&&(t=n instanceof a?n:new a(n)),t}});
$_mod.installed("marko$4.0.0-rc.12","process","0.10.1");
$_mod.installed("marko$4.0.0-rc.12","complain","1.0.0");
$_mod.main("/marko$4.0.0-rc.12/compiler/taglib-lookup","");
$_mod.main("/marko$4.0.0-rc.12/compiler/taglib-finder","");
$_mod.remap("/marko$4.0.0-rc.12/compiler/taglib-finder/index","/marko$4.0.0-rc.12/compiler/taglib-finder/index-browser");
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-finder/index-browser",function(n,e,i,r,c){function o(n,e){return e||[]}function f(n){}function d(){}e.find=o,e.excludeDir=f,e.clearCache=d});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/Tag", function(require, exports, module, __filename, __dirname) { 'use strict';
var forEachEntry = require('/raptor-util$3.1.0/forEachEntry'/*'raptor-util/forEachEntry'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var CustomTag;

function createCustomTagNodeFactory(tagDef) {
    return function nodeFactory(el) {
        return new CustomTag(el, tagDef);
    };
}

class Tag{
    constructor() {
        ok(arguments.length === 0);
        this.taglibId = null;
        this.taglibPath = null;
        this.name = undefined;
        this.renderer = null;
        this.codeGeneratorModulePath = null;
        this.nodeFactoryPath = null;
        this.template = null;
        this.attributes = {};
        this.transformers = {};
        this.nestedVariables = null;
        this.importedVariables = null;
        this.patternAttributes = [];
        this.bodyFunction = null;
        this.nestedTags = null;
        this.isRepeated = null;
        this.isNestedTag = false;
        this.parentTagName = null;
        this.openTagOnly = null;
        this.body = null;
        this.type = null; // Only applicable for nested tags
        this._nodeFactory = undefined;
    }

    forEachVariable(callback, thisObj) {
        if (!this.nestedVariables) {
            return;
        }

        this.nestedVariables.vars.forEach(callback, thisObj);
    }

    forEachImportedVariable(callback, thisObj) {
        if (!this.importedVariables) {
            return;
        }

        forEachEntry(this.importedVariables, function (key, importedVariable) {
            callback.call(thisObj, importedVariable);
        });
    }

    forEachTransformer(callback, thisObj) {
        forEachEntry(this.transformers, function (key, transformer) {
            callback.call(thisObj, transformer);
        });
    }
    hasTransformers() {
        /*jshint unused:false */
        for (var k in this.transformers) {
            if (this.transformers.hasOwnProperty(k)) {
                return true;
            }

        }
        return false;
    }
    addAttribute(attr) {
        attr.filePath = this.filePath;

        if (attr.pattern) {
            this.patternAttributes.push(attr);
        } else {
            if (attr.name === '*') {
                attr.dynamicAttribute = true;

                if (attr.targetProperty === null || attr.targetProperty === '') {
                    attr.targetProperty = null;

                }
                else if (!attr.targetProperty) {
                    attr.targetProperty = '*';
                }
            }

            this.attributes[attr.name] = attr;
        }
    }
    toString() {
        return '[Tag: <' + this.name + '@' + this.taglibId + '>]';
    }
    forEachAttribute(callback, thisObj) {
        for (var attrName in this.attributes) {
            if (this.attributes.hasOwnProperty(attrName)) {
                callback.call(thisObj, this.attributes[attrName]);
            }
        }
    }
    getAttribute(attrName) {
        var attributes = this.attributes;

        // try by exact match first
        var attribute = attributes[attrName] || attributes['*'];

        if (attribute === undefined && this.patternAttributes) {
            // try searching by pattern
            for (var i = 0, len = this.patternAttributes.length; i < len; i++) {
                var patternAttribute = this.patternAttributes[i];
                if (patternAttribute.pattern.test(attrName)) {
                    attribute = patternAttribute;
                    break;
                }
            }
        }

        return attribute;
    }
    addNestedVariable(nestedVariable) {
        if (!this.nestedVariables) {
            this.nestedVariables = {
                __noMerge: true,
                vars: []
            };
        }

        this.nestedVariables.vars.push(nestedVariable);
    }
    addImportedVariable(importedVariable) {
        if (!this.importedVariables) {
            this.importedVariables = {};
        }
        var key = importedVariable.targetProperty;
        this.importedVariables[key] = importedVariable;
    }
    addTransformer(transformer) {
        var key = transformer.path;
        transformer.taglibId = this.taglibId;
        this.transformers[key] = transformer;
    }
    setBodyFunction(name, params) {
        this.bodyFunction = {
            __noMerge: true,
            name: name,
            params: params
        };
    }
    setBodyProperty(propertyName) {
        this.bodyProperty = propertyName;
    }
    addNestedTag(nestedTag) {
        ok(nestedTag.name, '"nestedTag.name" is required');

        if (!this.nestedTags) {
            this.nestedTags = {};
        }

        nestedTag.isNestedTag = true;

        if (!nestedTag.targetProperty) {
            nestedTag.targetProperty = nestedTag.name;
        }

        this.nestedTags[nestedTag.name] = nestedTag;
    }
    forEachNestedTag(callback, thisObj) {
        if (!this.nestedTags) {
            return;
        }

        forEachEntry(this.nestedTags, function (key, nestedTag) {
            callback.call(thisObj, nestedTag);
        });
    }
    hasNestedTags() {
        return this.nestedTags != null;
    }
    getNodeFactory() {
        var nodeFactory = this._nodeFactory;
        if (nodeFactory !== undefined) {
            return nodeFactory;
        }

        let codeGeneratorModulePath = this.codeGeneratorModulePath;

        if (this.codeGeneratorModulePath) {
            var loadedCodeGenerator = require(this.codeGeneratorModulePath);
            nodeFactory = function(elNode) {
                elNode.setType(codeGeneratorModulePath);
                elNode.setCodeGenerator(loadedCodeGenerator);
                return elNode;
            };
        } else if (this.nodeFactoryPath) {
            nodeFactory = require(this.nodeFactoryPath);
            if (typeof nodeFactory !== 'function') {
                throw new Error('Invalid node factory exported by module at path "' + this.nodeFactoryPath + '"');
            }
        } else if (this.renderer || this.template || this.isNestedTag) {
            nodeFactory = createCustomTagNodeFactory(this);
        } else {
            return null;
        }

        return (this._nodeFactory = nodeFactory);
    }

    toJSON() {
        return this;
    }

    setTaglib(taglib) {
        this.taglibId = taglib ? taglib.id : null;
        this.taglibPath = taglib ? taglib.path : null;
    }
}

module.exports = Tag;

CustomTag = require('/marko$4.0.0-rc.12/compiler/ast/CustomTag'/*'../ast/CustomTag'*/);
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/Attribute", function(require, exports, module, __filename, __dirname) { 'use strict';

class Attribute {
    constructor(name) {
        this.name = name;
        this.type = null;
        this.required = false;
        this.type = null;
        this.allowExpressions = true;
        this.setFlag = null;
        this.pattern = null;
    }
}

module.exports = Attribute;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/Property", function(require, exports, module, __filename, __dirname) { 'use strict';

class Property {
    constructor() {
        this.name = null;
        this.type = 'string';
        this.value = undefined;
    }
}

module.exports = Property;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/NestedVariable", function(require, exports, module, __filename, __dirname) { 'use strict';

class NestedVariable {
    constructor() {
        this.name = null;
    }
}

module.exports = NestedVariable;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/ImportedVariable", function(require, exports, module, __filename, __dirname) { 'use strict';

class ImportedVariable {
    constructor() {
        this.targetProperty = null;
        this.expression = null;
    }
}

module.exports = ImportedVariable;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/Transformer", function(require, exports, module, __filename, __dirname) { 'use strict';
var nextTransformerId = 0;

class Transformer {
    constructor() {
        this.id = nextTransformerId++;
        this.name = null;
        this.tag = null;
        this.path = null;
        this.priority = null;
        this._func = null;
        this.properties = {};
    }

    getFunc() {
        if (!this.path) {
            throw new Error('Transformer path not defined for tag transformer (tag=' + this.tag + ')');
        }

        if (!this._func) {
            var transformer = require(this.path);

            if (typeof transformer === 'function') {
                if (transformer.prototype.process) {
                    var Clazz = transformer;
                    var instance = new Clazz();
                    instance.id = this.id;
                    this._func = instance.process.bind(instance);
                } else {
                    this._func = transformer;
                }
            } else {
                this._func = transformer.process || transformer.transform;
            }
        }
        return this._func;
    }
    toString() {
        return '[Taglib.Transformer: ' + this.path + ']';
    }
}

module.exports = Transformer;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-lookup/TaglibLookup", function(require, exports, module, __filename, __dirname) { 'use strict';

var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var taglibTypes = require('/marko$4.0.0-rc.12/compiler/taglib-loader/types'/*'../taglib-loader/types'*/);
var Text = require('/marko$4.0.0-rc.12/compiler/ast/Text/index'/*'../ast/Text'*/);
var extend = require('/raptor-util$3.1.0/extend'/*'raptor-util/extend'*/);

function transformerComparator(a, b) {
    a = a.priority;
    b = b.priority;

    if (a == null) {
        a = Number.MAX_VALUE;
    }

    if (b == null) {
        b = Number.MAX_VALUE;
    }

    return a - b;
}

function TAG_COMPARATOR(a, b) {
    a = a.name;
    b = b.name;
    return a.localeCompare(b);
}

function merge(target, source) {
    for (var k in source) {
        if (source.hasOwnProperty(k)) {
            if (target[k] && typeof target[k] === 'object' &&
                source[k] && typeof source[k] === 'object') {

                if (source.__noMerge) {
                    // Don't merge objects that are explicitly marked as "do not merge"
                    continue;
                }

                if (Array.isArray(target[k]) || Array.isArray(source[k])) {

                    var targetArray = target[k];
                    var sourceArray = source[k];


                    if (!Array.isArray(targetArray)) {
                        targetArray = [targetArray];
                    }

                    if (!Array.isArray(sourceArray)) {
                        sourceArray = [sourceArray];
                    }

                    target[k] = [].concat(targetArray).concat(sourceArray);
                } else {
                    var Ctor = target[k].constructor;
                    var newTarget = new Ctor();
                    merge(newTarget, target[k]);
                    merge(newTarget, source[k]);
                    target[k] = newTarget;
                }

            } else {
                target[k] = source[k];
            }
        }
    }

    return target;
}

/**
 * A taglib lookup merges in multiple taglibs so there is a single and fast lookup
 * for custom tags and custom attributes.
 */
class TaglibLookup {
    constructor() {
        this.merged = {};
        this.taglibsById = {};
        this._inputFiles = null;

        this._sortedTags = undefined;
    }

    hasTaglib(taglib) {
        return this.taglibsById.hasOwnProperty(taglib.id);
    }

    _mergeNestedTags(taglib) {
        var Tag = taglibTypes.Tag;
        // Loop over all of the nested tags and register a new custom tag
        // with the fully qualified name

        var merged = this.merged;

        function handleNestedTags(tag, parentTagName) {
            tag.forEachNestedTag(function(nestedTag) {
                var fullyQualifiedName = parentTagName + ':' + nestedTag.name;
                // Create a clone of the nested tag since we need to add some new
                // properties
                var clonedNestedTag = new Tag();
                extend(clonedNestedTag, nestedTag);
                // Record the fully qualified name of the parent tag that this
                // custom tag is associated with.
                clonedNestedTag.parentTagName = parentTagName;
                clonedNestedTag.name = fullyQualifiedName;
                merged.tags[fullyQualifiedName] = clonedNestedTag;
                handleNestedTags(clonedNestedTag, fullyQualifiedName);
            });
        }

        taglib.forEachTag(function(tag) {
            handleNestedTags(tag, tag.name);
        });
    }

    addTaglib(taglib) {
        ok(taglib, '"taglib" is required');
        ok(taglib.id, '"taglib.id" expected');

        if (this.taglibsById.hasOwnProperty(taglib.id)) {
            return;
        }

        this._sortedTags = undefined;

        this.taglibsById[taglib.id] = taglib;

        merge(this.merged, {
            tags: taglib.tags,
            transformers: taglib.transformers,
            textTransformers: taglib.textTransformers,
            attributes: taglib.attributes,
            patternAttributes: taglib.patternAttributes
        });

        this._mergeNestedTags(taglib);
    }

    getTagsSorted() {
        var sortedTags = this._sortedTags;

        if (sortedTags === undefined) {
            sortedTags = this._sortedTags = [];
            this.forEachTag((tag) => {
                sortedTags.push(tag);
            });
            sortedTags.sort(TAG_COMPARATOR);
        }

        return sortedTags;
    }

    forEachTag(callback) {
        var tags = this.merged.tags;
        if (tags) {
            for (var tagName in tags) {
                if (tags.hasOwnProperty(tagName)) {
                    var tag = tags[tagName];
                    var result = callback(tag);
                    if (result === false) {
                        break;
                    }
                }
            }
        }
    }

    forEachAttribute(tagName, callback) {
        var tags = this.merged.tags;
        if (!tags) {
            return;
        }

        function findAttributesForTagName(tagName) {
            var tag = tags[tagName];
            if (!tag) {
                return;
            }

            var attributes = tag.attributes;
            if (!attributes) {
                return;
            }

            for (var attrName in attributes) {
                if (attributes.hasOwnProperty(attrName)) {
                    callback(attributes[attrName], tag);
                }
            }

            if (tag.patternAttributes) {
                tag.patternAttributes.forEach(callback);
            }
        }

        findAttributesForTagName(tagName); // Look for an exact match at the tag level
        findAttributesForTagName('*'); // Including attributes that apply to all tags
    }

    getTag(element) {
        if (typeof element === 'string') {
            element = {
                tagName: element
            };
        }
        var tags = this.merged.tags;
        if (!tags) {
            return;
        }

        var tagName = element.tagName;
        return tags[tagName];
    }

    getAttribute(element, attr) {
        if (typeof element === 'string') {
            element = {
                tagName: element
            };
        }

        if (typeof attr === 'string') {
            attr = {
                name: attr
            };
        }

        var tags = this.merged.tags;
        if (!tags) {
            return;
        }

        var tagName = element.tagName;
        var attrName = attr.name;

        function findAttributeForTag(tag, attributes, attrName) {
            // try by exact match first
            var attribute = attributes[attrName];
            if (attribute === undefined && attrName !== '*') {
                if (tag.patternAttributes) {
                    // try searching by pattern
                    for (var i = 0, len = tag.patternAttributes.length; i < len; i++) {
                        var patternAttribute = tag.patternAttributes[i];
                        if (patternAttribute.pattern.test(attrName)) {
                            attribute = patternAttribute;
                            break;
                        }
                    }
                }
            }

            return attribute;
        }

        var globalAttributes = this.merged.attributes;

        function tryAttribute(tagName, attrName) {
            var tag = tags[tagName];
            if (!tag) {
                return undefined;
            }

            return findAttributeForTag(tag, tag.attributes, attrName) ||
                   findAttributeForTag(tag, globalAttributes, attrName);
        }

        var attrDef = tryAttribute(tagName, attrName) || // Look for an exact match at the tag level
            tryAttribute('*', attrName) || // If not there, see if there is a exact match on the attribute name for attributes that apply to all tags
            tryAttribute(tagName, '*'); // Otherwise, see if there is a splat attribute for the tag

        return attrDef;
    }

    forEachTemplateTransformer(callback, thisObj) {
        var transformers = this.merged.transformers;
        if (transformers && transformers.length) {
            transformers.forEach(callback, thisObj);
        }
    }

    forEachNodeTransformer(node, callback, thisObj) {
        /*
         * Based on the type of node we have to choose how to transform it
         */
        if (node.tagName || node.tagNameExpression) {
            this.forEachTagTransformer(node, callback, thisObj);
        } else if (node instanceof Text) {
            this.forEachTextTransformer(callback, thisObj);
        }
    }

    forEachTagTransformer(element, callback, thisObj) {
        if (typeof element === 'string') {
            element = {
                tagName: element
            };
        }

        var tagName = element.tagName;
        /*
         * If the node is an element node then we need to find all matching
         * transformers based on the URI and the local name of the element.
         */

        var transformers = [];

        function addTransformer(transformer) {
            if (!transformer || !transformer.getFunc) {
                throw new Error('Invalid transformer');
            }

            transformers.push(transformer);
        }

        /*
         * Handle all of the transformers for all possible matching transformers.
         *
         * Start with the least specific and end with the most specific.
         */

        if (this.merged.tags) {
            if (tagName) {
                if (this.merged.tags[tagName]) {
                    this.merged.tags[tagName].forEachTransformer(addTransformer);
                }
            }

            if (this.merged.tags['*']) {
                this.merged.tags['*'].forEachTransformer(addTransformer);
            }
        }

        transformers.sort(transformerComparator);

        transformers.forEach(callback, thisObj);
    }

    forEachTextTransformer(callback, thisObj) {
        if (this.merged.textTransformers) {
            this.merged.textTransformers.sort(transformerComparator);
            this.merged.textTransformers.forEach(callback, thisObj);
        }
    }

    getInputFiles() {
        if (!this._inputFiles) {
            var inputFilesSet = {};

            for (var taglibId in this.taglibsById) {
                if (this.taglibsById.hasOwnProperty(taglibId)) {

                    var taglibInputFiles = this.taglibsById[taglibId].getInputFiles();
                    var len = taglibInputFiles.length;
                    if (len) {
                        for (var i=0; i<len; i++) {
                            inputFilesSet[taglibInputFiles[i]] = true;
                        }
                    }
                }
            }

            this._inputFiles = Object.keys(inputFilesSet);
        }

        return this._inputFiles;
    }

    toString() {
        return 'lookup: ' + this.getInputFiles().join(', ');
    }
}

module.exports = TaglibLookup;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-lookup/index",function(r,i,o,a,e){"use strict";function t(r,i){if(i.imports)for(var o=0;o<i.imports.length;o++){var a=i.imports[o];r.hasTaglib(a)||r.addTaglib(a)}}function l(r){var o=c.find(r,i.registeredTaglibs),a=o.map(function(r){return r.id}).join(","),e=u[a];if(void 0===e){e=new s;for(var l=0;l<o.length;l++){var n=o[l];e.addTaglib(n),t(e,n)}u[a]=e}return e}function n(r){"string"==typeof r&&(r=g.load(r)),i.registeredTaglibs.push(r)}function d(){u={}}i.registerTaglib=n,i.buildLookup=l,i.clearCache=d;var g,c,s;i.registeredTaglibs=[];var u={};g=r("/marko$4.0.0-rc.12/compiler/taglib-loader/index"),c=r("/marko$4.0.0-rc.12/compiler/taglib-finder/index-browser"),s=r("/marko$4.0.0-rc.12/compiler/taglib-lookup/TaglibLookup")});
$_mod.installed("marko$4.0.0-rc.12","char-props","0.1.5");
$_mod.remap("/marko$4.0.0-rc.12/compiler/util/deresolve","/marko$4.0.0-rc.12/compiler/util/deresolve-browser");
$_mod.def("/marko$4.0.0-rc.12/compiler/util/deresolve-browser",function(r,e,o,n,t){o.exports=function(r,e){return r}});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/UniqueVars", function(require, exports, module, __filename, __dirname) { 'use strict';

var safeVarName = require('/marko$4.0.0-rc.12/compiler/util/safeVarName'/*'./safeVarName'*/);

class UniqueVars {
    constructor() {
        this.vars = {};
    }

    addVar(name, value) {
        if (typeof value !== 'string') {
            // Convert the non-string value into a string for easy comparison
            value = JSON.stringify(value);
        }

        name = safeVarName(name);

        var entry = this.vars[name];
        if (entry) {
            var vars = entry.vars;

            // See if there is already a variable with the requested value
            for (var i=0; i<vars.length; i++) {
                var curVar = vars[i];
                if (curVar.value === value) {
                    return curVar.name;
                }
            }

            let newEntry = {
                name: name + (++entry.counter),
                value: value
            };

            entry.vars.push(newEntry);
            return newEntry.name;
        } else {
            entry = {
                vars: [
                    {
                        name: name,
                        value: value
                    }
                ],
                counter: 1
            };

            this.vars[name] = entry;
        }

        return name;
    }
}

module.exports = UniqueVars;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/PosInfo", function(require, exports, module, __filename, __dirname) { 'use strict';var process=require("process"); 

var path = require('/path-browserify$0.0.0/index'/*'path'*/);

function getRelativePath(absolutePath) {
    if (typeof window === 'undefined') {
        absolutePath = path.resolve(process.cwd(), absolutePath);
        return path.relative(process.cwd(), absolutePath);
    } else {
        return absolutePath;
    }
}

class PosInfo {
    constructor(path, line, column) {
        this.path = getRelativePath(path);
        this.line = line;
        this.column = column;
    }

    toString() {
        return this.path + (this.line != null ? (":" + this.line + ":" + this.column) : '');
    }
}

module.exports = PosInfo;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/CompileError", function(require, exports, module, __filename, __dirname) { 'use strict';

class CompileError {
    constructor(errorInfo, context) {
        this.context = context;
        this.node = errorInfo.node;
        this.message = errorInfo.message;
        this.code = errorInfo.code;

        var pos = errorInfo.pos;
        var endPos = errorInfo.endPos;

        if (pos == null) {
            pos = this.node && this.node.pos;
        }

        if (endPos == null) {
            endPos = this.node && this.node.endPos;
        }

        if (pos != null) {
            pos = context.getPosInfo(pos);
        }

        if (endPos != null) {
            endPos = context.getPosInfo(endPos);
        }

        this.pos = pos;
        this.endPos = endPos;
    }

    toString() {
        var pos = this.pos;
        if (pos) {
            pos = '[' + pos + '] ';
        } else {
            pos = '';
        }
        var str = pos + this.message;
        if (pos == null && this.node) {
            str += ' (' + this.node.toString() + ')';
        }
        return str;
    }
}

module.exports = CompileError;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/macros", function(require, exports, module, __filename, __dirname) { 'use strict';

var safeVarName = require('/marko$4.0.0-rc.12/compiler/util/safeVarName'/*'./safeVarName'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;

class MacrosContext {
    constructor() {
        this._byName = {};
    }

    isMacro(name) {
        if (!name) {
            return false;
        }

        if (name.type === 'Literal') {
            name = name.value;
        }

        return this._byName.hasOwnProperty(name);
    }

    getRegisteredMacro(name) {
        return this._byName[name];
    }

    registerMacro(name, params) {
        ok(name, '"name" is required');
        ok(typeof name === 'string', '"name" should be a string');
        if (params == null) {
            params = [];

        } else {
            ok(Array.isArray(params), '"params" should be an array');
        }


        var hasOut = false;
        var hasRenderBody = false;
        params.forEach((param) => {
            if (param === 'out') {
                hasOut = true;
            } else if (param === 'renderBody') {
                hasRenderBody = true;
            }
        });

        if (!hasOut) {
            params.push('out');
        }

        if (!hasRenderBody) {
            params.push('renderBody');
        }

        var paramIndexes = {};
        params.forEach((param, i) => {
            paramIndexes[param] = i;

            if (param === 'out') {
                hasOut = true;
            } else if (param === 'renderBody') {
                hasRenderBody = true;
            }
        });

        var functionName = 'macro_' + safeVarName(name);

        var macroDef = {
            name: name,
            params: params,
            functionName: functionName,
            getParamIndex: function(param) {
                return paramIndexes[param];
            }
        };

        this._byName[name] = macroDef;

        return macroDef;
    }
}

function createMacrosContext() {
    return new MacrosContext();
}

exports.createMacrosContext = createMacrosContext;
});
$_mod.installed("marko$4.0.0-rc.12","simple-sha1","2.1.0");
$_mod.main("/simple-sha1$2.1.0","");
$_mod.remap("/simple-sha1$2.1.0/index","/simple-sha1$2.1.0/browser");
$_mod.installed("simple-sha1$2.1.0","rusha","0.8.5");
$_mod.main("/rusha$0.8.5","rusha");
$_mod.def("/rusha$0.8.5/rusha",function(e,r,n,t,a){!function(){function e(n){"use strict";for(var a={fill:0},f=function(e){for(e+=9;e%64>0;e+=1);return e},s=function(e,r){var n=new Uint8Array(e.buffer),t=r%4,a=r-t;switch(t){case 0:n[a+3]=0;case 1:n[a+2]=0;case 2:n[a+1]=0;case 3:n[a+0]=0}for(var f=(r>>2)+1;f<e.length;f++)e[f]=0},i=function(e,r,n){e[r>>2]|=128<<24-(r%4<<3),e[((r>>2)+2&-16)+14]=n/(1<<29)|0,e[((r>>2)+2&-16)+15]=n<<3},u=function(e,r,n,t,a){var f,s=this,i=a%4,u=(t+i)%4,o=t-u;switch(i){case 0:e[a]=s.charCodeAt(n+3);case 1:e[a+1-(i<<1)|0]=s.charCodeAt(n+2);case 2:e[a+2-(i<<1)|0]=s.charCodeAt(n+1);case 3:e[a+3-(i<<1)|0]=s.charCodeAt(n)}if(!(t<u+i)){for(f=4-i;f<o;f=f+4|0)r[a+f>>2]=s.charCodeAt(n+f)<<24|s.charCodeAt(n+f+1)<<16|s.charCodeAt(n+f+2)<<8|s.charCodeAt(n+f+3);switch(u){case 3:e[a+o+1|0]=s.charCodeAt(n+o+2);case 2:e[a+o+2|0]=s.charCodeAt(n+o+1);case 1:e[a+o+3|0]=s.charCodeAt(n+o)}}},o=function(e,r,n,t,a){var f,s=this,i=a%4,u=(t+i)%4,o=t-u;switch(i){case 0:e[a]=s[n+3];case 1:e[a+1-(i<<1)|0]=s[n+2];case 2:e[a+2-(i<<1)|0]=s[n+1];case 3:e[a+3-(i<<1)|0]=s[n]}if(!(t<u+i)){for(f=4-i;f<o;f=f+4|0)r[a+f>>2|0]=s[n+f]<<24|s[n+f+1]<<16|s[n+f+2]<<8|s[n+f+3];switch(u){case 3:e[a+o+1|0]=s[n+o+2];case 2:e[a+o+2|0]=s[n+o+1];case 1:e[a+o+3|0]=s[n+o]}}},h=function(e,r,n,a,f){var s,i=this,u=f%4,o=(a+u)%4,h=a-o,c=new Uint8Array(t.readAsArrayBuffer(i.slice(n,n+a)));switch(u){case 0:e[f]=c[3];case 1:e[f+1-(u<<1)|0]=c[2];case 2:e[f+2-(u<<1)|0]=c[1];case 3:e[f+3-(u<<1)|0]=c[0]}if(!(a<o+u)){for(s=4-u;s<h;s=s+4|0)r[f+s>>2|0]=c[s]<<24|c[s+1]<<16|c[s+2]<<8|c[s+3];switch(o){case 3:e[f+h+1|0]=c[h+2];case 2:e[f+h+2|0]=c[h+1];case 1:e[f+h+3|0]=c[h]}}},c=function(e){switch(r.getDataType(e)){case"string":return u.bind(e);case"array":return o.bind(e);case"buffer":return o.bind(e);case"arraybuffer":return o.bind(new Uint8Array(e));case"view":return o.bind(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));case"blob":return h.bind(e)}},d=new Array(256),y=0;y<256;y++)d[y]=(y<16?"0":"")+y.toString(16);var w=function(e){for(var r=new Uint8Array(e),n=new Array(e.byteLength),t=0;t<n.length;t++)n[t]=d[r[t]];return n.join("")},p=function(e){var r;if(e<=65536)return 65536;if(e<16777216)for(r=1;r<e;r<<=1);else for(r=16777216;r<e;r+=16777216);return r},A=function(r){if(r%64>0)throw new Error("Chunk size must be a multiple of 128 bit");a.offset=0,a.maxChunkLen=r,a.padMaxChunkLen=f(r),a.heap=new ArrayBuffer(p(a.padMaxChunkLen+320+20)),a.h32=new Int32Array(a.heap),a.h8=new Int8Array(a.heap),a.core=new e._core({Int32Array:Int32Array,DataView:DataView},{},a.heap),a.buffer=null};A(n||65536);var b=function(e,r){a.offset=0;var n=new Int32Array(e,r+320,5);n[0]=1732584193,n[1]=-271733879,n[2]=-1732584194,n[3]=271733878,n[4]=-1009589776},C=function(e,r){var n=f(e),t=new Int32Array(a.heap,0,n>>2);return s(t,e),i(t,e,r),n},g=function(e,r,n,t){c(e)(a.h8,a.h32,r,n,t||0)},l=function(e,r,n,t,f){var s=n;g(e,r,n),f&&(s=C(n,t)),a.core.hash(s,a.padMaxChunkLen)},v=function(e,r){var n=new Int32Array(e,r+320,5),t=new Int32Array(5),a=new DataView(t.buffer);return a.setInt32(0,n[0],!1),a.setInt32(4,n[1],!1),a.setInt32(8,n[2],!1),a.setInt32(12,n[3],!1),a.setInt32(16,n[4],!1),t},L=this.rawDigest=function(e){var r=e.byteLength||e.length||e.size||0;b(a.heap,a.padMaxChunkLen);var n=0,t=a.maxChunkLen;for(n=0;r>n+t;n+=t)l(e,n,t,r,!1);return l(e,n,r-n,r,!0),v(a.heap,a.padMaxChunkLen)};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function(e){return w(L(e).buffer)},this.resetState=function(){return b(a.heap,a.padMaxChunkLen),this},this.append=function(e){var r,n=0,t=e.byteLength||e.length||e.size||0,f=a.offset%a.maxChunkLen;for(a.offset+=t;n<t;)r=Math.min(t-n,a.maxChunkLen-f),g(e,n,r,f),f+=r,n+=r,f===a.maxChunkLen&&(a.core.hash(a.maxChunkLen,a.padMaxChunkLen),f=0);return this},this.getState=function(){var e,r=a.offset%a.maxChunkLen;if(r)e=a.heap.slice(0);else{var n=new Int32Array(a.heap,a.padMaxChunkLen+320,5);e=n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}return{offset:a.offset,heap:e}},this.setState=function(e){if(a.offset=e.offset,20===e.heap.byteLength){var r=new Int32Array(a.heap,a.padMaxChunkLen+320,5);r.set(new Int32Array(e.heap))}else a.h32.set(new Int32Array(e.heap));return this};var k=this.rawEnd=function(){var e=a.offset,r=e%a.maxChunkLen,n=C(r,e);a.core.hash(n,a.padMaxChunkLen);var t=v(a.heap,a.padMaxChunkLen);return b(a.heap,a.padMaxChunkLen),t};this.end=function(){return w(k().buffer)}}var r={getDataType:function(e){if("string"==typeof e)return"string";if(e instanceof Array)return"array";if("undefined"!=typeof global&&global.Buffer&&global.Buffer.isBuffer(e))return"buffer";if(e instanceof ArrayBuffer)return"arraybuffer";if(e.buffer instanceof ArrayBuffer)return"view";if(e instanceof Blob)return"blob";throw new Error("Unsupported data type.")}};if(e._core=function e(r,n,t){"use asm";var a=new r.Int32Array(t);function f(e,r){e=e|0;r=r|0;var n=0,t=0,f=0,s=0,i=0,u=0,o=0,h=0,c=0,d=0,y=0,w=0,p=0,A=0;f=a[r+320>>2]|0;i=a[r+324>>2]|0;o=a[r+328>>2]|0;c=a[r+332>>2]|0;y=a[r+336>>2]|0;for(n=0;(n|0)<(e|0);n=n+64|0){s=f;u=i;h=o;d=c;w=y;for(t=0;(t|0)<64;t=t+4|0){A=a[n+t>>2]|0;p=((f<<5|f>>>27)+(i&o|~i&c)|0)+((A+y|0)+1518500249|0)|0;y=c;c=o;o=i<<30|i>>>2;i=f;f=p;a[e+t>>2]=A}for(t=e+64|0;(t|0)<(e+80|0);t=t+4|0){A=(a[t-12>>2]^a[t-32>>2]^a[t-56>>2]^a[t-64>>2])<<1|(a[t-12>>2]^a[t-32>>2]^a[t-56>>2]^a[t-64>>2])>>>31;p=((f<<5|f>>>27)+(i&o|~i&c)|0)+((A+y|0)+1518500249|0)|0;y=c;c=o;o=i<<30|i>>>2;i=f;f=p;a[t>>2]=A}for(t=e+80|0;(t|0)<(e+160|0);t=t+4|0){A=(a[t-12>>2]^a[t-32>>2]^a[t-56>>2]^a[t-64>>2])<<1|(a[t-12>>2]^a[t-32>>2]^a[t-56>>2]^a[t-64>>2])>>>31;p=((f<<5|f>>>27)+(i^o^c)|0)+((A+y|0)+1859775393|0)|0;y=c;c=o;o=i<<30|i>>>2;i=f;f=p;a[t>>2]=A}for(t=e+160|0;(t|0)<(e+240|0);t=t+4|0){A=(a[t-12>>2]^a[t-32>>2]^a[t-56>>2]^a[t-64>>2])<<1|(a[t-12>>2]^a[t-32>>2]^a[t-56>>2]^a[t-64>>2])>>>31;p=((f<<5|f>>>27)+(i&o|i&c|o&c)|0)+((A+y|0)-1894007588|0)|0;y=c;c=o;o=i<<30|i>>>2;i=f;f=p;a[t>>2]=A}for(t=e+240|0;(t|0)<(e+320|0);t=t+4|0){A=(a[t-12>>2]^a[t-32>>2]^a[t-56>>2]^a[t-64>>2])<<1|(a[t-12>>2]^a[t-32>>2]^a[t-56>>2]^a[t-64>>2])>>>31;p=((f<<5|f>>>27)+(i^o^c)|0)+((A+y|0)-899497514|0)|0;y=c;c=o;o=i<<30|i>>>2;i=f;f=p;a[t>>2]=A}f=f+s|0;i=i+u|0;o=o+h|0;c=c+d|0;y=y+w|0}a[r+320>>2]=f;a[r+324>>2]=i;a[r+328>>2]=o;a[r+332>>2]=c;a[r+336>>2]=y}return{hash:f}},"undefined"!=typeof n?n.exports=e:"undefined"!=typeof window&&(window.Rusha=e),"undefined"!=typeof FileReaderSync){var t=new FileReaderSync,a=new e(4194304);self.onmessage=function(e){var r,n=e.data.data;try{r=a.digest(n),self.postMessage({id:e.data.id,hash:r})}catch(r){self.postMessage({id:e.data.id,error:r.name})}}}}()});
$_mod.def("/simple-sha1$2.1.0/browser",function(n,t,r,e,o){function i(n){return f.digest(n)}function s(n,t){return w?("string"==typeof n&&(n=u(n)),void w.digest({name:"sha-1"},n).then(function(n){t(a(new Uint8Array(n)))},function(r){t(i(n))})):void setTimeout(t,0,i(n))}function u(n){for(var t=n.length,r=new Uint8Array(t),e=0;e<t;e++)r[e]=n.charCodeAt(e);return r}function a(n){for(var t=n.length,r=[],e=0;e<t;e++){var o=n[e];r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}var c=n("/rusha$0.8.5/rusha"),f=new c,h="undefined"!=typeof window?window:self,d=h.crypto||h.msCrypto||{},w=d.subtle||d.webkitSubtle;try{w.digest({name:"sha-1"},new Uint8Array).catch(function(){w=!1})}catch(n){w=!1}r.exports=s,r.exports.sync=i});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/fingerprint",function(r,n,e,i,o){var t=r("/simple-sha1$2.1.0/browser");e.exports=function(r){return t.sync(r)}});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/isJavaScriptReservedWord",function(r,e,o,i,c){var t=r("/marko$4.0.0-rc.12/compiler/util/javaScriptReservedWords");o.exports=function(r){return t[r]===!0}});
$_mod.def("/marko$4.0.0-rc.12/compiler/CompileContext", function(require, exports, module, __filename, __dirname) { 'use strict';var process=require("process"); 

var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var path = require('/path-browserify$0.0.0/index'/*'path'*/);
var complain = require('/complain$1.0.0/index'/*'complain'*/);
var taglibLookup = require('/marko$4.0.0-rc.12/compiler/taglib-lookup/index'/*'./taglib-lookup'*/);
var charProps = require('/char-props$0.1.5/lib/charProps'/*'char-props'*/);
var deresolve = require('/marko$4.0.0-rc.12/compiler/util/deresolve-browser'/*'./util/deresolve'*/);
var UniqueVars = require('/marko$4.0.0-rc.12/compiler/util/UniqueVars'/*'./util/UniqueVars'*/);
var PosInfo = require('/marko$4.0.0-rc.12/compiler/util/PosInfo'/*'./util/PosInfo'*/);
var CompileError = require('/marko$4.0.0-rc.12/compiler/CompileError'/*'./CompileError'*/);
var path = require('/path-browserify$0.0.0/index'/*'path'*/);
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./ast/Node'*/);
var macros = require('/marko$4.0.0-rc.12/compiler/util/macros'/*'./util/macros'*/);
var extend = require('/raptor-util$3.1.0/extend'/*'raptor-util/extend'*/);
var Walker = require('/marko$4.0.0-rc.12/compiler/Walker'/*'./Walker'*/);
var EventEmitter = require('/events$1.1.1/events'/*'events'*/).EventEmitter;
var utilFingerprint = require('/marko$4.0.0-rc.12/compiler/util/fingerprint'/*'./util/fingerprint'*/);

const FLAG_PRESERVE_WHITESPACE = 'PRESERVE_WHITESPACE';

const deresolveOptions = {
    shouldRemoveExt(ext) {
        return ext === '.js' || ext === '.json' || ext === '.es6';
    }
};

function getTaglibPath(taglibPath) {
    if (typeof window === 'undefined') {
        return path.relative(process.cwd(), taglibPath);
    } else {
        return taglibPath;
    }
}

function removeExt(filename) {
    var ext = path.extname(filename);
    if (ext) {
        return filename.slice(0, 0 - ext.length);
    } else {
        return filename;
    }
}

function requireResolve(builder, path) {
    var requireResolveNode = builder.memberExpression(
        builder.identifier('require'),
        builder.identifier('resolve'));


    return builder.functionCall(requireResolveNode, [ path ]);
}

const helpers = {
    'attr': 'a',
    'attrs': 'as',
    'classAttr': 'ca',
    'classList': 'cl',
    'const': 'const',
    'createElement': 'e',
    'createInlineTemplate': {
        vdom: { module: 'marko/runtime/vdom/helper-createInlineTemplate'},
        html: { module: 'marko/runtime/html/helper-createInlineTemplate'}
    },
    'escapeXml': 'x',
    'escapeXmlAttr': 'xa',
    'escapeScript': 'xs',
    'forEach': 'f',
    'forEachProp': { module: 'marko/runtime/helper-forEachProperty' },
    'forEachPropStatusVar': { module: 'marko/runtime/helper-forEachPropStatusVar' },
    'forEachWithStatusVar': { module: 'marko/runtime/helper-forEachWithStatusVar' },
    'forRange': { module: 'marko/runtime/helper-forRange' },
    'include': 'i',
    'loadNestedTag': { module: 'marko/runtime/helper-loadNestedTag' },
    'loadTag': 't',
    'loadTemplate': { module: 'marko/runtime/helper-loadTemplate' },
    'mergeNestedTagsHelper': { module: 'marko/runtime/helper-mergeNestedTags' },
    'merge': { module: 'marko/runtime/helper-merge' },
    'str': 's',
    'styleAttr': {
        vdom: { module: 'marko/runtime/vdom/helper-styleAttr'},
        html: 'sa'
    },
    'createText': 't'
};

class CompileContext extends EventEmitter {
    constructor(src, filename, builder, options) {
        super();
        ok(typeof src === 'string', '"src" string is required');
        ok(filename, '"filename" is required');

        this.src = src;
        this.filename = filename;
        this.builder = builder;

        this.dirname = path.dirname(filename);
        this.taglibLookup = taglibLookup.buildLookup(this.dirname);
        this.data = {};
        this._dataStacks = {};
        this.meta = null;

        this.options = options || {};

        this.outputType = this.options.output || 'html';

        this._vars = {};
        this._uniqueVars = new UniqueVars();
        this._staticVars = {};
        this._staticCode = null;
        this._uniqueStaticVars = new UniqueVars();
        this._srcCharProps = null;
        this._flags = {};
        this._errors = [];
        this._macros = null;
        this._preserveWhitespace = null;
        this._preserveComments = null;
        this.inline = this.options.inline === true;
        this.useMeta = this.options.meta;
        this._moduleRuntimeTarget = this.outputType === 'vdom' ? 'marko/vdom' : 'marko/html';

        this._helpersIdentifier = null;

        if (this.options.preserveWhitespace) {
            this.setPreserveWhitespace(true);
        }

        this._helpers = {};
        this._imports = {};
        this._fingerprint = undefined;
        this._optimizers = undefined;
    }

    setInline(isInline) {
        this.inline = isInline === true;
    }

    getPosInfo(pos) {
        var srcCharProps = this._srcCharProps || (this._srcCharProps = charProps(this.src));
        let line = srcCharProps.lineAt(pos)+1;
        let column = srcCharProps.columnAt(pos);
        return new PosInfo(this.filename, line, column);
    }

    getNodePos(node) {
        if (node.pos) {
            return this.getPosInfo(node.pos);
        } else {
            return new PosInfo(this.filename);
        }
    }

    setFlag(name) {
        this.pushFlag(name);
    }

    clearFlag(name) {
        delete this._flags[name];
    }

    isFlagSet(name) {
        return this._flags.hasOwnProperty(name);
    }

    pushFlag(name) {
        if (this._flags.hasOwnProperty(name)) {
            this._flags[name]++;
        } else {
            this._flags[name] = 1;
        }
    }

    popFlag(name) {
        if (!this._flags.hasOwnProperty(name)) {
            throw new Error('popFlag() called for "' + name + '" when flag was not set');
        }

        if (--this._flags[name] === 0) {
            delete this._flags[name];
        }
    }

    pushData(key, data) {
        var dataStack = this._dataStacks[key];
        if (!dataStack) {
            dataStack = this._dataStacks[key] = [];
        }

        dataStack.push(data);

        return {
            pop: () => {
                this.popData(key);
            }
        };
    }

    popData(key) {
        var dataStack = this._dataStacks[key];

        if (!dataStack || dataStack.length === 0) {
            throw new Error('No data pushed for "' + key + '"');
        }

        dataStack.pop();

        if (dataStack.length === 0) {
            delete this.data[key];
        }
    }

    getData(name) {
        var dataStack = this._dataStacks[name];
        if (dataStack) {
            return dataStack[dataStack.length - 1];
        }

        return this.data[name];
    }

    deprecate(message, node) {
        var currentNode = node || this._currentNode;
        var location = currentNode && currentNode.pos;

        if (location != null) {
            location = this.getPosInfo(location).toString();
        }

        complain(message, { location });
    }

    addError(errorInfo) {
        if (errorInfo instanceof Node) {
            let node = arguments[0];
            let message = arguments[1];
            let code = arguments[2];
            let pos = arguments[3];
            errorInfo = {
                node,
                message,
                code,
                pos
            };
        } else if (typeof errorInfo === 'string') {
            let message = arguments[0];
            let code = arguments[1];
            let pos = arguments[2];

            errorInfo = {
                message,
                code,
                pos
            };
        }

        if(errorInfo && !errorInfo.node) {
            errorInfo.node = this._currentNode;
        }

        this._errors.push(new CompileError(errorInfo, this));
    }

    hasErrors() {
        return this._errors.length !== 0;
    }

    getErrors() {
        return this._errors;
    }

    getRequirePath(targetFilename) {
        return deresolve(targetFilename, this.dirname, deresolveOptions);
    }

    importModule(varName, path) {
        if (typeof path !== 'string') {
            throw new Error('"path" should be a string');
        }

        var varId = this._imports[path];

        if (!varId) {
            var builder = this.builder;
            var requireFuncCall = this.builder.require(builder.literal(path));
            this._imports[path] = varId = this.addStaticVar(varName, requireFuncCall);
        }

        return varId;
    }

    addVar(name, init) {
        var actualVarName = this._uniqueVars.addVar(name, init);
        this._vars[actualVarName] = init;
        return this.builder.identifier(actualVarName);
    }

    getVars() {
        return this._vars;
    }

    addStaticVar(name, init) {
        var actualVarName = this._uniqueStaticVars.addVar(name, init);
        this._staticVars[actualVarName] = init;
        return this.builder.identifier(actualVarName);
    }

    getStaticVars() {
        return this._staticVars;
    }

    addStaticCode(code) {
        if (!code) {
            return;
        }

        if (typeof code === 'string') {
            // Wrap the String code in a Code AST node so that
            // the code will be indented properly
            code = this.builder.code(code);
        }

        if (this._staticCode == null) {
            this._staticCode = [code];
        } else {
            this._staticCode.push(code);
        }
    }

    getStaticCode() {
        return this._staticCode;
    }

    getTagDef(tagName) {
        var taglibLookup = this.taglibLookup;

        if (typeof tagName === 'string') {
            return taglibLookup.getTag(tagName);
        } else {
            let elNode = tagName;
            if (elNode.tagDef) {
                return elNode.tagDef;
            }

            return taglibLookup.getTag(elNode.tagName);
        }
    }

    createNodeForEl(tagName, attributes, argument, openTagOnly, selfClosed) {
        var elDef;
        var builder = this.builder;

        if (typeof tagName === 'object') {
            elDef = tagName;
            tagName = elDef.tagName;
            attributes = elDef.attributes;
        } else {
            elDef = { tagName, argument, attributes, openTagOnly, selfClosed };
        }

        if (elDef.tagName === '') {
            elDef.tagName = tagName = 'assign';
        }

        if (!attributes) {
            attributes = elDef.attributes = [];
        } else if (typeof attributes === 'object') {
            if (!Array.isArray(attributes)) {
                attributes = elDef.attributes = Object.keys(attributes).map((attrName) => {
                    var attrDef = {
                        name: attrName
                    };

                    var val = attributes[attrName];
                    if (val == null) {

                    } if (val instanceof Node) {
                        attrDef.value = val;
                    } else {
                        extend(attrDef, val);
                    }

                    return attrDef;
                });
            }
        } else {
            throw new Error('Invalid attributes');
        }

        var node;
        var elNode = builder.htmlElement(elDef);
        elNode.pos = elDef.pos;

        this._currentNode = elNode;

        var tagDef;

        var taglibLookup = this.taglibLookup;

        if (typeof tagName === 'string' && tagName.startsWith('@')) {
            // NOTE: The tag definition can't be determined now since it will be
            //       determined by the parent custom tag.
            node = builder.customTag(elNode);
            node.body = node.makeContainer(node.body.items);
        } else {
            tagDef = typeof tagName === 'string' ? taglibLookup.getTag(tagName) : null;
            if (tagDef) {
                var nodeFactoryFunc = tagDef.getNodeFactory();
                if (nodeFactoryFunc) {
                    var newNode = nodeFactoryFunc(elNode, this);
                    if (!(newNode instanceof Node)) {
                        throw new Error('Invalid node returned from node factory for tag "' + tagName + '".');
                    }

                    if (newNode != node) {
                        // Make sure the body container is associated with the correct node
                        if (newNode.body && newNode.body !== node) {
                            newNode.body = newNode.makeContainer(newNode.body.items);
                        }
                        node = newNode;
                    }
                }
            }

            if (!node) {
                node = elNode;
            }
        }

        if (tagDef && tagDef.noOutput) {
            node.noOutput = true;
        }

        node.pos = elDef.pos;

        var foundAttrs = {};

        // Validate the attributes
        attributes.forEach((attr) => {
            let attrName = attr.name;
            if (!attrName) {
                // Attribute will be name for placeholder attributes. For example: <div ${data.myAttrs}>
                return;
            }
            let attrDef = taglibLookup.getAttribute(tagName, attrName);
            if (!attrDef) {
                if (tagDef) {
                    if (node.removeAttribute) {
                        node.removeAttribute(attrName);
                    }

                    // var isAttrForTaglib = compiler.taglibs.isTaglib(attrUri);
                    //Tag doesn't allow dynamic attributes
                    this.addError({
                        node: node,
                        message: 'The tag "' + tagName + '" in taglib "' + getTaglibPath(tagDef.taglibId) + '" does not support attribute "' + attrName + '"'
                    });

                }
                return;
            }

            if (attrDef.setFlag) {
                node.setFlag(attrDef.setFlag);
            }

            attr.def = attrDef;

            foundAttrs[attrName] = true;
        });

        if (tagDef) {
            // Add default values for any attributes. If an attribute has a declared
            // default value and the attribute was not found on the element
            // then add the attribute with the specified default value
            tagDef.forEachAttribute((attrDef) => {
                var attrName = attrDef.name;

                if (attrDef.hasOwnProperty('defaultValue') && !foundAttrs.hasOwnProperty(attrName)) {
                    attributes.push({
                        name: attrName,
                        value: builder.literal(attrDef.defaultValue)
                    });
                } else if (attrDef.required === true) {
                    // TODO Only throw an error if there is no data argument provided (just HTML attributes)
                    if (!foundAttrs.hasOwnProperty(attrName)) {
                        this.addError({
                            node: node,
                            message: 'The "' + attrName + '" attribute is required for tag "' + tagName + '" in taglib "' + getTaglibPath(tagDef.taglibId) + '".'
                        });
                    }
                }
            });

            node.tagDef = tagDef;
        }

        return node;
    }

    isMacro(name) {
        if (!this._macros) {
            return false;
        }

        return this._macros.isMacro(name);
    }

    getRegisteredMacro(name) {
        if (!this._macros) {
            return undefined;
        }

        return this._macros.getRegisteredMacro(name);
    }

    registerMacro(name, params) {
        if (!this._macros) {
            this._macros = macros.createMacrosContext();
        }

        return this._macros.registerMacro(name, params);
    }

    importTemplate(relativePath, varName) {
        ok(typeof relativePath === 'string', '"path" should be a string');
        var builder = this.builder;
		varName = varName || removeExt(path.basename(relativePath)) + '_template';

        var templateVar;

        if (this.options.browser || this.options.requireTemplates) {
            // When compiling a Marko template for the browser we just use `require('./template.marko')`
            templateVar = this.addStaticVar(varName, builder.require(builder.literal(relativePath)));
        } else {
            // When compiling a Marko template for the server we just use `loadTemplate(require.resolve('./template.marko'))`
            let loadTemplateArg = requireResolve(builder, builder.literal(relativePath));
            let loadFunctionCall = builder.functionCall(this.helper('loadTemplate'), [ loadTemplateArg ]);
            templateVar = this.addStaticVar(varName, loadFunctionCall);
        }

        this.pushMeta('tags', builder.literal(relativePath), true);

        return templateVar;
    }

    addDependency(path, type, options) {
        var dependency;
        if(typeof path === 'object') {
            dependency = path;
        } else {
            dependency = (type ? type+':' : '') + path;
        }
        this.pushMeta('deps', dependency, true);
    }

    pushMeta(key, value, unique) {
        var property;

        if(!this.meta) {
            this.meta = {};
        }

        property = this.meta[key];

        if(!property) {
            this.meta[key] = [value];
        } else if(!unique || !property.some(e => JSON.stringify(e) === JSON.stringify(value))) {
            property.push(value);
        }
    }

    setPreserveWhitespace(preserveWhitespace) {
        this._preserveWhitespace = preserveWhitespace;
    }

    beginPreserveWhitespace() {
        this.pushFlag(FLAG_PRESERVE_WHITESPACE);
    }

    endPreserveWhitespace() {
        this.popFlag(FLAG_PRESERVE_WHITESPACE);
    }

    isPreserveWhitespace() {
        if (this.isFlagSet(FLAG_PRESERVE_WHITESPACE) || this._preserveWhitespace === true) {
            return true;
        }
    }

    setPreserveComments(preserveComments) {
        this._preserveComments = preserveComments;
    }

    isPreserveComments() {
        return this._preserveComments === true;
    }

    createWalker(options) {
        return new Walker(options);
    }

    /**
     * Statically resolves a path if it is a literal string. Otherwise, it returns the input expression.
     */
    resolvePath(pathExpression) {
        ok(pathExpression, '"pathExpression" is required');

        if (pathExpression.type === 'Literal') {
            let path = pathExpression.value;
            if (typeof path === 'string') {
                return this.addStaticVar(path, this.builder.requireResolve(pathExpression));
            }
        }
        return pathExpression;
    }

    resolveTemplate(pathExpression) {
        ok(pathExpression, '"pathExpression" is required');

        if (pathExpression.type === 'Literal') {
            let path = pathExpression.value;
            if (typeof path === 'string') {
                return this.importTemplate(path);
            }
        }

        return pathExpression;
    }

    getStaticNodes(additionalVars) {
        let builder = this.builder;
        let staticNodes = [];
        let staticVars = this.getStaticVars();

        let staticVarNodes = Object.keys(staticVars).map((varName) => {
            var varInit = staticVars[varName];
            return builder.variableDeclarator(varName, varInit);
        });

        if(additionalVars) {
            staticVarNodes = additionalVars.concat(staticVarNodes);
        }

        if (staticVarNodes.length) {
            staticNodes.push(this.builder.vars(staticVarNodes));
        }

        var staticCodeArray = this.getStaticCode();

        if (staticCodeArray) {
            staticNodes = staticNodes.concat(staticCodeArray);
        }

        return staticNodes;
    }

    get helpersIdentifier() {
        if (!this._helpersIdentifier) {
            var target = this.outputType === 'vdom' ? 'marko/runtime/vdom/helpers' : 'marko/runtime/html/helpers';
            this._helpersIdentifier = this.importModule('marko_helpers', target);
        }
        return this._helpersIdentifier;
    }

    helper(name) {
        var helperIdentifier = this._helpers[name];
        if (!helperIdentifier) {
            var helperInfo = helpers[name];

            if (helperInfo && typeof helperInfo === 'object') {
                if (!helperInfo.module) {
                    helperInfo = helperInfo[this.outputType];
                }
            }

            if (!helperInfo) {
                throw new Error('Invalid helper: ' + name);
            }

            if (typeof helperInfo === 'string') {
                let methodName = helperInfo;
                var methodIdentifier = this.builder.identifier(methodName);

                helperIdentifier = this.addStaticVar(
                    'marko_' + name,
                    this.builder.memberExpression(this.helpersIdentifier, methodIdentifier));
            } else if (helperInfo && helperInfo.module) {
                helperIdentifier = this.addStaticVar(
                    'marko_' + name,
                    this.builder.require(this.builder.literal(helperInfo.module)));
            } else {
                throw new Error('Invalid helper: ' + name);
            }

            this._helpers[name] = helperIdentifier;
        }

        return helperIdentifier;
    }

    getFingerprint(len) {
        var fingerprint = this._fingerprint;
        if (!fingerprint) {
            this._fingerprint = fingerprint = utilFingerprint(this.src);
        }

        if (len == null || len >= this._fingerprint) {
            return fingerprint;
        } else {
            return fingerprint.substring(0, len);
        }
    }

    addOptimizer(optimizer) {
        if (this._optimizers) {
            this._optimizers.push(optimizer);
        } else {
            this._optimizers = [optimizer];
        }
    }

    optimize(rootNode) {
        if (this._optimizers) {
            this._optimizers.forEach((optimizer) => {
                optimizer.optimize(rootNode, this);
            });
        }
    }

    getModuleRuntimeTarget() {
        return this._moduleRuntimeTarget;
    }
}

CompileContext.prototype.util = {
    isValidJavaScriptIdentifier: require('/marko$4.0.0-rc.12/compiler/util/isValidJavaScriptIdentifier'/*'./util/isValidJavaScriptIdentifier'*/),
    isJavaScriptReservedWord: require('/marko$4.0.0-rc.12/compiler/util/isJavaScriptReservedWord'/*'./util/isJavaScriptReservedWord'*/)
};

module.exports = CompileContext;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/config",function(e,o,n,_,O){var t,p=e("process"),r=p.env.NODE_ENV,i="undefined"==typeof window?global:window;t=i.__MARKO_CONFIG?i.__MARKO_CONFIG:i.__MARKO_CONFIG={checkUpToDate:!p.env.MARKO_CLEAN,writeToDisk:!0,assumeUpToDate:null==p.env.MARKO_CLEAN&&!p.env.hasOwnProperty("MARKO_HOT_RELOAD")&&(null!=r&&("development"!==r&&"dev"!==r)),preserveWhitespace:!1,output:"html"},n.exports=t});
$_mod.def("/marko$4.0.0-rc.12/compiler/CodeWriter", function(require, exports, module, __filename, __dirname) { 'use strict';

const isArray = Array.isArray;
const Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./ast/Node'*/);
const Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'./ast/Literal'*/);
const Identifier = require('/marko$4.0.0-rc.12/compiler/ast/Identifier'/*'./ast/Identifier'*/);
const ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
const Container = require('/marko$4.0.0-rc.12/compiler/ast/Container'/*'./ast/Container'*/);
const isValidJavaScriptVarName = require('/marko$4.0.0-rc.12/compiler/util/isValidJavaScriptVarName'/*'./util/isValidJavaScriptVarName'*/);

class CodeWriter {
    constructor(options, builder) {
        ok(builder, '"builder" is required');
        options = options || {};
        this.builder = builder;
        this.root = null;
        this._indentStr = options.indent != null ? options.indent : '  ';
        this._indentSize = this._indentStr.length;

        this._code = '';
        this.currentIndent = '';
    }

    getCode() {
        return this._code;
    }

    writeBlock(body) {
        if (!body) {
            this.write('{}');
            return;
        }

        if (typeof body === 'function') {
            body = body();
        }

        if (!body ||
            (Array.isArray(body) && body.length === 0) ||
            (body instanceof Container && body.length === 0)) {
            this.write('{}');
            return;
        }

        this.write('{\n')
            .incIndent();

        this.writeStatements(body);

        this.decIndent()
            .writeLineIndent()
            .write('}');
    }

    writeStatements(nodes) {
        if (!nodes) {
            return;
        }

        ok(nodes, '"nodes" expected');
        let firstStatement = true;

        var writeNode = (node) => {
            if (Array.isArray(node) || (node instanceof Container)) {
                node.forEach(writeNode);
                return;
            } else {
                if (firstStatement) {
                    firstStatement = false;
                } else {
                    this._write('\n');
                }

                this.writeLineIndent();

                if (typeof node === 'string') {
                    this._write(node);
                } else {
                    node.statement = true;
                    this.write(node);
                }

                if (this._code.endsWith('\n')) {
                    // Do nothing
                } else if (this._code.endsWith(';')) {
                    this._code += '\n';
                }  else if (this._code.endsWith('\n' + this.currentIndent)) {
                    // Do nothing
                } else {
                    this._code += ';\n';
                }
            }
        };

        if (nodes instanceof Node) {
            writeNode(nodes);
        } else {
            nodes.forEach(writeNode);
        }
    }

    write(code) {
        if (code == null || code === '') {
            return;
        }

        if (code instanceof Node) {
            let node = code;
            if (!node.writeCode) {
                throw new Error('Node does not have a `writeCode` method: ' + JSON.stringify(node, null, 4));
            }
            node.writeCode(this);
        } else if (isArray(code) || code instanceof Container) {
            code.forEach(this.write, this);
            return;
        } else if (typeof code === 'string') {
            this._code += code;
        }  else if (typeof code === 'boolean' || typeof code === 'number') {
            this._code += code.toString();
        } else {
            throw new Error('Illegal argument: ' + JSON.stringify(code));
        }

        return this;
    }

    _write(code) {
        this._code += code;
        return this;
    }

    incIndent(count) {
        if (count != null) {
            for (let i=0; i<count; i++) {
                this.currentIndent += ' ';
            }
        } else {
            this.currentIndent += this._indentStr;
        }

        return this;
    }

    decIndent(count) {
        if (count == null) {
            count = this._indentSize;
        }

        this.currentIndent = this.currentIndent.substring(
            0,
            this.currentIndent.length - count);

        return this;
    }

    writeLineIndent() {
        this._code += this.currentIndent;
        return this;
    }

    writeIndent() {
        this._code += this._indentStr;
        return this;
    }

    isLiteralNode(node) {
        return node instanceof Literal;
    }

    isIdentifierNode(node) {
        return node instanceof Identifier;
    }

    writeLiteral(value) {
        if (value === null) {
            this.write('null');
        } else if (value === undefined) {
            this.write('undefined');
        } else if (typeof value === 'string') {
            this.write(JSON.stringify(value));
        } else if (value === true) {
            this.write('true');
        } else if (value === false) {
            this.write('false');
        }  else if (isArray(value)) {
            if (value.length === 0) {
                this.write('[]');
                return;
            }

            this.write('[\n');
            this.incIndent();

            for (let i=0; i<value.length; i++) {
                let v = value[i];

                this.writeLineIndent();

                if (v instanceof Node) {
                    this.write(v);
                } else {
                    this.writeLiteral(v);
                }

                if (i < value.length - 1) {
                    this.write(',\n');
                } else {
                    this.write('\n');
                }
            }

            this.decIndent();
            this.writeLineIndent();
            this.write(']');
        } else if (typeof value === 'number') {
            this.write(value.toString());
        } else if (value instanceof RegExp) {
            this.write(value.toString());
        } else if (typeof value === 'object') {
            let keys = Object.keys(value);
            if (keys.length === 0) {
                this.write('{}');
                return;
            }

            this.incIndent();
            this.write('{\n');
            this.incIndent();

            for (let i=0; i<keys.length; i++) {
                let k = keys[i];
                let v = value[k];

                this.writeLineIndent();

                if (isValidJavaScriptVarName(k)) {
                    this.write(k + ': ');
                } else {
                    this.write(JSON.stringify(k) + ': ');
                }

                if (v instanceof Node) {
                    this.write(v);
                } else {
                    this.writeLiteral(v);
                }

                if (i < keys.length - 1) {
                    this.write(',\n');
                } else {
                    this.write('\n');
                }
            }

            this.decIndent();
            this.writeLineIndent();
            this.write('}');
            this.decIndent();
        }
    }
}

module.exports = CodeWriter;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/InlineCompiler", function(require, exports, module, __filename, __dirname) { 'use strict';

let CodeWriter = require('/marko$4.0.0-rc.12/compiler/CodeWriter'/*'./CodeWriter'*/);

function fixIndentation(lines) {
    let length = lines.length;
    let startLine = 0;
    let endLine = length;

    for (; startLine<length; startLine++) {
        let line = lines[startLine];
        if (line.trim() !== '') {
            break;
        }
    }

    for (; endLine>startLine; endLine--) {
        let line = lines[endLine-1];
        if (line.trim() !== '') {
            break;
        }
    }

    if (endLine === startLine) {
        return '';
    }

    if (startLine !== 0 || endLine !== length) {
        lines = lines.slice(startLine, endLine);
    }

    let firstLine = lines[0];
    let indentToRemove = /^\s*/.exec(firstLine)[0];

    if (indentToRemove) {
        for (let i=0; i<lines.length; i++) {
            let line = lines[i];
            if (line.startsWith(indentToRemove)) {
                lines[i] = line.substring(indentToRemove.length);
            }
        }
    }

    return lines.join('\n');
}

function normalizeTemplateSrc(src) {
    let lines = src.split(/\r\n|\n\r|\n/);
    if (lines.length) {
        if (lines[0].trim() === '') {
            return fixIndentation(lines);
        }
    }

    return src.trim();
}
class InlineCompiler {
    constructor(context, compiler) {
        this.context = context;
        this.compiler = compiler;
        this.builder = context.builder;

        context.setInline(true);
    }

    compile(src) {
        src = normalizeTemplateSrc(src);
        // console.log('TEMPLATE SRC:>\n' + src + '\n<');
        return this.compiler.compile(src, this.context);
    }

    get staticCode() {
        let staticNodes = this.context.getStaticNodes();

        if (!staticNodes || staticNodes.length === 0) {
            return null;
        }

        let codeWriter = new CodeWriter(this.context.options, this.builder);
        codeWriter.write(staticNodes);
        return codeWriter.getCode();
    }
}

module.exports = InlineCompiler;
});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/marko",{"<assign>":{"code-generator":"./assign-tag","open-tag-only":!0,autocomplete:[{snippet:"assign ${1:varName}=${2:value}",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#variables"}]},"<class>":{"code-generator":"./class-tag"},"<else>":{"node-factory":"./else-tag",attributes:{},autocomplete:[{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#ifelse-ifelse"}]},"<else-if>":{"node-factory":"./else-if-tag",attributes:{},autocomplete:[{snippet:"else-if(${1:condition})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#ifelse-ifelse"},{snippet:"else-if",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#ifelse-ifelse"}]},"<for>":{"code-generator":"./for-tag",attributes:{},autocomplete:[{snippet:"for(${1:var} in ${2:array})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#for"},{snippet:"for(${1:var} in ${2:array}) | status-var=${3:loop}",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#loop-status-variable"},{snippet:"for(${1:name},${2:value} in ${3:object})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#property-looping"},{snippet:"for(${1:init}; ${2:test}; ${3:update})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#native-javascript-for-loop"},{snippet:"for(${1:var} from ${2:start} to ${3:end})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#range-looping"},{snippet:"for",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#for"}]},"<function>":{"code-generator":"./function-tag"},"<if>":{"node-factory":"./if-tag",attributes:{},autocomplete:[{snippet:"if(${1:condition})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#ifelse-ifelse"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#ifelse-ifelse"}]},"<import>":{"code-generator":"./import-tag","parse-options":{relaxRequireCommas:!0}},"<include>":{renderer:"./include-tag",transformer:"./include-tag-transformer",autocomplete:[{displayText:"include(<template>)",snippet:'include(${1:"./target.marko"})',descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#includes"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#includes"}]},"<include-html>":{"code-generator":"./include-html-tag",autocomplete:[{displayText:"include-html(<path>)",snippet:'include-html(${1:"./foo.html"})',descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#includes"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#includes"}]},"<include-text>":{"code-generator":"./include-text-tag",autocomplete:[{displayText:"include-text(<path>)",snippet:'include-text(${1:"./foo.txt"})',descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#includes"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#includes"}]},"<invoke>":{"code-generator":"./invoke-tag",autocomplete:[{displayText:"invoke <function_call>",snippet:"invoke ${1:foo()}",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#invoke"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#invoke"}]},"<macro>":{"node-factory":"./macro-tag",autocomplete:[{displayText:"macro <name>(<parmas>)",snippet:"macro ${1:name}(${2:param1, param2})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#macros"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#macros"}]},"<macro-body>":{"code-generator":"./macro-body-tag",autocomplete:[{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#macros",openTagOnly:!0}]},"<marko-preserve-whitespace>":{"code-generator":"./marko-preserve-whitespace-tag","preserve-whitespace":!0,autocomplete:[{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#whitespace"}]},"<pre>":{"preserve-whitespace":!0},"<script>":{"preserve-whitespace":!0,"@marko-init":"boolean","@*":{ignore:!0},autocomplete:[{snippet:"script template-helpers",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#helpers"}]},"<static>":{"code-generator":"./static-tag"},"<style>":{"preserve-whitespace":!0},"<textarea>":{"preserve-whitespace":!0},"<unless>":{"node-factory":"./unless-tag",autocomplete:[{snippet:"unless(${1:condition})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#unlesselse-ifelse"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#unlesselse-ifelse"}]},"<var>":{"node-factory":"./var-tag",autocomplete:[{snippet:"var ${1:varName}=${2:value}",openTagOnly:!0,descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#variables"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#variables"}]},"<while>":{"code-generator":"./while-tag",autocomplete:[{snippet:"while(${1:condition})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#looping"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#looping"}]},"<*>":{"@body-only-if":{type:"statement",autocomplete:[{snippet:"body-only-if(${1:condition})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#body-only-if"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#body-only-if"}]},"@if":{type:"statement",autocomplete:[{snippet:"if(${1:condition})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#ifelse-ifelse"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#ifelse-ifelse"}]},"@else-if":{type:"statement",autocomplete:[{snippet:"else-if(${1:condition})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#ifelse-ifelse"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#ifelse-ifelse"}]},"@else":"statement","@for":{type:"statement",autocomplete:[{snippet:"for(${1:var} in ${2:array})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#for"},{snippet:"for(${1:var} in ${2:array}) | status-var=${3:loop}",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#loop-status-variable"},{snippet:"for(${1:name},${2:value} in ${3:object})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#property-looping"},{snippet:"for(${1:init}; ${2:test}; ${3:update})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#native-javascript-for-loop"},{snippet:"for(${1:var} from ${2:start} to ${3:end})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#range-looping"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#for"}]},"@include":{autocomplete:[{displayText:"include(<template>)",snippet:'include(${1:"./target.marko"})',descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#includes"},{displayText:"include(data.renderBody)",snippet:"include(data.renderBody)",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#includes"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#includes"}]},"@while":{type:"statement",autocomplete:[{snippet:"while(${1:condition})",descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#looping"},{descriptionMoreURL:"http://markojs.com/docs/marko/language-guide/#looping"}]},transformer:{path:"./core-transformer",priority:0}}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/layout/marko",{"<layout-use>":{"@__template":"template","@__data":"template","@*":{"remove-dashes":!0,type:"string"},renderer:"./use-tag","body-function":"getContent(__layoutHelper)",transformer:"./use-tag-transformer.js",autocomplete:[{snippet:'layout-use("${1:./path/to/template.marko}")',descriptionMoreURL:"http://markojs.com/docs/marko/layout-taglib/#<code>&ltlayout-use><code>"},{descriptionMoreURL:"http://markojs.com/docs/marko/layout-taglib/#<code>&ltlayout-use><code>"}]},"<layout-put>":{"@into":"string","@value":"string",renderer:"./put-tag","import-var":{layout:"__layoutHelper"},autocomplete:[{snippet:'layout-put into="${1:name}"',descriptionMoreURL:"http://markojs.com/docs/marko/layout-taglib/#<code>&ltlayout-put><code>"},{descriptionMoreURL:"http://markojs.com/docs/marko/layout-taglib/#<code>&ltlayout-put><code>"}]},"<layout-placeholder>":{"@name":"string",renderer:"./placeholder-tag","import-var":{content:"data.layoutContent"},autocomplete:[{snippet:'layout-placeholder name="${1:name}"',descriptionMoreURL:"http://markojs.com/docs/marko/layout-taglib/#<code>&ltlayout-placeholder><code>"},{descriptionMoreURL:"http://markojs.com/docs/marko/layout-taglib/#<code>&ltlayout-placeholder><code>"}]}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/html/marko",{"taglib-id":"marko-html","<html-comment>":{renderer:"./html-comment-tag.js"}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/async/marko",{"<await>":{renderer:"./await-tag","@_var":"identifier","@_dataProvider":"expression","@arg":{type:"expression","preserve-name":!0},"@arg-*":{pattern:!0,type:"string","preserve-name":!0},"@method":"string","@timeout":"integer","@timeout-message":"string","@error-message":"string","@placeholder":"string","@renderTimeout":"function","@renderError":"function","@renderPlaceholder":"function","@name":{type:"string",description:"Name of await",autocomplete:[{snippet:'name="${1:name}"'},{}]},"@_name":"string","@client-reorder":{type:"boolean",description:"Use JavaScript on client to move async fragment into the proper place."},"@scope":{type:"expression",description:"The value of 'this' when invoking the data provider function (N/A with promises)"},"@show-after":{type:"string"},vars:[{"name-from-attribute":"_var"}],transformer:"./await-tag-transformer",autocomplete:[{snippet:"await(${1:varName} from ${2:data.myDataProvider})",descriptionMoreURL:"http://markojs.com/docs/marko/async-taglib/#<code>&ltawait><code>"},{descriptionMoreURL:"http://markojs.com/docs/marko/async-taglib/#<code>&ltawait><code>"}]},"<await-reorderer>":{renderer:"./await-reorderer-tag",autocomplete:[{snippet:"await-reorderer",descriptionMoreURL:"http://markojs.com/docs/marko/async-taglib/#<code>&ltawait-reorderer><code>"},{descriptionMoreURL:"http://markojs.com/docs/marko/async-taglib/#<code>&ltawait-reorderer><code>"}]},"<await-placeholder>":{transformer:"./await-nested-tag-transformer",autocomplete:[{descriptionMoreURL:"http://markojs.com/docs/marko/async-taglib/#<code>&ltawait-placeholder><code>"}]},"<await-timeout>":{transformer:"./await-nested-tag-transformer",autocomplete:[{descriptionMoreURL:"http://markojs.com/docs/marko/async-taglib/#<code>&ltawait-timeout><code>"}]},"<await-error>":{transformer:"./await-nested-tag-transformer",autocomplete:[{descriptionMoreURL:"http://markojs.com/docs/marko/async-taglib/#<code>&ltawait-error><code>"}]},"<async-fragment>":{transformer:{path:"./async-fragment-to-await-transformer",priority:-1},deprecated:!0},"<async-fragments>":{transformer:{path:"./async-fragment-to-await-transformer",priority:-1},deprecated:!0},"<async-fragment-placeholder>":{transformer:{path:"./async-fragment-to-await-transformer",priority:-1},deprecated:!0},"<async-fragment-timeout>":{transformer:{path:"./async-fragment-to-await-transformer",priority:-1},deprecated:!0},"<async-fragment-error>":{transformer:{path:"./async-fragment-to-await-transformer",priority:-1},deprecated:!0}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/cache/marko",{"<cached-fragment>":{renderer:"./cached-fragment-tag","@cache-key":"string","@cache-name":"string","@cache-manager":"string",transformer:"./cached-fragment-tag-transformer.js"}});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/marko",{"<*>":{"@$w":{"target-property":null,autocomplete:[]},"@w-bind":{type:"string","preserve-name":!0,autocomplete:[],deprecated:!0},"@w-scope":{type:"expression","preserve-name":!0,autocomplete:[],deprecated:!0},"@w-config":{type:"expression","preserve-name":!0,deprecated:!0},"@for-ref":{type:"string","preserve-name":!0},"@ref":{type:"string","preserve-name":!0,autocomplete:[{displayText:'ref="<method>"',snippet:'ref="${1:method}"',descriptionMoreURL:"http://markojs.com/docs/marko-widgets/get-started/#referencing-nested-widgets"},{descriptionMoreURL:"http://markojs.com/docs/marko-widgets/get-started/#referencing-nested-widgets"}]},"@w-for":{type:"string","preserve-name":!0,autocomplete:[],deprecated:!0},"@w-id":{type:"string","preserve-name":!0,autocomplete:[],deprecated:!0},"@on*":{pattern:!0,type:"statement","allow-expressions":!0,"preserve-name":!0,"set-flag":"hasWidgetEvents",autocomplete:[{displayText:'on<event>("<method>")',snippet:'on${1:Click}("handle${2:Button}${1:Click}")',descriptionMoreURL:"http://markojs.com/docs/marko-widgets/get-started/#adding-dom-event-listeners"}]},"@w-on*":{pattern:!0,type:"string","allow-expressions":!0,"preserve-name":!0,"set-flag":"hasWidgetEvents",autocomplete:[],deprecated:!0},"@w-body":{"preserve-name":!0,autocomplete:[],deprecated:!0},"@w-preserve":{type:"flag","preserve-name":!0,autocomplete:[],deprecated:!0},"@w-preserve-body":{type:"flag","preserve-name":!0,autocomplete:[],deprecated:!0},"@w-preserve-if":{"preserve-name":!0,autocomplete:[]},"@w-preserve-body-if":{"preserve-name":!0,autocomplete:[],deprecated:!0},"@no-update":{type:"flag","preserve-name":!0,autocomplete:[{descriptionMoreURL:"http://markojs.com/docs/marko-widgets/#preserving-dom-nodes-during-re-render"}]},"@no-update-body":{type:"flag","preserve-name":!0,autocomplete:[{descriptionMoreURL:"http://markojs.com/docs/marko-widgets/#preserving-dom-nodes-during-re-render"}]},"@no-update-if":{"preserve-name":!0,autocomplete:[{snippet:"no-update-if(${1:condition})",descriptionMoreURL:"http://markojs.com/docs/marko-widgets/#preserving-dom-nodes-during-re-render"}]},"@no-update-body-if":{"preserve-name":!0,autocomplete:[{snippet:"no-update-body-if(${1:condition})",descriptionMoreURL:"http://markojs.com/docs/marko-widgets/#preserving-dom-nodes-during-re-render"}]},"@w-preserve-attrs":{type:"string","preserve-name":!0,autocomplete:[],deprecated:!0},transformer:"./widgets-transformer.js"},"<_widget>":{"code-generator":"./widget-tag.js",autocomplete:[]},"<init-widgets>":{renderer:"./init-widgets-tag.js","@immediate":"boolean"},"<w-preserve>":{renderer:"./preserve-tag.js","@id":"string","@if":"expression","@body-only":"expression",autocomplete:[],deprecated:!0},"<no-update>":{renderer:"./preserve-tag.js","@id":"string","@if":"expression","@body-only":"expression",autocomplete:[]},"<widget-types>":{"code-generator":"./widget-types-tag.js","@*":"string",autocomplete:[],deprecated:!0},"<body>":{transformer:"./body-transformer.js"},transformer:"./widgets-transformer.js"});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/loader-taglib", function(require, exports, module, __filename, __dirname) { 'use strict';

var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var nodePath = require('/path-browserify$0.0.0/index'/*'path'*/);
var handleAttributes = require('/marko$4.0.0-rc.12/compiler/taglib-loader/handleAttributes'/*'./handleAttributes'*/);
var scanTagsDir = require('/marko$4.0.0-rc.12/compiler/taglib-loader/scanTagsDir-browser'/*'./scanTagsDir'*/);
var resolve = require('/marko$4.0.0-rc.12/compiler/util/resolve-browser'/*'../util/resolve'*/); // NOTE: different implementation for browser
var propertyHandlers = require('/property-handlers$1.1.1/lib/index'/*'property-handlers'*/);
var types = require('/marko$4.0.0-rc.12/compiler/taglib-loader/types'/*'./types'*/);
var jsonFileReader = require('/marko$4.0.0-rc.12/compiler/taglib-loader/json-file-reader-browser'/*'./json-file-reader'*/);
var tryRequire = require('/try-require$1.2.1/index'/*'try-require'*/);
var resolveFrom = tryRequire('resolve-from', require);
var DependencyChain = require('/marko$4.0.0-rc.12/compiler/taglib-loader/DependencyChain'/*'./DependencyChain'*/);
var createError = require('/raptor-util$3.1.0/createError'/*'raptor-util/createError'*/);
var tagLoader = require('/marko$4.0.0-rc.12/compiler/taglib-loader/loader-tag'/*'./loader-tag'*/);
var attributeLoader = require('/marko$4.0.0-rc.12/compiler/taglib-loader/loader-attribute'/*'./loader-attribute'*/);

function exists(path) {
    try {
        require.resolve(path);
        return true;
    } catch(e) {
        return false;
    }
}

/**
 * We load a taglib definion using this class. Properties in the taglib
 * definition (which is just a JavaScript object with properties)
 * are mapped to handler methods in an instance of this type.
 *
 *
 * @param {Taglib} taglib The initially empty Taglib instance that we will populate
 * @param {String} path The file system path to the taglib that we are loading
 */
class TaglibLoader {
    constructor(dependencyChain) {
        ok(dependencyChain instanceof DependencyChain, '"dependencyChain" is not valid');

        this.dependencyChain = dependencyChain;

        this.taglib = null;
        this.filePath = null;
        this.dirname = null;
    }


    _load(filePath, taglib) {
        ok(typeof filePath === 'string', '"filePath" should be a string');

        this.filePath = filePath;
        this.dirname = nodePath.dirname(filePath);

        var taglibProps = jsonFileReader.readFileSync(filePath);

        taglib = this.taglib = taglib || new types.Taglib(filePath);

        propertyHandlers(taglibProps, this, this.dependencyChain.toString());

        if (!taglib.id) {
            // Fixes #73
            // See if there is a package.json in the same directory as the taglib file.
            // If so, and if that package.json file has a "name" property then we will
            // use the the name as the "taglib ID". The taglib ID is used to uniquely
            // identity a taglib (ignoring version) and it is used to prevent the same
            // taglib from being loaded multiple times.
            //
            // Using the file path as the taglib ID doesn't work so well since we might find
            // the same taglib multiple times in the Node.js module search path with
            // different paths.
            var dirname = nodePath.dirname(filePath);
            var packageJsonPath = nodePath.join(dirname, 'package.json');


            try {
                var pkg = jsonFileReader.readFileSync(packageJsonPath);
                taglib.id = pkg.name;
            } catch(e) {}

            if (!taglib.id) {
                taglib.id = filePath;
            }
        }

        return taglib;
    }

    _handleTag(tagName, value, dependencyChain) {
        var tagObject;
        var tagFilePath = this.filePath;

        if (typeof value === 'string') {
            tagFilePath = nodePath.resolve(this.dirname, value);

            if (!exists(tagFilePath)) {
                throw new Error('Tag at path "' + tagFilePath + '" does not exist. (' + dependencyChain + ')');
            }

            tagObject = jsonFileReader.readFileSync(tagFilePath);
            dependencyChain = dependencyChain.append(tagFilePath);
        } else {
            tagObject = value;
        }

        var tag = tagLoader.loadTag(tagObject, tagFilePath, dependencyChain);

        if (tag.name === undefined) {
            tag.name = tagName;
        }

        this.taglib.addTag(tag);
    }

    // We register a wildcard handler to handle "@my-attr" and "<my-tag>"
    // properties (shorthand syntax)
    '*'(name, value) {
        var taglib = this.taglib;
        var filePath = this.filePath;

        if (name.startsWith('<')) {
            let tagName = name.slice(1, -1);
            this._handleTag(tagName, value, this.dependencyChain.append(name));
        } else if (name.startsWith('@')) {
            var attrName = name.substring(1);

            var attr = attributeLoader.loadAttribute(
                attrName,
                value,
                this.dependencyChain.append('@' + attrName));

            attr.filePath = filePath;

            taglib.addAttribute(attr);
        } else {
            return false;
        }
    }

    attributes(value) {
        // The value of the "attributes" property will be an object
        // where each property maps to an attribute definition. Since these
        // attributes are on the taglib they will be "global" attribute
        // defintions.
        //
        // The property key will be the attribute name and the property value
        // will be the attribute definition. Example:
        // {
        //     "attributes": {
        //         "foo": "string",
        //         "bar": "expression"
        //     }
        // }
        var taglib = this.taglib;
        var path = this.filePath;

        handleAttributes(value, taglib, path);
    }
    tags(tags) {
        // The value of the "tags" property will be an object
        // where each property maps to an attribute definition. The property
        // key will be the tag name and the property value
        // will be the tag definition. Example:
        // {
        //     "tags": {
        //         "foo": {
        //             "attributes": { ... }
        //         },
        //         "bar": {
        //             "attributes": { ... }
        //         },
        //     }
        // }

        for (var tagName in tags) {
            if (tags.hasOwnProperty(tagName)) {
                this._handleTag(tagName, tags[tagName], this.dependencyChain.append('tags.' + tagName));
            }
        }
    }
    tagsDir(dir) {
        // The "tags-dir" property is used to supporting scanning
        // of a directory to discover custom tags. Scanning a directory
        // is a much simpler way for a developer to create custom tags.
        // Only one tag is allowed per directory and the directory name
        // corresponds to the tag name. We only search for directories
        // one level deep.
        var taglib = this.taglib;
        var path = this.filePath;
        var dirname = this.dirname;

        if (Array.isArray(dir)) {
            for (var i = 0; i < dir.length; i++) {
                scanTagsDir(path, dirname, dir[i], taglib, this.dependencyChain.append(`tags-dir[${i}]`));
            }
        } else {
            scanTagsDir(path, dirname, dir, taglib, this.dependencyChain.append(`tags-dir`));
        }
    }

    taglibImports(imports) {
        if (!resolveFrom) {
            return;
        }
        // The "taglib-imports" property allows another taglib to be imported
        // into this taglib so that the tags defined in the imported taglib
        // will be part of this taglib.
        //
        // NOTE: If a taglib import refers to a package.json file then we read
        //       the package.json file and automatically import *all* of the
        //       taglibs from the installed modules found in the "dependencies"
        //       section
        var taglib = this.taglib;
        var dirname = this.dirname;
        var importPath;

        if (imports && Array.isArray(imports)) {
            for (var i=0; i<imports.length; i++) {
                var curImport = imports[i];
                if (typeof curImport === 'string') {
                    var basename = nodePath.basename(curImport);
                    if (basename === 'package.json') {
                        var packagePath = resolve(curImport, dirname);
                        var packageDir = nodePath.dirname(packagePath);
                        var pkg = jsonFileReader.readFileSync(packagePath);
                        var dependencies = pkg.dependencies;
                        if (dependencies) {
                            var dependencyNames = Object.keys(dependencies);
                            for (var j=0; j<dependencyNames.length; j++) {
                                var dependencyName = dependencyNames[j];

                                importPath = resolveFrom(packageDir, dependencyName + '/marko.json');

                                if (importPath) {
                                    taglib.addImport(importPath);
                                }
                            }
                        }
                    } else {
                        importPath = resolveFrom(dirname, curImport);
                        if (importPath) {
                            taglib.addImport(importPath);
                        } else {
                            throw new Error('Import not fount: ' + curImport + ' (from ' + dirname + ')');
                        }
                    }
                }
            }
        }
    }

    textTransformer(value) {
        // Marko allows a "text-transformer" to be registered. The provided
        // text transformer will be called for any static text found in a template.
        var taglib = this.taglib;
        var dirname = this.dirname;

        var transformer = new types.Transformer();

        if (typeof value === 'string') {
            value = {
                path: value
            };
        }

        propertyHandlers(value, {
            path(value) {
                var path = resolve(value, dirname);
                transformer.path = path;
            }

        }, this.dependencyChain.append('textTransformer').toString());

        ok(transformer.path, '"path" is required for transformer');

        taglib.addTextTransformer(transformer);
    }

    /**
     * Allows an ID to be explicitly assigned to a taglib.
     * The taglib ID is used to prevent the same taglib  (even if different versions)
     * from being loaded multiple times.
     *
     * NOTE: Introduced as part of fix for #73
     *
     * @param  {String} value The taglib ID
     */
    taglibId(value) {
        var taglib = this.taglib;
        taglib.id = value;
    }

    transformer(value) {
        // Marko allows a "text-transformer" to be registered. The provided
        // text transformer will be called for any static text found in a template.
        var taglib = this.taglib;
        var dirname = this.dirname;

        var transformer = new types.Transformer();

        if (typeof value === 'string') {
            value = {
                path: value
            };
        }

        propertyHandlers(value, {
            path(value) {
                var path = resolve(value, dirname);
                transformer.path = path;
            }

        }, this.dependencyChain.append('transformer').toString());

        ok(transformer.path, '"path" is required for transformer');

        taglib.addTransformer(transformer);
    }
}

exports.loadTaglib = function(filePath, taglib, dependencyChain) {
    if (!dependencyChain) {
        dependencyChain = new DependencyChain([filePath]);
    }

    var taglibLoader = new TaglibLoader(dependencyChain);

    try {
        return taglibLoader._load(filePath, taglib);
    } catch(err) {
        throw createError('Unable to load taglib (' + dependencyChain + '): ' + err, err);
    }
};
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/index",function(a,r,o,e,l){function i(a){if(d[a])return d[a];var o=d[a]=new t.Taglib(a);return r.taglibLoader.loadTaglib(a,o),d[a]=o,o}var t=a("/marko$4.0.0-rc.12/compiler/taglib-loader/types"),d={};r.clearCache=function(){d={}},r.load=i,r.taglibLoader=a("/marko$4.0.0-rc.12/compiler/taglib-loader/loader-taglib"),r.tagLoader=a("/marko$4.0.0-rc.12/compiler/taglib-loader/loader-tag"),r.attributeLoader=a("/marko$4.0.0-rc.12/compiler/taglib-loader/loader-attribute")});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/Taglib", function(require, exports, module, __filename, __dirname) { 'use strict';
var forEachEntry = require('/raptor-util$3.1.0/forEachEntry'/*'raptor-util/forEachEntry'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var taglibLoader;

function handleImport(taglib, importedTaglib) {
    var importsLookup = taglib.importsLookup || (taglib.importsLookup = {});
    if (importsLookup.hasOwnProperty(importedTaglib.path)) {
        return;
    }

    importsLookup[importedTaglib.path] = importedTaglib;

    if (!taglib.imports) {
        taglib.imports = [];
    }

    taglib.imports.push(importedTaglib);

    if (importedTaglib.imports) {
        importedTaglib.imports.forEach(function(nestedImportedTaglib) {
            handleImport(taglib, nestedImportedTaglib);
        });
    }
}

class Taglib {
    constructor(filePath) {
        ok(filePath, '"filePath" expected');
        this.filePath = this.path /* deprecated */ = this.id = filePath;
        this.dirname = null;
        this.tags = {};
        this.textTransformers = [];
        this.transformers = [];
        this.attributes = {};
        this.patternAttributes = [];
        this.inputFilesLookup = {};
        this.imports = null;
        this.importsLookup = null;
    }

    addAttribute(attribute) {
        attribute.filePath = this.filePath;

        if (attribute.pattern) {
            this.patternAttributes.push(attribute);
        } else if (attribute.name) {
            this.attributes[attribute.name] = attribute;
        } else {
            throw new Error('Invalid attribute: ' + require('/util$0.10.3/util'/*'util'*/).inspect(attribute));
        }
    }
    getAttribute(name) {
        var attribute = this.attributes[name];
        if (!attribute) {
            for (var i = 0, len = this.patternAttributes.length; i < len; i++) {
                var patternAttribute = this.patternAttributes[i];
                if (patternAttribute.pattern.test(name)) {
                    attribute = patternAttribute;
                }
            }
        }
        return attribute;
    }
    addTag(tag) {
        ok(arguments.length === 1, 'Invalid args');
        if (!tag.name) {
            throw new Error('"tag.name" is required: ' + JSON.stringify(tag));
        }
        this.tags[tag.name] = tag;
        tag.taglibId = this.id || this.path;
    }
    addTextTransformer(transformer) {
        this.textTransformers.push(transformer);
    }
    addTransformer(transformer) {
        this.transformers.push(transformer);
    }
    forEachTag(callback, thisObj) {
        forEachEntry(this.tags, function (key, tag) {
            callback.call(thisObj, tag);
        }, this);
    }

    addImport(path) {
        var importedTaglib = taglibLoader.load(path);
        handleImport(this, importedTaglib);
    }

    toJSON() {
        return {
            path: this.path,
            tags: this.tags,
            textTransformers: this.textTransformers,
            attributes: this.attributes,
            patternAttributes: this.patternAttributes,
            imports: this.imports
        };
    }
}

module.exports = Taglib;

taglibLoader = require('/marko$4.0.0-rc.12/compiler/taglib-loader/index'/*'./'*/);
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/types",function(r,a,e,o,l){a.Taglib=r("/marko$4.0.0-rc.12/compiler/taglib-loader/Taglib"),a.Tag=r("/marko$4.0.0-rc.12/compiler/taglib-loader/Tag"),a.Attribute=r("/marko$4.0.0-rc.12/compiler/taglib-loader/Attribute"),a.Property=r("/marko$4.0.0-rc.12/compiler/taglib-loader/Property"),a.NestedVariable=r("/marko$4.0.0-rc.12/compiler/taglib-loader/NestedVariable"),a.ImportedVariable=r("/marko$4.0.0-rc.12/compiler/taglib-loader/ImportedVariable"),a.Transformer=r("/marko$4.0.0-rc.12/compiler/taglib-loader/Transformer")});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/loader-attribute", function(require, exports, module, __filename, __dirname) { 'use strict';

var assert = require('/assert$1.3.0/assert'/*'assert'*/);
var raptorRegexp = require('/raptor-regexp$1.0.1/lib/raptor-regexp'/*'raptor-regexp'*/);
var propertyHandlers = require('/property-handlers$1.1.1/lib/index'/*'property-handlers'*/);
var types = require('/marko$4.0.0-rc.12/compiler/taglib-loader/types'/*'./types'*/);
var createError = require('/raptor-util$3.1.0/createError'/*'raptor-util/createError'*/);

class AttrLoader {
    constructor(dependencyChain) {
        this.dependencyChain = dependencyChain;
        this.attr = null;
    }

    _load(attrName, attrProps) {
        if (attrProps == null) {
            attrProps = {};
        } else if (typeof attrProps === 'string') {
            attrProps = {
                type: attrProps
            };
        } else {
            assert.ok(typeof attrProps === 'object', 'Invalid "attrProps"');
        }

        var attr = this.attr = new types.Attribute(attrName);
        propertyHandlers(attrProps, this, this.dependencyChain.toString());
        return attr;
    }

    /**
     * The attribute type. One of the following:
     * - string (the default)
     * - expression (a JavaScript expression)
     * - number
     * - integer
     * - int
     * - boolean
     * - float
     * - double
     * - object
     * - array
     *
     */
    type(value) {
        var attr = this.attr;
        attr.type = value;
    }

    /**
     * The name of the target property to use when mapping
     * the attribute to a property on the target object.
     */
    targetProperty(value) {
        var attr = this.attr;
        attr.targetProperty = value;
    }
    /**
     * The "default-value" property allows a default value
     * to be provided when the attribute is not declared
     * on the custom tag.
     */
    defaultValue(value) {
        var attr = this.attr;
        attr.defaultValue = value;
    }
    /**
     * The "pattern" property allows the attribute
     * to be matched based on a simplified regular expression.
     *
     * Example:
     *
     * "pattern": "myprefix-*"
     */
    pattern(value) {
        var attr = this.attr;
        if (value === true) {
            var patternRegExp = raptorRegexp.simple(attr.name);
            attr.pattern = patternRegExp;
        }
    }

    /**
     * If "allow-expressions" is set to true (the default) then
     * the the attribute value will be parsed to find any dynamic
     * parts.
     */
    allowExpressions(value) {
        var attr = this.attr;
        attr.allowExpressions = value;
    }

    /**
     * By default, the Marko compiler maps an attribute
     * to a property by removing all dashes from the attribute
     * name and converting each character after a dash to
     * an uppercase character (e.g. "my-attr" --> "myAttr").
     *
     * Setting "preserve-name" to true will prevent this from
     * happening for the attribute.
     */
    preserveName(value) {
        var attr = this.attr;
        attr.preserveName = value;
    }
    /**
     * Declares an attribute as required. Currently, this is
     * not enforced and is only used for documentation purposes.
     *
     * Example:
     * "required": true
     */
    required(value) {
        var attr = this.attr;
        attr.required = value === true;
    }
    /**
     * This is the opposite of "preserve-name" and will result
     * in dashes being removed from the attribute if set to true.
     */
    removeDashes(value) {
        var attr = this.attr;
        attr.removeDashes = value === true;
    }
    /**
     * The description of the attribute. Only used for documentation.
     */
    description() {

    }

    /**
     * The "set-flag" property allows a "flag" to be added to a Node instance
     * at compile time if the attribute is found on the node. This is helpful
     * if an attribute uses a pattern and a transformer wants to have a simple
     * check to see if the Node has an attribute that matched the pattern.
     *
     * Example:
     *
     * "set-flag": "myCustomFlag"
     *
     * A Node instance can be checked if it has a flag set as shown below:
     *
     * if (node.hasFlag('myCustomFlag')) { ... }
     *
     *
     */
    setFlag(value) {
        var attr = this.attr;
        attr.setFlag = value;
    }
    /**
     * An attribute can be marked for ignore. Ignored attributes
     * will be ignored during compilation.
     */
    ignore(value) {
        var attr = this.attr;
        if (value === true) {
            attr.ignore = true;
        }
    }

    autocomplete(value) {
        this.attr.autocomplete = value;
    }

    enum(value) {
        this.attr.enum = value;
    }

    deprecated(value) {
        this.attr.deprecated = value;
    }
}

exports.isSupportedProperty = function(name) {
    return AttrLoader.prototype.hasOwnProperty(name);
};

exports.loadAttribute = function loadAttribute(attrName, attrProps, dependencyChain) {
    var attrLoader = new AttrLoader(dependencyChain);

    try {
        return attrLoader._load(attrName, attrProps);
    } catch(err) {
        throw createError('Unable to load attribute "' + attrName + '" (' + dependencyChain + '): ' + err, err);
    }
};
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/handleAttributes", function(require, exports, module, __filename, __dirname) { var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var forEachEntry = require('/raptor-util$3.1.0/forEachEntry'/*'raptor-util/forEachEntry'*/);
var attributeLoader = require('/marko$4.0.0-rc.12/compiler/taglib-loader/loader-attribute'/*'./loader-attribute'*/);

module.exports = function handleAttributes(value, parent, dependencyChain) {
    ok(parent);
    ok(dependencyChain);

    forEachEntry(value, (attrName, attrProps) => {
        var attr = attributeLoader.loadAttribute(
            attrName,
            attrProps,
            dependencyChain.append('@' + attrName));

        parent.addAttribute(attr);
    });
};
});
$_mod.def("/marko$4.0.0-rc.12/compiler/taglib-loader/loader-tag", function(require, exports, module, __filename, __dirname) { 'use strict';

var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var propertyHandlers = require('/property-handlers$1.1.1/lib/index'/*'property-handlers'*/);
var isObjectEmpty = require('/raptor-util$3.1.0/isObjectEmpty'/*'raptor-util/isObjectEmpty'*/);
var nodePath = require('/path-browserify$0.0.0/index'/*'path'*/);
var resolve = require('/marko$4.0.0-rc.12/compiler/util/resolve-browser'/*'../util/resolve'*/); // NOTE: different implementation for browser
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var bodyFunctionRegExp = /^([A-Za-z_$][A-Za-z0-9_]*)(?:\(([^)]*)\))?$/;
var safeVarName = /^[A-Za-z_$][A-Za-z0-9_]*$/;
var handleAttributes = require('/marko$4.0.0-rc.12/compiler/taglib-loader/handleAttributes'/*'./handleAttributes'*/);
var propertyHandlers = require('/property-handlers$1.1.1/lib/index'/*'property-handlers'*/);
var forEachEntry = require('/raptor-util$3.1.0/forEachEntry'/*'raptor-util/forEachEntry'*/);
var markoCompiler = require('/marko$4.0.0-rc.12/compiler/index'/*'../'*/);
var createError = require('/raptor-util$3.1.0/createError'/*'raptor-util/createError'*/);
var types = require('/marko$4.0.0-rc.12/compiler/taglib-loader/types'/*'./types'*/);
var attributeLoader = require('/marko$4.0.0-rc.12/compiler/taglib-loader/loader-attribute'/*'./loader-attribute'*/);
var DependencyChain = require('/marko$4.0.0-rc.12/compiler/taglib-loader/DependencyChain'/*'./DependencyChain'*/);

function exists(path) {
    try {
        require.resolve(path);
        return true;
    } catch(e) {
        return false;
    }
}

function removeDashes(str) {
    return str.replace(/-([a-z])/g, function (match, lower) {
        return lower.toUpperCase();
    });
}

function hasAttributes(tagProps) {
    if (tagProps.attributes != null) {
        return true;
    }

    for (var name in tagProps) {
        if (tagProps.hasOwnProperty(name) && name.startsWith('@')) {
            return true;
        }
    }

    return false;
}


/**
 * We load tag definition using this class. Properties in the taglib
 * definition (which is just a JavaScript object with properties)
 * are mapped to handler methods in an instance of this type.
 *
 * @param {Tag} tag The initially empty Tag instance that we populate
 * @param {String} dirname The full file system path associated with the tag being loaded
 * @param {String} path An informational path associated with this tag (used for error reporting)
 */
class TagLoader {
    constructor(dependencyChain) {
        this.dependencyChain = dependencyChain;

        this.filePath = null;
        this.tag = null;
        this.dirname = null;
    }

    _load(tagProps, filePath) {
        this.tag = new types.Tag();
        this.filePath = filePath;
        this.dirname = nodePath.dirname(filePath);

        var tag = this.tag;
        tag.filePath = filePath;
        tag.dir = this.dirname;

        if (!hasAttributes(tagProps)) {
            // allow any attributes if no attributes are declared
            tagProps.attributes = {
                '*': {
                    type: 'string',
                    targetProperty: null,
                    preserveName: false
                }
            };
        }



        propertyHandlers(tagProps, this, this.dependencyChain.toString());
        return tag;
    }

    _handleVar(value, dependencyChain) {
        var tag = this.tag;

        var nestedVariable;

        if (typeof value === 'string') {
            nestedVariable = {
                name: value
            };
        } else {
            nestedVariable = {};

            propertyHandlers(value, {

                name: function(value) {
                    nestedVariable.name = value;
                },

                nameFromAttribute: function(value) {
                    nestedVariable.nameFromAttribute = value;
                }

            }, dependencyChain.toString());

            if (!nestedVariable.name && !nestedVariable.nameFromAttribute) {
                throw new Error('The "name" or "name-from-attribute" attribute is required for a nested variable (' + dependencyChain + ')');
            }
        }

        tag.addNestedVariable(nestedVariable);
    }

    /**
     * This is handler is for any properties that didn't match
     * one of the default property handlers. This is used to
     * match properties in the form of "@attr_name" or
     * "<nested_tag_name>"
     */
    '*'(name, value) {
        var tag = this.tag;
        var dependencyChain = this.dependencyChain;
        var parts = name.split(/\s+|\s+[,]\s+/);

        var i;
        var part;

        var hasNestedTag = false;
        var hasAttr = false;
        var nestedTagTargetProperty = null;

        // We do one pass to figure out if there is an
        // attribute or nested tag or both
        for (i=0; i<parts.length; i++) {
            part = parts[i];
            if (part.startsWith('@')) {
                hasAttr = true;

                if (i === 0) {
                    // Use the first attribute value as the name of the target property
                    nestedTagTargetProperty = part.substring(1);
                }
            } else if (part.startsWith('<')) {
                hasNestedTag = true;
            } else {
                // Unmatched property that is not an attribute or a
                // nested tag
                return false;
            }
        }

        var attrProps = {};
        var tagProps = {};
        var k;

        if (value != null && typeof value === 'object') {
            for (k in value) {
                if (value.hasOwnProperty(k)) {
                    if (k.startsWith('@') || k.startsWith('<')) {
                        // Move over all of the attributes and nested tags
                        // to the tag definition.
                        tagProps[k] = value[k];
                        delete value[k];
                    } else {
                        // The property is not a shorthand attribute or shorthand
                        // tag so move it over to either the tag definition
                        // or the attribute definition or both the tag definition
                        // and attribute definition.
                        var propNameDashes = removeDashes(k);

                        if (exports.isSupportedProperty(propNameDashes) &&
                            attributeLoader.isSupportedProperty(propNameDashes)) {
                            // Move over all of the properties that are associated with a tag
                            // and attribute
                            tagProps[k] = value[k];
                            attrProps[k] = value[k];
                            delete value[k];
                        } else if (exports.isSupportedProperty(propNameDashes)) {
                            // Move over all of the properties that are associated with a tag
                            tagProps[k] = value[k];
                            delete value[k];
                        } else if (attributeLoader.isSupportedProperty(propNameDashes)) {
                            // Move over all of the properties that are associated with an attr
                            attrProps[k] = value[k];
                            delete value[k];
                        }
                    }
                }
            }

            // If there are any left over properties then something is wrong
            // with the user's taglib.
            if (!isObjectEmpty(value)) {
                throw new Error('Unsupported properties of [' +
                    Object.keys(value).join(', ') +
                    ']');
            }

            var type = attrProps.type;
            if (!type && hasAttr && hasNestedTag) {
                // If we have an attribute and a nested tag then default
                // the attribute type to "expression"
                attrProps.type = 'expression';
            }
        } else if (typeof value === 'string') {
            if (hasNestedTag && hasAttr) {
                tagProps = attrProps = {
                    type: value
                };
            } else if (hasNestedTag) {
                tagProps = {
                    type: value
                };
            } else {
                attrProps = {
                    type: value
                };
            }
        }

        // Now that we have separated out attribute properties and tag properties
        // we need to create the actual attributes and nested tags
        for (i=0; i<parts.length; i++) {
            part = parts[i];
            if (part.startsWith('@')) {
                // This is a shorthand attribute
                var attrName = part.substring(1);

                var attr = attributeLoader.loadAttribute(
                    attrName,
                    attrProps,
                    dependencyChain.append(part));

                tag.addAttribute(attr);
            } else if (part.startsWith('<')) {

                // This is a shorthand nested tag
                var nestedTag = loadTag(
                    tagProps,
                    this.filePath,
                    dependencyChain.append(part));

                // We use the '[]' suffix to indicate that a nested tag
                // can be repeated
                var isNestedTagRepeated = false;
                if (part.endsWith('[]')) {
                    isNestedTagRepeated = true;
                    part = part.slice(0, -2);
                }

                var nestedTagName = part.substring(1, part.length-1);
                nestedTag.name = nestedTagName;
                nestedTag.isRepeated = isNestedTagRepeated;
                // Use the name of the attribute as the target property unless
                // this target property was explicitly provided
                nestedTag.targetProperty = attrProps.targetProperty || nestedTagTargetProperty;
                tag.addNestedTag(nestedTag);

                if (!nestedTag.isRepeated) {
                    let attr = attributeLoader.loadAttribute(
                        nestedTag.targetProperty,
                        { type: 'object' },
                        dependencyChain.append(part));

                    tag.addAttribute(attr);
                }
            } else {
                return false;
            }
        }
    }

    /**
     * The tag name
     * @param {String} value The tag name
     */
    name(value) {
        var tag = this.tag;
        tag.name = value;
    }

    /**
     * The path to the renderer JS module to use for this tag.
     *
     * NOTE: We use the equivalent of require.resolve to resolve the JS module
     * 		 and use the tag directory as the "from".
     *
     * @param {String} value The renderer path
     */
    renderer(value) {
        var tag = this.tag;
        var dirname = this.dirname;
        var path = resolve(value, dirname);
        tag.renderer = path;
    }

    /**
     * A tag can use a renderer or a template to do the rendering. If
     * a template is provided then the value should be the path to the
     * template to use to render the custom tag.
     */
    template(value) {
        var tag = this.tag;
        var dirname = this.dirname;

        var path = nodePath.resolve(dirname, value);
        if (!exists(path)) {
            throw new Error('Template at path "' + path + '" does not exist.');
        }
        tag.template = path;
    }

    /**
     * An Object where each property maps to an attribute definition.
     * The property key will be the attribute name and the property value
     * will be the attribute definition. Example:
     * {
     *     "attributes": {
     *         "foo": "string",
     *         "bar": "expression"
     *     }
     * }
     */
    attributes(value) {
        var tag = this.tag;

        handleAttributes(value, tag, this.dependencyChain.append('attributes'));
    }

    /**
     * A custom tag can be mapped to module that is is used
     * to generate compile-time code for the custom tag. A
     * node type is created based on the methods and methods
     * exported by the code codegen module.
     */
    codeGenerator(value) {
        var tag = this.tag;
        var dirname = this.dirname;

        var path = resolve(value, dirname);
        tag.codeGeneratorModulePath = path;
    }

    /**
     * A custom tag can be mapped to a compile-time Node that gets
     * added to the parsed Abstract Syntax Tree (AST). The Node can
     * then generate custom JS code at compile time. The value
     * should be a path to a JS module that gets resolved using the
     * equivalent of require.resolve(path)
     */
    nodeFactory(value) {
        var tag = this.tag;
        var dirname = this.dirname;

        var path = resolve(value, dirname);
        tag.nodeFactoryPath = path;
    }

    /**
     * If the "preserve-whitespace" property is set to true then
     * all whitespace nested below the custom tag in a template
     * will be stripped instead of going through the normal whitespace
     * removal rules.
     */
    preserveWhitespace(value) {
        var tag = this.tag;
        tag.preserveWhitespace = !!value;
    }

    /**
     * If a custom tag has an associated transformer then the transformer
     * will be called on the compile-time Node. The transformer can manipulate
     * the AST using the DOM-like API to change how the code gets generated.
     */
    transformer(value) {
        var tag = this.tag;
        var dirname = this.dirname;

        var transformer = new types.Transformer();

        if (typeof value === 'string') {
            // The value is a simple string type
            // so treat the value as the path to the JS
            // module for the transformer
            value = {
                path: value
            };
        }

        /**
         * The transformer is a complex type and we need
         * to process each property to load the Transformer
         * definition.
         */
        propertyHandlers(value, {
            path(value) {
                var path = resolve(value, dirname);
                transformer.path = path;
            },

            priority(value) {
                transformer.priority = value;
            },

            name(value) {
                transformer.name = value;
            },

            properties(value) {
                var properties = transformer.properties || (transformer.properties = {});
                for (var k in value) {
                    if (value.hasOwnProperty(k)) {
                        properties[k] = value[k];
                    }
                }
            }

        }, this.dependencyChain.append('transformer'));

        ok(transformer.path, '"path" is required for transformer');

        tag.addTransformer(transformer);
    }

    /**
     * The "var" property is used to declared nested variables that get
     * added as JavaScript variables at compile time.
     *
     * Examples:
     *
     * "var": "myScopedVariable",
     *
     * "var": {
     *     "name": "myScopedVariable"
     * }
     *
     * "var": {
     *     "name-from-attribute": "var"
     * }
     */
    var(value) {
        this._handleVar(value, this.dependencyChain.append('var'));
    }
    /**
     * The "vars" property is equivalent to the "var" property
     * except that it expects an array of nested variables.
     */
    vars(value) {
        if (value) {
            value.forEach((v, i) => {
                this._handleVar(v, this.dependencyChain.append('vars[' + i + ']'));
            });
        }
    }
    /**
     * The "body-function" property" allows the nested body content to be mapped
     * to a function at compile time. The body function gets mapped to a property
     * of the tag renderer at render time. The body function can have any number
     * of parameters.
     *
     * Example:
     * - "body-function": "_handleBody(param1, param2, param3)"
     */
    bodyFunction(value) {
        var tag = this.tag;
        var parts = bodyFunctionRegExp.exec(value);
        if (!parts) {
            throw new Error('Invalid value of "' + value + '" for "body-function". Expected value to be of the following form: <function-name>([param1, param2, ...])');
        }

        var functionName = parts[1];
        var params = parts[2];
        if (params) {
            params = params.trim().split(/\s*,\s*/);
            for (var i=0; i<params.length; i++) {
                if (params[i].length === 0) {
                    throw new Error('Invalid parameters for body-function with value of "' + value + '"');
                } else if (!safeVarName.test(params[i])) {
                    throw new Error('Invalid parameter name of "' + params[i] + '" for body-function with value of "' + value + '"');
                }
            }
        } else {
            params = [];
        }

        tag.setBodyFunction(functionName, params);
    }
    /**
     * The "import-var" property can be used to add a property to the
     * input object of the tag renderer whose value is determined by
     * a JavaScript expression.
     *
     * Example:
     * "import-var": {
     *     "myTargetProperty": "data.myCompileTimeJavaScriptExpression",
     * }
     */
    importVar(value) {
        var tag = this.tag;
        forEachEntry(value, (varName, varValue) => {
            var importedVar = {
                targetProperty: varName
            };

            var expression = varValue;

            if (!expression) {
                expression = varName;
            }
            else if (typeof expression === 'object') {
                expression = expression.expression;
            }

            if (!expression) {
                throw new Error('Invalid "import-var": ' + require('/util$0.10.3/util'/*'util'*/).inspect(varValue));
            }

            importedVar.expression = markoCompiler.builder.parseExpression(expression);
            tag.addImportedVariable(importedVar);
        });
    }
    /**
     * The tag type.
     */
    type(value) {
        var tag = this.tag;
        tag.type = value;
    }
    /**
     * Declare a nested tag.
     *
     * Example:
     * {
     *     ...
     *     "nested-tags": {
     *        "tab": {
     *            "target-property": "tabs",
     *            "isRepeated": true
     *        }
     *     }
     * }
     */
    nestedTags(value) {
        var filePath = this.filePath;
        var tag = this.tag;

        forEachEntry(value, (nestedTagName, nestedTagDef) => {
            var dependencyChain = this.dependencyChain.append(`nestedTags["${nestedTagName}]`);
            var nestedTag = loadTag(
                nestedTagDef,
                filePath,
                dependencyChain);
            nestedTag.name = nestedTagName;
            tag.addNestedTag(nestedTag);

            if (!nestedTag.isRepeated) {
                let attr = attributeLoader.loadAttribute(
                    nestedTag.targetProperty,
                    { type: 'object' },
                    dependencyChain);

                tag.addAttribute(attr);
            }
        });
    }
    escapeXmlBody(value) {
        if (value === false) {
            this.tag.escapeXmlBody = false;
        }
    }

    /**
     * Sends the body content type. This is used to control how the body
     * content is parsed.
     */
    body(value) {
        if (value === 'static-text' || value === 'parsed-text' || value === 'html') {
            this.tag.body = value;
        } else {
            throw new Error('Invalid value for "body". Allowed: "static-text", "parsed-text" or "html"');
        }
    }

    openTagOnly(value) {
        this.tag.openTagOnly = value;
    }

    noOutput(value) {
        this.tag.noOutput = value;
    }

    autocomplete(value) {
        this.tag.autocomplete = value;
    }

    parseOptions(value) {
        this.tag.parseOptions = value;
    }

    deprecated(value) {
        this.tag.deprecated = value;
    }

    parseAttributes(value) {
        this.tag.parseAttributes = value;
    }
}

function isSupportedProperty(name) {
    return TagLoader.prototype.hasOwnProperty(name);
}

function loadTag(tagProps, filePath, dependencyChain) {
    ok(typeof tagProps === 'object', 'Invalid "tagProps"');
    ok(typeof filePath === 'string');

    if (!dependencyChain) {
        dependencyChain = new DependencyChain([filePath]);
    }

    var tagLoader = new TagLoader(dependencyChain);
    try {
        return tagLoader._load(tagProps, filePath);
    } catch(err) {
        throw createError('Unable to load tag (' + dependencyChain + '): ' + err, err);
    }

}

exports.loadTag = loadTag;
exports.isSupportedProperty = isSupportedProperty;

});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/CustomTag", function(require, exports, module, __filename, __dirname) { 'use strict';

var HtmlElement = require('/marko$4.0.0-rc.12/compiler/ast/HtmlElement/index'/*'./HtmlElement'*/);
var removeDashes = require('/marko$4.0.0-rc.12/compiler/util/removeDashes'/*'../util/removeDashes'*/);
var safeVarName = require('/marko$4.0.0-rc.12/compiler/util/safeVarName'/*'../util/safeVarName'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var tagLoader;
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

var CUSTOM_TAG_KEY = Symbol('CustomTag');

function getNestedVariables(elNode, tagDef, codegen) {
    var variableNames = [];
    if (tagDef.forEachVariable) {
        tagDef.forEachVariable((nestedVar) => {
            var varName;
            if (nestedVar.nameFromAttribute) {
                var possibleNameAttributes = nestedVar.nameFromAttribute.split(/\s+or\s+|\s*,\s*/i);
                for (var i = 0, len = possibleNameAttributes.length; i < len; i++) {
                    var attrName = possibleNameAttributes[i];
                    var keep = false;
                    if (attrName.endsWith('|keep')) {
                        keep = true;
                        attrName = attrName.slice(0, 0 - '|keep'.length);
                        possibleNameAttributes[i] = attrName;
                    }
                    varName = elNode.getAttributeValue(attrName);
                    if (varName) {
                        if (varName.type !== 'Literal' || typeof varName.value !== 'string') {
                            codegen.addError('The value of the ' + attrName + ' is expected to be a string');
                            codegen.addError('Attribute ' + possibleNameAttributes.join(' or ') + ' is required');
                            varName = '_var';    // Let it continue with errors
                        }

                        varName = varName.value;

                        if (!keep) {
                            elNode.removeAttribute(attrName);
                        }
                        break;
                    }
                }
                if (!varName) {
                    codegen.addError('Attribute ' + possibleNameAttributes.join(' or ') + ' is required');
                    varName = '_var';    // Let it continue with errors
                }
            } else {
                varName = nestedVar.name;
                if (!varName) {
                    codegen.addError('Variable name is required');
                    varName = '_var';    // Let it continue with errors
                }
            }
            variableNames.push(codegen.builder.identifier(varName));
        });
    }

    if (elNode.additionalNestedVars.length) {
        elNode.additionalNestedVars.forEach((varName) => {
            variableNames.push(codegen.builder.identifier(varName));
        });
    }

    return variableNames;
}

function getAllowedAttributesString(tagName, context) {
    var attrNames = [];

    var tagDef = context.taglibLookup.getTag(tagName);
    if (tagDef) {
        tagDef.forEachAttribute((attrDef) => {
            attrNames.push(attrDef.name);
        });

        return attrNames.length ? attrNames.join(', ') : '(none)';
    } else {
        return null;
    }
}

function checkIfNestedTagCanBeAddedDirectlyToInput(nestedTag, parentCustomTag) {
    if (!nestedTag._isDirectlyNestedTag) {
        return false;
    }

    var isRepeated = nestedTag.tagDef.isRepeated;
    if (!isRepeated) {
        return true;
    }

    let tagName = nestedTag.tagDef.name;
    let previousMatchingNestedTags = parentCustomTag._foundNestedTagsByName[tagName];
    if (!previousMatchingNestedTags) {
        return true;
    }

    for (let i=0; i<previousMatchingNestedTags.length; i++) {
        let previousNestedTag = previousMatchingNestedTags[i];
        if (!previousNestedTag._isDirectlyNestedTag) {
            return false;
        }
    }

    return true;
}

function getNextNestedTagVarName(tagDef, context) {
    var key = 'customTag' + tagDef.name;

    var nestedTagVarInfo = context.data[key] || (context.data[key] = {
        next: 0
    });


    return safeVarName(tagDef.name) + (nestedTagVarInfo.next++);
}

function getNextRenderBodyVar(context) {
    var key = 'CustomTag_renderBodyVar';
    var nextVarInfo = context.data[key] || (context.data[key] = {
        next: 0
    });

    return 'renderBodyConditional'+ (nextVarInfo.next++);
}

function processDirectlyNestedTags(node, codegen) {
    node.forEachChild((child) => {
        if (child.type === 'CustomTag') {
            let customTag = child;

            var tagDef = customTag.resolveTagDef(codegen);
            if (tagDef.isNestedTag) {
                customTag._isDirectlyNestedTag = true;
            }
        } else if (child.type === 'If') {
            if (child.nextSibling && child.nextSibling.type === 'Else') {
                return;
            }

            let ifNode = child;

            let childChild = child.childCount === 1 && child.firstChild;
            if (childChild && childChild.type === 'CustomTag') {
                let customTag = childChild;

                let tagDef = customTag.resolveTagDef(codegen);
                if (tagDef.isNestedTag && !tagDef.isRepeated) {
                    let condition = codegen.generateCode(ifNode.test);
                    customTag._isDirectlyNestedTag = true;
                    customTag._condition = condition;
                    ifNode.replaceWith(customTag);
                }
            }
        }
    });
}

function merge(props1, props2, context) {
    if (!props2) {
        return props1;
    }

    if (!(props2 instanceof Node)) {
        if (Object.keys(props2).length === 0) {
            return props1;
        }
    }

    if (props1 instanceof Node) {
        let mergeVar = context.helper('merge');
        if (!(props2 instanceof Node)) {
            props2 = context.builder.literal(props2);
        }

        return context.builder.functionCall(mergeVar, [
            props2, // Input props from the attributes take precedence
            props1
        ]);
    } else {
        if (props2 instanceof Node) {
            let mergeVar = context.helper('merge');

            return context.builder.functionCall(mergeVar, [
                props2, // Input props from the attributes take precedence
                props1

            ]);
        } else {
            if (props1._arg) {
                let mergeVar = context.helper('merge');
                props1._arg = context.builder.functionCall(mergeVar, [
                    context.builder.literal(props2), // Input props from the attributes take precedence
                    props1._arg
                ]);
                return props1;
            } else {
                return Object.assign(props1, props2);
            }
        }
    }
}

class CustomTag extends HtmlElement {
    constructor(el, tagDef) {
        super(el);
        this.type = 'CustomTag';
        this.tagDef = tagDef;
        this.additionalNestedVars = [];
        this._nestedTagVar = null;
        this._inputProps = null;
        this._isDirectlyNestedTag = false;
        this._condition = null;
        this._foundNestedTagsByName = {};
        this._hasDynamicNestedTags = false;
        this._additionalProps = null;
        this._rendererPath = null;
        this.dynamicAttributes = undefined;
    }

    buildInputProps(codegen) {
        var inputProps = this._inputProps;
        if (inputProps) {
            return inputProps;
        }

        var context = codegen.context;
        var tagDef = this.resolveTagDef(codegen);
        inputProps = {};

        function handleAttr(attrName, attrValue, attrDef) {
            if (!attrDef) {
                return; // Skip over attributes that are not supported
            }

            if (attrValue == null) {
                attrValue = context.builder.literalTrue();
            }

            var propName;
            var parentPropName;

            if (attrDef.dynamicAttribute) {
                // Dynamic attributes are allowed attributes
                // that are not declared (i.e. "*" attributes)
                //
                if (attrDef.removeDashes === true || attrDef.preserveName === false) {
                    propName = removeDashes(attrName);
                } else {
                    propName = attrName;
                }

                if (attrDef.targetProperty) {
                    parentPropName = attrDef.targetProperty;
                }
            } else {
                // Attributes map to properties and we allow the taglib
                // author to control how an attribute name resolves
                // to a property name.
                if (attrDef.targetProperty) {
                    propName = attrDef.targetProperty;
                } else if (attrDef.preserveName === true) {
                    propName = attrName;
                } else {
                    propName = removeDashes(attrName);
                }
            }

            if (attrDef.type === 'path') {
                attrValue = context.resolvePath(attrValue);
            } else if (attrDef.type === 'template') {
                attrValue = context.resolveTemplate(attrValue);
            }

            if (parentPropName) {
                let parent = inputProps[parentPropName] || (inputProps[parentPropName] = {});
                parent[propName] = attrValue;
            } else {
                inputProps[propName] = attrValue;
            }
        }

        if (tagDef.forEachAttribute) {
            // Add default values for any attributes from the tag definition. These added properties may get overridden
            // by get overridden from the attributes found on the actual HTML element.
            tagDef.forEachAttribute(function (attrDef) {
                if (attrDef.hasOwnProperty('defaultValue')) {
                    handleAttr(
                        attrDef.name,
                        context.builder.literal(attrDef.defaultValue),
                        attrDef);
                }
            });
        }

        let tagName = tagDef.isNestedTag ? tagDef.name : this.tagName;

        // Loop over the attributes found on the HTML element and add the corresponding properties
        // to the input object for the custom tag
        this.forEachAttribute((attr) => {
            var attrName = attr.name;
            if (!attrName) {
                return; // Skip attributes with no names
            }

            var attrDef = attr.def || context.taglibLookup.getAttribute(tagName, attrName) || tagDef.getAttribute(attr.name);

            if (!attrDef) {
                var errorMessage = 'Unsupported attribute of "' + attrName + '" found on the <' + this.tagName + '> custom tag.';
                let allowedAttributesString = getAllowedAttributesString(tagName, context);
                if (allowedAttributesString) {
                    errorMessage += ' Allowed attributes: ' + allowedAttributesString;
                }

                context.addError(this,  errorMessage);
                return; // Skip over attributes that are not supported
            }

            handleAttr(attrName, attr.value, attrDef);
        });


        if (tagDef.forEachImportedVariable) {
            // Imported variables are used to add input properties to a custom tag based on data/variables
            // found in the compiled template
            tagDef.forEachImportedVariable(function(importedVariable) {
                let propName = importedVariable.targetProperty;
                let propExpression = importedVariable.expression;

                inputProps[propName] = propExpression;
            });
        }

        this._inputProps = inputProps;

        return inputProps;
    }

    resolveTagDef(codegen) {
        var context = codegen.context;
        var tagDef = this.tagDef;
        if (!tagDef) {
            if (this.tagName && this.tagName.startsWith('@')) {
                var parentCustomTag = context.getData(CUSTOM_TAG_KEY);

                if (!parentCustomTag) {
                    codegen.addError('Invalid usage of the <' + this.tagName + '> nested tag. Tag not nested within a custom tag.');
                    return null;
                }

                var parentTagDef = parentCustomTag.tagDef;
                if (!parentTagDef) {
                    throw new Error('"tagDef" is expected for CustomTag: ' + parentCustomTag.tagName);
                }

                var nestedTagName = this.tagName.substring(1);

                var fullyQualifiedName = parentCustomTag.tagDef.name + ':' + nestedTagName;
                tagDef = this.tagDef = context.getTagDef(fullyQualifiedName);
                if (!tagDef) {
                    // This nested tag is not declared, but we will allow it to go through
                    tagDef = this.tagDef = tagLoader.loadTag({
                        name: fullyQualifiedName,
                        attributes: {
                            '*': {
                                targetProperty: null
                            }
                        }
                    }, context.filename);

                    tagDef.isNestedTag = true;
                    tagDef.isRepeated = false;
                    tagDef.targetProperty = nestedTagName;
                }
            } else {
                throw new Error('"tagDef" is required for CustomTag');
            }
            this.tagDef = tagDef;
        }
        return tagDef;
    }

    addNestedVariable(name) {
        ok(name, '"name" is required');
        this.additionalNestedVars.push(name);
    }

    addNestedTag(nestedTag) {
        var tagName = nestedTag.tagDef.name;

        var byNameArray = this._foundNestedTagsByName[tagName] ||
            (this._foundNestedTagsByName[tagName] = []);

        byNameArray.push(nestedTag);
    }

    addProps(additionalProps) {
        if (!this._additionalProps) {
            this._additionalProps = {};
        }

        Object.assign(this._additionalProps, additionalProps);
    }

    hasProp(name) {
        return this._additionalProps && this._additionalProps.hasOwnProperty(name);
    }

    addProp(name, value) {
        if (!this._additionalProps) {
            this._additionalProps = {};
        }
        this._additionalProps[name] = value;
    }

    setRendererPath(path) {
        ok(typeof path === 'string', '"path" should be a string');
        this._rendererPath = path;
    }

    getNestedTagVar(context) {
        if (!this._nestedTagVar) {
            var tagDef = this.tagDef;
            var builder = context.builder;

            var nextNestedTagVarName = getNextNestedTagVarName(tagDef, context);

            this._nestedTagVar = builder.identifier(nextNestedTagVarName);
        }

        return this._nestedTagVar;
    }

    generateCode(codegen) {
        if (this.type !== 'CustomTag') {
            throw new Error(this.type);
        }
        var builder = codegen.builder;
        var context = codegen.context;

        var tagDef = this.resolveTagDef(codegen);

        if (!tagDef) {
            // The tag def was not able to be resolved and an error should have already
            // been added to the context
            return null;
        }

        var parentCustomTag;

        context.pushData(CUSTOM_TAG_KEY, this);
        processDirectlyNestedTags(this, codegen);
        var body = codegen.generateCode(this.body);
        context.popData(CUSTOM_TAG_KEY);

        var isNestedTag = tagDef.isNestedTag === true;
        if (isNestedTag) {
            parentCustomTag = context.getData(CUSTOM_TAG_KEY);
            if (!parentCustomTag) {
                if (tagDef.parentTagName) {
                    codegen.addError(`Invalid usage of the <${this.tagName}> nested tag. Tag not nested within a <${tagDef.parentTagName}> tag.`);
                } else {
                    codegen.addError(`Invalid usage of the <${this.tagName}> nested tag. Tag not nested within a custom tag.`);
                }

                return null;
            }

            parentCustomTag.addNestedTag(this);

            if (checkIfNestedTagCanBeAddedDirectlyToInput(this, parentCustomTag)) {
                let inputProps = this.buildInputProps(codegen);

                if (body && body.length) {
                    inputProps.renderBody = codegen.builder.renderBodyFunction(body);
                }

                if (tagDef.isRepeated) {
                    var currentValue = parentCustomTag.getAttributeValue(tagDef.targetProperty);
                    if (currentValue) {
                        currentValue.value.push(inputProps);
                    } else {
                        parentCustomTag.setAttributeValue(tagDef.targetProperty, builder.literal([
                            inputProps
                        ]));
                    }
                } else {
                    let nestedTagValue = builder.literal(inputProps);
                    if (this._condition) {
                        nestedTagValue = builder.binaryExpression(this._condition, '&&', nestedTagValue);
                    }
                    parentCustomTag.setAttributeValue(tagDef.targetProperty, nestedTagValue);
                }

                return null;
            } else {
                this._isDirectlyNestedTag = false;
                parentCustomTag._hasDynamicNestedTags = true;
            }
        }

        var hasDynamicNestedTags = this._hasDynamicNestedTags;

        var bodyOnlyIf = this.bodyOnlyIf;
        // let parentTagVar;

        var nestedVariableNames = getNestedVariables(this, tagDef, codegen);

        var inputProps = this.buildInputProps(codegen);

        var renderBodyFunction;

        if (body && body.length) {
            if (tagDef.bodyFunction) {
                let bodyFunction = tagDef.bodyFunction;
                let bodyFunctionName = bodyFunction.name;
                let bodyFunctionParams = bodyFunction.params.map(function(param) {
                    return builder.identifier(param);
                });

                inputProps[bodyFunctionName] = builder.functionDeclaration(bodyFunctionName, bodyFunctionParams, body);
            } else {
                renderBodyFunction = context.builder.renderBodyFunction(body);
                if (hasDynamicNestedTags) {
                    renderBodyFunction.params.push(this._nestedTagVar);
                } else {
                    if (nestedVariableNames && nestedVariableNames.length) {
                        renderBodyFunction.params = renderBodyFunction.params.concat(nestedVariableNames);
                    }
                }
            }
        }

        var renderBodyFunctionVarIdentifier;
        var renderBodyFunctionVar;
        // Store the renderBody function with the input, but only if the body does not have
        // nested tags
        if (renderBodyFunction) {
            if (bodyOnlyIf) {
                // Move the renderBody function into a local variable
                renderBodyFunctionVarIdentifier = builder.identifier(getNextRenderBodyVar(context));
                renderBodyFunctionVar = builder.var(renderBodyFunctionVarIdentifier, renderBodyFunction);
                inputProps.renderBody = renderBodyFunctionVarIdentifier;
            } else {
                inputProps.renderBody = renderBodyFunction;
            }
        } else {
            bodyOnlyIf = null;
        }

        var argExpression;

        if (this.argument) {
            argExpression = builder.parseExpression(this.argument);
        }

        var additionalProps = this._additionalProps;

        if (additionalProps) {
            inputProps = merge(additionalProps, inputProps, context);
        }

        if (argExpression) {
            inputProps = merge(argExpression, inputProps, context);
        }

        if (this.dynamicAttributes) {
            this.dynamicAttributes.forEach((dynamicAttributesExpression) => {
                inputProps = merge(dynamicAttributesExpression, inputProps, context);
            });
        }

        if (!(inputProps instanceof Node)) {
            inputProps = builder.literal(inputProps);
        }

        if (hasDynamicNestedTags) {
            inputProps = builder.functionCall(context.helper('mergeNestedTagsHelper'), [ inputProps ]);
        }

        var rendererPath = this._rendererPath || tagDef.renderer;
        var rendererRequirePath;
        var requireRendererFunctionCall;

        if (rendererPath) {
            rendererRequirePath = context.getRequirePath(rendererPath);
            requireRendererFunctionCall = builder.require(JSON.stringify(rendererRequirePath));
        } else {
            requireRendererFunctionCall = builder.literal(null);
        }

        var finalNode;

        var tagVarName = tagDef.name + (tagDef.isNestedTag ? '_nested_tag' : '_tag');

        if (tagDef.template) {
            var templateRequirePath = context.getRequirePath(tagDef.template);
            var templateVar = context.importTemplate(templateRequirePath, tagDef.name + '_template');

            let loadTag = builder.functionCall(context.helper('loadTag'), [templateVar]);
            let tagVar = codegen.addStaticVar(tagVarName, loadTag);

            let tagFunctionCall = builder.functionCall(tagVar, [ inputProps, 'out' ]);
            finalNode = tagFunctionCall;
        } else {
            if (rendererRequirePath) {
                codegen.pushMeta('tags', builder.literal(rendererRequirePath), true);
            }

            let loadTag;
            let tagArgs;

            if (isNestedTag) {
                let loadTagArgs = [ builder.literal(tagDef.targetProperty) ];

                if (tagDef.isRepeated) {
                    loadTagArgs.push(builder.literal(1)); // isRepeated
                }

                loadTag = builder.functionCall(context.helper('loadNestedTag'), loadTagArgs);

                tagArgs = [inputProps, parentCustomTag.getNestedTagVar(context) ];
            } else {
                loadTag = builder.functionCall(context.helper('loadTag'), [
                    requireRendererFunctionCall // The first param is the renderer
                ]);

                tagArgs = [inputProps, builder.identifierOut() ];
            }

            let tagVar = codegen.addStaticVar(tagVarName, loadTag);

            let tagFunctionCall = builder.functionCall(tagVar, tagArgs);
            finalNode = tagFunctionCall;
        }

        if (bodyOnlyIf && renderBodyFunctionVar) {
            var ifStatement = builder.ifStatement(
                bodyOnlyIf,
                [

                    builder.functionCall(renderBodyFunctionVarIdentifier, [builder.identifierOut()])
                ],
                builder.elseStatement([
                    finalNode
                ]));

            return [
                renderBodyFunctionVar,
                ifStatement
            ];
        } else {
            return finalNode;
        }
    }

    addDynamicAttributes(expression) {
        if (!this.dynamicAttributes) {
            this.dynamicAttributes = [];
        }

        this.dynamicAttributes.push(expression);
    }
}

module.exports = CustomTag;

tagLoader = require('/marko$4.0.0-rc.12/compiler/taglib-loader/loader-tag'/*'../taglib-loader/loader-tag'*/);
});
$_mod.installed("marko$4.0.0-rc.12","esprima","3.1.3");
$_mod.main("/esprima$3.1.3","dist/esprima");
$_mod.def("/esprima$3.1.3/dist/esprima",function(e,t,i,r,n){!function(e,r){"object"==typeof t&&"object"==typeof i?i.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof t?t.esprima=r():e.esprima=r()}(this,function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function r(e,t,i){var r=null,n=function(e,t){i&&i(e,t),r&&r.visit(e,t)},u="function"==typeof i?n:null,h=!1;if(t){h="boolean"==typeof t.comment&&t.comment;var c="boolean"==typeof t.attachComment&&t.attachComment;(h||c)&&(r=new s.CommentHandler,r.attach=c,t.comment=!0,u=n)}var l;l=t&&"boolean"==typeof t.jsx&&t.jsx?new o.JSXParser(e,t,u):new a.Parser(e,t,u);var p=l.parseProgram();return h&&(p.comments=r.comments),l.config.tokens&&(p.tokens=l.tokens),l.config.tolerant&&(p.errors=l.errorHandler.errors),p}function n(e,t,i){var r,n=new u.Tokenizer(e,t);r=[];try{for(;;){var s=n.getNextToken();if(!s)break;i&&(s=i(s)),r.push(s)}}catch(e){n.errorHandler.tolerate(e)}return n.errorHandler.tolerant&&(r.errors=n.errors()),r}var s=i(1),a=i(3),o=i(11),u=i(15);t.parse=r,t.tokenize=n;var h=i(2);t.Syntax=h.Syntax,t.version="3.1.3"},function(e,t,i){"use strict";var r=i(2),n=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===r.Syntax.BlockStatement&&0===e.body.length){for(var i=[],n=this.leading.length-1;n>=0;--n){var s=this.leading[n];t.end.offset>=s.start&&(i.unshift(s.comment),this.leading.splice(n,1),this.trailing.splice(n,1))}i.length&&(e.innerComments=i)}},e.prototype.findTrailingComments=function(e,t){var i=[];if(this.trailing.length>0){for(var r=this.trailing.length-1;r>=0;--r){var n=this.trailing[r];n.start>=t.end.offset&&i.unshift(n.comment)}return this.trailing.length=0,i}var s=this.stack[this.stack.length-1];if(s&&s.node.trailingComments){var a=s.node.trailingComments[0];a&&a.range[0]>=t.end.offset&&(i=s.node.trailingComments,delete s.node.trailingComments)}return i},e.prototype.findLeadingComments=function(e,t){for(var i,r=[];this.stack.length>0;){var n=this.stack[this.stack.length-1];if(!(n&&n.start>=t.start.offset))break;i=this.stack.pop().node}if(i){for(var s=i.leadingComments?i.leadingComments.length:0,a=s-1;a>=0;--a){var o=i.leadingComments[a];o.range[1]<=t.start.offset&&(r.unshift(o),i.leadingComments.splice(a,1))}return i.leadingComments&&0===i.leadingComments.length&&delete i.leadingComments,r}for(var a=this.leading.length-1;a>=0;--a){var n=this.leading[a];n.start<=t.start.offset&&(r.unshift(n.comment),this.leading.splice(a,1))}return r},e.prototype.visitNode=function(e,t){if(!(e.type===r.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var i=this.findTrailingComments(e,t),n=this.findLeadingComments(e,t);n.length>0&&(e.leadingComments=n),i.length>0&&(e.trailingComments=i),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var i="L"===e.type[0]?"Line":"Block",r={type:i,value:e.value};if(e.range&&(r.range=e.range),e.loc&&(r.loc=e.loc),this.comments.push(r),this.attach){var n={comment:{type:i,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(n.comment.loc=e.loc),e.type=i,this.leading.push(n),this.trailing.push(n)}},e.prototype.visit=function(e,t){"LineComment"===e.type?this.visitComment(e,t):"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=n},function(e,t){"use strict";t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,i){"use strict";var r=i(4),n=i(5),s=i(6),a=i(7),o=i(8),u=i(2),h=i(10),c="ArrowParameterPlaceHolder",l=function(){function e(e,t,i){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=i,this.errorHandler=new s.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new o.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.sourceType=t&&"module"===t.sourceType?"module":"script",this.lookahead=null,this.hasLineTerminator=!1,this.context={allowIn:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:"module"===this.sourceType},this.tokens=[],this.startMarker={index:0,lineNumber:this.scanner.lineNumber,lineStart:0},this.lastMarker={index:0,lineNumber:this.scanner.lineNumber,lineStart:0},this.nextToken(),this.lastMarker={index:this.scanner.index,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=Array.prototype.slice.call(arguments,1),s=e.replace(/%(\d)/g,function(e,t){return r.assert(t<n.length,"Message reference must be in range"),n[t]}),a=this.lastMarker.index,o=this.lastMarker.lineNumber,u=this.lastMarker.index-this.lastMarker.lineStart+1;throw this.errorHandler.createError(a,o,u,s)},e.prototype.tolerateError=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=Array.prototype.slice.call(arguments,1),s=e.replace(/%(\d)/g,function(e,t){return r.assert(t<n.length,"Message reference must be in range"),n[t]}),a=this.lastMarker.index,o=this.scanner.lineNumber,u=this.lastMarker.index-this.lastMarker.lineStart+1;this.errorHandler.tolerateError(a,o,u,s)},e.prototype.unexpectedTokenError=function(e,t){var i,r=t||n.Messages.UnexpectedToken;if(e?(t||(r=e.type===a.Token.EOF?n.Messages.UnexpectedEOS:e.type===a.Token.Identifier?n.Messages.UnexpectedIdentifier:e.type===a.Token.NumericLiteral?n.Messages.UnexpectedNumber:e.type===a.Token.StringLiteral?n.Messages.UnexpectedString:e.type===a.Token.Template?n.Messages.UnexpectedTemplate:n.Messages.UnexpectedToken,e.type===a.Token.Keyword&&(this.scanner.isFutureReservedWord(e.value)?r=n.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(r=n.Messages.StrictReservedWord))),i=e.type===a.Token.Template?e.value.raw:e.value):i="ILLEGAL",r=r.replace("%0",i),e&&"number"==typeof e.lineNumber){var s=e.start,o=e.lineNumber,u=e.start-this.lastMarker.lineStart+1;return this.errorHandler.createError(s,o,u,r)}var s=this.lastMarker.index,o=this.lastMarker.lineNumber,u=s-this.lastMarker.lineStart+1;return this.errorHandler.createError(s,o,u,r)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var i=e[t],r=void 0;r={type:i.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(i.slice[0],i.slice[1])},this.config.range&&(r.range=i.range),this.config.loc&&(r.loc=i.loc);var n={start:{line:i.loc.start.line,column:i.loc.start.column,offset:i.range[0]},end:{line:i.loc.end.line,column:i.loc.end.column,offset:i.range[1]}};this.delegate(r,n)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t;return t={type:a.TokenName[e.type],value:this.getTokenRaw(e)},this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.lineNumber,column:this.startMarker.index-this.startMarker.lineStart},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),e.regex&&(t.regex=e.regex),t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;var t;return t=this.scanner.lex(),this.hasLineTerminator=!(!e||!t)&&e.lineNumber!==t.lineNumber,t&&this.context.strict&&t.type===a.Token.Identifier&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=a.Token.Keyword),this.lookahead=t,this.config.tokens&&t.type!==a.Token.EOF&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.lineNumber,column:this.startMarker.index-this.startMarker.lineStart}},e.prototype.startNode=function(e){return{index:e.start,line:e.lineNumber,column:e.start-e.lineStart}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.lineNumber,column:this.lastMarker.index-this.lastMarker.lineStart}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var i={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.lineNumber,column:this.lastMarker.index-this.lastMarker.lineStart,offset:this.lastMarker.index}};this.delegate(t,i)}return t},e.prototype.expect=function(e){var t=this.nextToken();t.type===a.Token.Punctuator&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;e.type===a.Token.Punctuator&&","===e.value?this.nextToken():e.type===a.Token.Punctuator&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,n.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();t.type===a.Token.Keyword&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return this.lookahead.type===a.Token.Punctuator&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return this.lookahead.type===a.Token.Keyword&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return this.lookahead.type===a.Token.Identifier&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(this.lookahead.type!==a.Token.Punctuator)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,i=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var n=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=i,this.context.firstCoverInitializedNameError=r,n},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,i=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var n=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&i,this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError,n},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===a.Token.EOF||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.lineNumber=this.startMarker.lineNumber,this.lastMarker.lineStart=this.startMarker.lineStart)},e.prototype.parsePrimaryExpression=function(){var e,t,i,r,s=this.createNode();switch(this.lookahead.type){case a.Token.Identifier:"module"===this.sourceType&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.finalize(s,new h.Identifier(this.nextToken().value));break;case a.Token.NumericLiteral:case a.Token.StringLiteral:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,n.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,i=this.nextToken(),r=this.getTokenRaw(i),e=this.finalize(s,new h.Literal(i.value,r));break;case a.Token.BooleanLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,i=this.nextToken(),i.value="true"===i.value,r=this.getTokenRaw(i),e=this.finalize(s,new h.Literal(i.value,r));break;case a.Token.NullLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,i=this.nextToken(),i.value=null,r=this.getTokenRaw(i),e=this.finalize(s,new h.Literal(i.value,r));break;case a.Token.Template:e=this.parseTemplateLiteral();break;case a.Token.Punctuator:switch(t=this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,i=this.nextRegexToken(),r=this.getTokenRaw(i),e=this.finalize(s,new h.RegexLiteral(i.value,r,i.regex));break;default:this.throwUnexpectedToken(this.nextToken())}break;case a.Token.Keyword:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(s,new h.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(s,new h.ThisExpression)):this.matchKeyword("class")?e=this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new h.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var i=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(i)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new h.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,i=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,i},e.prototype.parsePropertyMethodFunction=function(){var e=!1,t=this.createNode(),i=this.context.allowYield;this.context.allowYield=!1;var r=this.parseFormalParameters(),n=this.parsePropertyMethod(r);return this.context.allowYield=i,this.finalize(t,new h.FunctionExpression(null,r.params,n,e))},e.prototype.parseObjectPropertyKey=function(){var e=this.createNode(),t=this.nextToken(),i=null;switch(t.type){case a.Token.StringLiteral:case a.Token.NumericLiteral:this.context.strict&&t.octal&&this.tolerateUnexpectedToken(t,n.Messages.StrictOctalLiteral);var r=this.getTokenRaw(t);i=this.finalize(e,new h.Literal(t.value,r));break;case a.Token.Identifier:case a.Token.BooleanLiteral:case a.Token.NullLiteral:case a.Token.Keyword:i=this.finalize(e,new h.Identifier(t.value));break;case a.Token.Punctuator:"["===t.value?(i=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):this.throwUnexpectedToken(t);break;default:this.throwUnexpectedToken(t)}return i},e.prototype.isPropertyKey=function(e,t){return e.type===u.Syntax.Identifier&&e.name===t||e.type===u.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,i,r,s=this.createNode(),o=this.lookahead,u=!1,c=!1,l=!1;o.type===a.Token.Identifier?(this.nextToken(),i=this.finalize(s,new h.Identifier(o.value))):this.match("*")?this.nextToken():(u=this.match("["),i=this.parseObjectPropertyKey());var p=this.qualifiedPropertyName(this.lookahead);if(o.type===a.Token.Identifier&&"get"===o.value&&p)t="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,r=this.parseGetterMethod();else if(o.type===a.Token.Identifier&&"set"===o.value&&p)t="set",u=this.match("["),i=this.parseObjectPropertyKey(),r=this.parseSetterMethod();else if(o.type===a.Token.Punctuator&&"*"===o.value&&p)t="init",u=this.match("["),i=this.parseObjectPropertyKey(),r=this.parseGeneratorMethod(),c=!0;else if(i||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":"))!u&&this.isPropertyKey(i,"__proto__")&&(e.value&&this.tolerateError(n.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),r=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))r=this.parsePropertyMethodFunction(),c=!0;else if(o.type===a.Token.Identifier){var d=this.finalize(s,new h.Identifier(o.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),l=!0;var m=this.isolateCoverGrammar(this.parseAssignmentExpression);r=this.finalize(s,new h.AssignmentPattern(d,m))}else l=!0,r=d}else this.throwUnexpectedToken(this.nextToken());return this.finalize(s,new h.Property(t,i,u,r,c,l))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],i={value:!1};!this.match("}");)t.push(this.parseObjectProperty(i)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new h.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),i={raw:t.value.raw,cooked:t.value.cooked};return this.finalize(e,new h.TemplateElement(i,t.tail))},e.prototype.parseTemplateElement=function(){this.lookahead.type!==a.Token.Template&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),i={raw:t.value.raw,cooked:t.value.cooked};return this.finalize(e,new h.TemplateElement(i,t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],i=[],r=this.parseTemplateHead();for(i.push(r);!r.tail;)t.push(this.parseExpression()),r=this.parseTemplateElement(),i.push(r);return this.finalize(e,new h.TemplateLiteral(i,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:e.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case u.Syntax.ArrayExpression:e.type=u.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case u.Syntax.ObjectExpression:e.type=u.Syntax.ObjectPattern;for(var t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case u.Syntax.AssignmentExpression:e.type=u.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:c,params:[]};else{var t=this.lookahead,i=[];if(this.match("..."))e=this.parseRestElement(i),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:c,params:[e]};else{var r=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var n=[];for(this.context.isAssignmentTarget=!1,n.push(e);this.startMarker.index<this.scanner.length&&this.match(",");){if(this.nextToken(),this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),n.push(this.parseRestElement(i)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var s=0;s<n.length;s++)this.reinterpretExpressionAsPattern(n[s]);r=!0,e={type:c,params:n}}else n.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(r)break}r||(e=this.finalize(this.startNode(t),new h.SequenceExpression(n)))}if(!r){if(this.expect(")"),this.match("=>")&&(e.type===u.Syntax.Identifier&&"yield"===e.name&&(r=!0,e={type:c,params:[e]}),!r)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===u.Syntax.SequenceExpression)for(var s=0;s<e.expressions.length;s++)this.reinterpretExpressionAsPattern(e.expressions[s]);else this.reinterpretExpressionAsPattern(e);var a=e.type===u.Syntax.SequenceExpression?e.expressions:[e];e={type:c,params:a}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;this.expectCommaSeparator()}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return e.type===a.Token.Identifier||e.type===a.Token.Keyword||e.type===a.Token.BooleanLiteral||e.type===a.Token.NullLiteral},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new h.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e=this.createNode(),t=this.parseIdentifierName();r.assert("new"===t.name,"New expression must start with `new`");var i;if(this.match("."))if(this.nextToken(),this.lookahead.type===a.Token.Identifier&&this.context.inFunctionBody&&"target"===this.lookahead.value){var n=this.parseIdentifierName();i=new h.MetaProperty(t,n)}else this.throwUnexpectedToken(this.lookahead);else{var s=this.isolateCoverGrammar(this.parseLeftHandSideExpression),o=this.match("(")?this.parseArguments():[];i=new h.NewExpression(s,o),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(e,i)},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e=this.lookahead,t=this.context.allowIn;this.context.allowIn=!0;var i;for(this.matchKeyword("super")&&this.context.inFunctionBody?(i=this.createNode(),this.nextToken(),i=this.finalize(i,new h.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):i=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var r=this.parseIdentifierName();i=this.finalize(this.startNode(e),new h.StaticMemberExpression(i,r))}else if(this.match("(")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var n=this.parseArguments();i=this.finalize(this.startNode(e),new h.CallExpression(i,n))}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var r=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),i=this.finalize(this.startNode(e),new h.ComputedMemberExpression(i,r))}else{if(this.lookahead.type!==a.Token.Template||!this.lookahead.head)break;var s=this.parseTemplateLiteral();i=this.finalize(this.startNode(e),new h.TaggedTemplateExpression(i,s))}return this.context.allowIn=t,i},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new h.Super)},e.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var i=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new h.ComputedMemberExpression(t,i))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var i=this.parseIdentifierName();t=this.finalize(e,new h.StaticMemberExpression(t,i))}else{if(this.lookahead.type!==a.Token.Template||!this.lookahead.head)break;var n=this.parseTemplateLiteral();t=this.finalize(e,new h.TaggedTemplateExpression(t,n))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var i=this.startNode(t),r=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(n.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(n.Messages.InvalidLHSInAssignment);var s=!0;e=this.finalize(i,new h.UpdateExpression(r.value,e,s)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===a.Token.Punctuator&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(n.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(n.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var o=this.nextToken().value,s=!1;e=this.finalize(this.startNode(t),new h.UpdateExpression(o,e,s))}return e},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),i=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new h.UnaryExpression(i.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===u.Syntax.Identifier&&this.tolerateError(n.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==u.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=t,r=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new h.BinaryExpression("**",i,r))}return t},e.prototype.binaryPrecedence=function(e){var t,i=e.value;return t=e.type===a.Token.Punctuator?this.operatorPrecedence[i]||0:e.type===a.Token.Keyword&&("instanceof"===i||this.context.allowIn&&"in"===i)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),i=this.lookahead,r=this.binaryPrecedence(i);if(r>0){this.nextToken(),i.prec=r,this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var n=[e,this.lookahead],s=t,a=this.isolateCoverGrammar(this.parseExponentiationExpression),o=[s,i,a];;){if(r=this.binaryPrecedence(this.lookahead),r<=0)break;for(;o.length>2&&r<=o[o.length-2].prec;){a=o.pop();var u=o.pop().value;s=o.pop(),n.pop();var c=this.startNode(n[n.length-1]);o.push(this.finalize(c,new h.BinaryExpression(u,s,a)))}i=this.nextToken(),i.prec=r,o.push(i),n.push(this.lookahead),o.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var l=o.length-1;for(t=o[l],n.pop();l>1;){var c=this.startNode(n.pop());t=this.finalize(c,new h.BinaryExpression(o[l-1].value,o[l-2],t)),l-=2}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var i=this.context.allowIn;this.context.allowIn=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=i,this.expect(":");var n=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new h.ConditionalExpression(t,r,n)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case u.Syntax.Identifier:this.validateParam(e,t,t.name);break;case u.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case u.Syntax.ArrayPattern:for(var i=0;i<t.elements.length;i++)null!==t.elements[i]&&this.checkPatternParam(e,t.elements[i]);
break;case u.Syntax.YieldExpression:break;default:r.assert(t.type===u.Syntax.ObjectPattern,"Invalid type");for(var i=0;i<t.properties.length;i++)this.checkPatternParam(e,t.properties[i].value)}},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,i=[e];switch(e.type){case u.Syntax.Identifier:break;case c:i=e.params;break;default:return null}t={paramSet:{}};for(var r=0;r<i.length;++r){var s=i[r];s.type===u.Syntax.AssignmentPattern&&s.right.type===u.Syntax.YieldExpression&&(s.right.argument&&this.throwUnexpectedToken(this.lookahead),s.right.type=u.Syntax.Identifier,s.right.name="yield",delete s.right.argument,delete s.right.delegate),this.checkPatternParam(t,s),i[r]=s}if(this.context.strict||!this.context.allowYield)for(var r=0;r<i.length;++r){var s=i[r];s.type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===n.Messages.StrictParamDupe){var a=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(a,t.message)}return{params:i,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,i=t;if(e=this.parseConditionalExpression(),e.type===c||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var r=this.reinterpretAsCoverFormalsList(e);if(r){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var s=this.context.strict,a=this.context.allowYield;this.context.allowYield=!0;var o=this.startNode(t);this.expect("=>");var l=this.match("{")?this.parseFunctionSourceElements():this.isolateCoverGrammar(this.parseAssignmentExpression),p=l.type!==u.Syntax.BlockStatement;this.context.strict&&r.firstRestricted&&this.throwUnexpectedToken(r.firstRestricted,r.message),this.context.strict&&r.stricted&&this.tolerateUnexpectedToken(r.stricted,r.message),e=this.finalize(o,new h.ArrowFunctionExpression(r.params,l,p)),this.context.strict=s,this.context.allowYield=a}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(n.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===u.Syntax.Identifier){var d=e;this.scanner.isRestrictedWord(d.name)&&this.tolerateUnexpectedToken(i,n.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(d.name)&&this.tolerateUnexpectedToken(i,n.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),i=this.nextToken();var m=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new h.AssignmentExpression(i.value,e,m)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var i=[];for(i.push(t);this.startMarker.index<this.scanner.length&&this.match(",");)this.nextToken(),i.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new h.SequenceExpression(i))}return t},e.prototype.parseStatementListItem=function(){var e=null;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===a.Token.Keyword)switch(this.lookahead.value){case"export":"module"!==this.sourceType&&this.tolerateUnexpectedToken(this.lookahead,n.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":"module"!==this.sourceType&&this.tolerateUnexpectedToken(this.lookahead,n.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];;){if(this.match("}"))break;t.push(this.parseStatementListItem())}return this.expect("}"),this.finalize(e,new h.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var i=this.createNode(),r=[],s=this.parsePattern(r,e);this.context.strict&&s.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(s.name)&&this.tolerateError(n.Messages.StrictVarName);var a=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.expect("="),a=this.isolateCoverGrammar(this.parseAssignmentExpression)):(!t.inFor&&s.type!==u.Syntax.Identifier||this.match("="))&&(this.expect("="),a=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(i,new h.VariableDeclarator(s,a))},e.prototype.parseBindingList=function(e,t){for(var i=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),i.push(this.parseLexicalBinding(e,t));return i},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.index,t=this.scanner.lineNumber,i=this.scanner.lineStart;this.collectComments();var r=this.scanner.lex();return this.scanner.index=e,this.scanner.lineNumber=t,this.scanner.lineStart=i,r.type===a.Token.Identifier||r.type===a.Token.Punctuator&&"["===r.value||r.type===a.Token.Punctuator&&"{"===r.value||r.type===a.Token.Keyword&&"let"===r.value||r.type===a.Token.Keyword&&"yield"===r.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),i=this.nextToken().value;r.assert("let"===i||"const"===i,"Lexical declaration must be either let or const");var n=this.parseBindingList(i,e);return this.consumeSemicolon(),this.finalize(t,new h.VariableDeclaration(n,i))},e.prototype.parseBindingRestElement=function(e,t){var i=this.createNode();this.expect("...");var r=this.parsePattern(e,t);return this.finalize(i,new h.RestElement(r))},e.prototype.parseArrayPattern=function(e,t){var i=this.createNode();this.expect("[");for(var r=[];!this.match("]");)if(this.match(","))this.nextToken(),r.push(null);else{if(this.match("...")){r.push(this.parseBindingRestElement(e,t));break}r.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(i,new h.ArrayPattern(r))},e.prototype.parsePropertyPattern=function(e,t){var i,r,n=this.createNode(),s=!1,o=!1,u=!1;if(this.lookahead.type===a.Token.Identifier){var c=this.lookahead;i=this.parseVariableIdentifier();var l=this.finalize(n,new h.Identifier(c.value));if(this.match("=")){e.push(c),o=!0,this.nextToken();var p=this.parseAssignmentExpression();r=this.finalize(this.startNode(c),new h.AssignmentPattern(l,p))}else this.match(":")?(this.expect(":"),r=this.parsePatternWithDefault(e,t)):(e.push(c),o=!0,r=l)}else s=this.match("["),i=this.parseObjectPropertyKey(),this.expect(":"),r=this.parsePatternWithDefault(e,t);return this.finalize(n,new h.Property("init",i,s,r,u,o))},e.prototype.parseObjectPattern=function(e,t){var i=this.createNode(),r=[];for(this.expect("{");!this.match("}");)r.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(i,new h.ObjectPattern(r))},e.prototype.parsePattern=function(e,t){var i;return this.match("[")?i=this.parseArrayPattern(e,t):this.match("{")?i=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,n.Messages.UnexpectedToken),e.push(this.lookahead),i=this.parseVariableIdentifier(t)),i},e.prototype.parsePatternWithDefault=function(e,t){var i=this.lookahead,r=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var n=this.context.allowYield;this.context.allowYield=!0;var s=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=n,r=this.finalize(this.startNode(i),new h.AssignmentPattern(r,s))}return r},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),i=this.nextToken();return i.type===a.Token.Keyword&&"yield"===i.value?(this.context.strict&&this.tolerateUnexpectedToken(i,n.Messages.StrictReservedWord),this.context.allowYield||this.throwUnexpectedToken(i)):i.type!==a.Token.Identifier?this.context.strict&&i.type===a.Token.Keyword&&this.scanner.isStrictModeReservedWord(i.value)?this.tolerateUnexpectedToken(i,n.Messages.StrictReservedWord):(this.context.strict||"let"!==i.value||"var"!==e)&&this.throwUnexpectedToken(i):"module"===this.sourceType&&i.type===a.Token.Identifier&&"await"===i.value&&this.tolerateUnexpectedToken(i),this.finalize(t,new h.Identifier(i.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),i=[],r=this.parsePattern(i,"var");this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(n.Messages.StrictVarName);var s=null;return this.match("=")?(this.nextToken(),s=this.isolateCoverGrammar(this.parseAssignmentExpression)):r.type===u.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new h.VariableDeclarator(r,s))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},i=[];for(i.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),i.push(this.parseVariableDeclaration(t));return i},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new h.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new h.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new h.ExpressionStatement(t))},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),i=null;this.expectKeyword("if"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new h.EmptyStatement)):(this.expect(")"),e=this.parseStatement(),this.matchKeyword("else")&&(this.nextToken(),i=this.parseStatement())),this.finalize(t,new h.IfStatement(r,e,i))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var i=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var r=this.parseExpression();return this.expect(")"),this.match(";")&&this.nextToken(),this.finalize(e,new h.DoWhileStatement(i,r))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var i=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new h.EmptyStatement);else{this.expect(")");var r=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=r}return this.finalize(t,new h.WhileStatement(i,e))},e.prototype.parseForStatement=function(){var e,t,i=null,r=null,s=null,a=!0,o=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){i=this.createNode(),this.nextToken();var c=this.context.allowIn;this.context.allowIn=!1;var l=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=c,1===l.length&&this.matchKeyword("in")){var p=l[0];p.init&&(p.id.type===u.Syntax.ArrayPattern||p.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(n.Messages.ForInOfLoopInitializer,"for-in"),i=this.finalize(i,new h.VariableDeclaration(l,"var")),this.nextToken(),e=i,t=this.parseExpression(),i=null}else 1===l.length&&null===l[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new h.VariableDeclaration(l,"var")),this.nextToken(),e=i,t=this.parseAssignmentExpression(),i=null,a=!1):(i=this.finalize(i,new h.VariableDeclaration(l,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){i=this.createNode();var d=this.nextToken().value;if(this.context.strict||"in"!==this.lookahead.value){var c=this.context.allowIn;this.context.allowIn=!1;var l=this.parseBindingList(d,{inFor:!0});this.context.allowIn=c,1===l.length&&null===l[0].init&&this.matchKeyword("in")?(i=this.finalize(i,new h.VariableDeclaration(l,d)),this.nextToken(),e=i,t=this.parseExpression(),i=null):1===l.length&&null===l[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new h.VariableDeclaration(l,d)),this.nextToken(),e=i,t=this.parseAssignmentExpression(),i=null,a=!1):(this.consumeSemicolon(),i=this.finalize(i,new h.VariableDeclaration(l,d)))}else i=this.finalize(i,new h.Identifier(d)),this.nextToken(),e=i,t=this.parseExpression(),i=null}else{var m=this.lookahead,c=this.context.allowIn;if(this.context.allowIn=!1,i=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=c,this.matchKeyword("in"))this.context.isAssignmentTarget&&i.type!==u.Syntax.AssignmentExpression||this.tolerateError(n.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(i),e=i,t=this.parseExpression(),i=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&i.type!==u.Syntax.AssignmentExpression||this.tolerateError(n.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(i),e=i,t=this.parseAssignmentExpression(),i=null,a=!1;else{if(this.match(",")){for(var D=[i];this.match(",");)this.nextToken(),D.push(this.isolateCoverGrammar(this.parseAssignmentExpression));i=this.finalize(this.startNode(m),new h.SequenceExpression(D))}this.expect(";")}}"undefined"==typeof e&&(this.match(";")||(r=this.parseExpression()),this.expect(";"),this.match(")")||(s=this.parseExpression()));var x;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),x=this.finalize(this.createNode(),new h.EmptyStatement);else{this.expect(")");var f=this.context.inIteration;this.context.inIteration=!0,x=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=f}return"undefined"==typeof e?this.finalize(o,new h.ForStatement(i,r,s,x)):a?this.finalize(o,new h.ForInStatement(e,t,x)):this.finalize(o,new h.ForOfStatement(e,t,x))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(this.lookahead.type===a.Token.Identifier&&!this.hasLineTerminator){t=this.parseVariableIdentifier();var i="$"+t.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(n.Messages.UnknownLabel,t.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(n.Messages.IllegalContinue),this.finalize(e,new h.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(this.lookahead.type===a.Token.Identifier&&!this.hasLineTerminator){t=this.parseVariableIdentifier();var i="$"+t.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(n.Messages.UnknownLabel,t.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(n.Messages.IllegalBreak),this.finalize(e,new h.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(n.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==a.Token.EOF,i=t?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(e,new h.ReturnStatement(i))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(n.Messages.StrictModeWith);var e=this.createNode();this.expectKeyword("with"),this.expect("(");var t=this.parseExpression();this.expect(")");var i=this.parseStatement();return this.finalize(e,new h.WithStatement(t,i))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var i=[];;){if(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"))break;i.push(this.parseStatementListItem())}return this.finalize(t,new h.SwitchCase(e,i))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var i=this.context.inSwitch;this.context.inSwitch=!0;var r=[],s=!1;for(this.expect("{");;){if(this.match("}"))break;var a=this.parseSwitchCase();null===a.test&&(s&&this.throwError(n.Messages.MultipleDefaultsInSwitch),s=!0),r.push(a)}return this.expect("}"),this.context.inSwitch=i,this.finalize(e,new h.SwitchStatement(t,r))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),i=this.parseExpression();if(i.type===u.Syntax.Identifier&&this.match(":")){this.nextToken();var r=i,s="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,s)&&this.throwError(n.Messages.Redeclaration,"Label",r.name),this.context.labelSet[s]=!0;var a=this.parseStatement();delete this.context.labelSet[s],e=new h.LabeledStatement(r,a)}else this.consumeSemicolon(),e=new h.ExpressionStatement(i);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(n.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new h.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],i=this.parsePattern(t),r={},s=0;s<t.length;s++){var a="$"+t[s].value;Object.prototype.hasOwnProperty.call(r,a)&&this.tolerateError(n.Messages.DuplicateBinding,t[s].value),r[a]=!0}this.context.strict&&i.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(n.Messages.StrictCatchVariable),this.expect(")");var o=this.parseBlock();return this.finalize(e,new h.CatchClause(i,o))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),i=this.matchKeyword("catch")?this.parseCatchClause():null,r=this.matchKeyword("finally")?this.parseFinallyClause():null;return i||r||this.throwError(n.Messages.NoCatchOrFinally),this.finalize(e,new h.TryStatement(t,i,r))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new h.DebuggerStatement)},e.prototype.parseStatement=function(){var e=null;switch(this.lookahead.type){case a.Token.BooleanLiteral:case a.Token.NullLiteral:case a.Token.NumericLiteral:case a.Token.StringLiteral:case a.Token.Template:case a.Token.RegularExpression:e=this.parseExpressionStatement();break;case a.Token.Punctuator:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case a.Token.Identifier:e=this.parseLabelledStatement();break;case a.Token.Keyword:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),i=this.context.labelSet,r=this.context.inIteration,n=this.context.inSwitch,s=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.startMarker.index<this.scanner.length&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=i,this.context.inIteration=r,this.context.inSwitch=n,this.context.inFunctionBody=s,this.finalize(e,new h.BlockStatement(t))},e.prototype.validateParam=function(e,t,i){var r="$"+i;this.context.strict?(this.scanner.isRestrictedWord(i)&&(e.stricted=t,e.message=n.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=n.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(i)?(e.firstRestricted=t,e.message=n.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(i)?(e.firstRestricted=t,e.message=n.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=n.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[r]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var i=this.parsePattern(e);return this.match("=")&&this.throwError(n.Messages.DefaultRestParameter),this.match(")")||this.throwError(n.Messages.ParameterAfterRestParameter),this.finalize(t,new h.RestElement(i))},e.prototype.parseFormalParameter=function(e){for(var t=[],i=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),r=0;r<t.length;r++)this.validateParam(e,t[r],t[r].value);return e.params.push(i),!this.match(")")},e.prototype.parseFormalParameters=function(e){var t;if(t={params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};this.startMarker.index<this.scanner.length&&this.parseFormalParameter(t);)this.expect(",");return this.expect(")"),{params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode();this.expectKeyword("function");var i=this.match("*");i&&this.nextToken();var r,s=null,a=null;if(!e||!this.match("(")){var o=this.lookahead;s=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(o.value)&&this.tolerateUnexpectedToken(o,n.Messages.StrictFunctionName):this.scanner.isRestrictedWord(o.value)?(a=o,r=n.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(o.value)&&(a=o,r=n.Messages.StrictReservedWord)}var u=this.context.allowYield;this.context.allowYield=!i;var c=this.parseFormalParameters(a),l=c.params,p=c.stricted;a=c.firstRestricted,c.message&&(r=c.message);var d=this.context.strict,m=this.parseFunctionSourceElements();return this.context.strict&&a&&this.throwUnexpectedToken(a,r),this.context.strict&&p&&this.tolerateUnexpectedToken(p,r),this.context.strict=d,this.context.allowYield=u,this.finalize(t,new h.FunctionDeclaration(s,l,m,i))},e.prototype.parseFunctionExpression=function(){var e=this.createNode();this.expectKeyword("function");var t=this.match("*");t&&this.nextToken();var i,r,s=null,a=this.context.allowYield;if(this.context.allowYield=!t,!this.match("(")){var o=this.lookahead;s=this.context.strict||t||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(o.value)&&this.tolerateUnexpectedToken(o,n.Messages.StrictFunctionName):this.scanner.isRestrictedWord(o.value)?(r=o,i=n.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(o.value)&&(r=o,i=n.Messages.StrictReservedWord)}var u=this.parseFormalParameters(r),c=u.params,l=u.stricted;r=u.firstRestricted,u.message&&(i=u.message);var p=this.context.strict,d=this.parseFunctionSourceElements();return this.context.strict&&r&&this.throwUnexpectedToken(r,i),this.context.strict&&l&&this.tolerateUnexpectedToken(l,i),this.context.strict=p,this.context.allowYield=a,this.finalize(e,new h.FunctionExpression(s,c,d,t))},e.prototype.parseDirective=function(){var e=this.lookahead,t=null,i=this.createNode(),r=this.parseExpression();return r.type===u.Syntax.Literal&&(t=this.getTokenRaw(e).slice(1,-1)),this.consumeSemicolon(),this.finalize(i,t?new h.Directive(r,t):new h.ExpressionStatement(r))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var i=this.lookahead;if(i.type!==a.Token.StringLiteral)break;var r=this.parseDirective();t.push(r);var s=r.directive;if("string"!=typeof s)break;"use strict"===s?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,n.Messages.StrictOctalLiteral)):!e&&i.octal&&(e=i)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case a.Token.Identifier:case a.Token.StringLiteral:case a.Token.BooleanLiteral:case a.Token.NullLiteral:case a.Token.NumericLiteral:case a.Token.Keyword:return!0;case a.Token.Punctuator:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode();this.expect("("),this.expect(")");var t=!1,i={params:[],stricted:null,firstRestricted:null,message:null},r=this.context.allowYield;this.context.allowYield=!1;var n=this.parsePropertyMethod(i);return this.context.allowYield=r,this.finalize(e,new h.FunctionExpression(null,i.params,n,t))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t={params:[],firstRestricted:null,paramSet:{}},i=!1,r=this.context.allowYield;this.context.allowYield=!1,this.expect("("),this.match(")")?this.tolerateUnexpectedToken(this.lookahead):this.parseFormalParameter(t),this.expect(")");var n=this.parsePropertyMethod(t);return this.context.allowYield=r,this.finalize(e,new h.FunctionExpression(null,t.params,n,i))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=!0,i=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();this.context.allowYield=!1;var n=this.parsePropertyMethod(r);return this.context.allowYield=i,this.finalize(e,new h.FunctionExpression(null,r.params,n,t))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case a.Token.Punctuator:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case a.Token.Keyword:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,i=!1;if(!this.hasLineTerminator){var r=this.context.allowYield;this.context.allowYield=!1,i=this.match("*"),i?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=r}return this.finalize(e,new h.YieldExpression(t,i))},e.prototype.parseClassElement=function(e){var t,i,r,s=this.lookahead,o=this.createNode(),u=!1,c=!1,l=!1;if(this.match("*"))this.nextToken();else{u=this.match("["),i=this.parseObjectPropertyKey();var p=i;"static"===p.name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(s=this.lookahead,l=!0,u=this.match("["),this.match("*")?this.nextToken():i=this.parseObjectPropertyKey())}var d=this.qualifiedPropertyName(this.lookahead);return s.type===a.Token.Identifier?"get"===s.value&&d?(t="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,r=this.parseGetterMethod()):"set"===s.value&&d&&(t="set",u=this.match("["),i=this.parseObjectPropertyKey(),r=this.parseSetterMethod()):s.type===a.Token.Punctuator&&"*"===s.value&&d&&(t="init",u=this.match("["),i=this.parseObjectPropertyKey(),r=this.parseGeneratorMethod(),c=!0),!t&&i&&this.match("(")&&(t="init",r=this.parsePropertyMethodFunction(),c=!0),t||this.throwUnexpectedToken(this.lookahead),"init"===t&&(t="method"),u||(l&&this.isPropertyKey(i,"prototype")&&this.throwUnexpectedToken(s,n.Messages.StaticPrototype),!l&&this.isPropertyKey(i,"constructor")&&("method"===t&&c&&!r.generator||this.throwUnexpectedToken(s,n.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(s,n.Messages.DuplicateConstructor):e.value=!0,t="constructor")),this.finalize(o,new h.MethodDefinition(i,u,r,t,l))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new h.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),i=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var r=e&&this.lookahead.type!==a.Token.Identifier?null:this.parseVariableIdentifier(),n=null;this.matchKeyword("extends")&&(this.nextToken(),n=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var s=this.parseClassBody();return this.context.strict=i,this.finalize(t,new h.ClassDeclaration(r,n,s))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var i=this.lookahead.type===a.Token.Identifier?this.parseVariableIdentifier():null,r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var n=this.parseClassBody();return this.context.strict=t,this.finalize(e,new h.ClassExpression(i,r,n))},e.prototype.parseProgram=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();this.startMarker.index<this.scanner.length;)t.push(this.parseStatementListItem());return this.finalize(e,new h.Program(t,this.sourceType))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();this.lookahead.type!==a.Token.StringLiteral&&this.throwError(n.Messages.InvalidModuleSpecifier);var t=this.nextToken(),i=this.getTokenRaw(t);return this.finalize(e,new h.Literal(t.value,i))},e.prototype.parseImportSpecifier=function(){var e,t,i=this.createNode();return this.lookahead.type===a.Token.Identifier?(e=this.parseVariableIdentifier(),t=e,this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(e=this.parseIdentifierName(),t=e,this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(i,new h.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new h.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(n.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new h.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(n.Messages.IllegalImportDeclaration);var e=this.createNode();this.expectKeyword("import");var t,i=[];if(this.lookahead.type===a.Token.StringLiteral)t=this.parseModuleSpecifier();else{if(this.match("{")?i=i.concat(this.parseNamedImports()):this.match("*")?i.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(i.push(this.parseImportDefaultSpecifier()),
this.match(",")&&(this.nextToken(),this.match("*")?i.push(this.parseImportNamespaceSpecifier()):this.match("{")?i=i.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var r=this.lookahead.value?n.Messages.UnexpectedToken:n.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken(),t=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(e,new h.ImportDeclaration(i,t))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),i=t;return this.matchContextualKeyword("as")&&(this.nextToken(),i=this.parseIdentifierName()),this.finalize(e,new h.ExportSpecifier(t,i))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(n.Messages.IllegalExportDeclaration);var e=this.createNode();this.expectKeyword("export");var t;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var i=this.parseFunctionDeclaration(!0);t=this.finalize(e,new h.ExportDefaultDeclaration(i))}else if(this.matchKeyword("class")){var i=this.parseClassDeclaration(!0);t=this.finalize(e,new h.ExportDefaultDeclaration(i))}else{this.matchContextualKeyword("from")&&this.throwError(n.Messages.UnexpectedToken,this.lookahead.value);var i=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),t=this.finalize(e,new h.ExportDefaultDeclaration(i))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var r=this.lookahead.value?n.Messages.UnexpectedToken:n.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken();var s=this.parseModuleSpecifier();this.consumeSemicolon(),t=this.finalize(e,new h.ExportAllDeclaration(s))}else if(this.lookahead.type===a.Token.Keyword){var i=void 0;switch(this.lookahead.value){case"let":case"const":i=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":i=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}t=this.finalize(e,new h.ExportNamedDeclaration(i,[],null))}else{var o=[],u=null,c=!1;for(this.expect("{");!this.match("}");)c=c||this.matchKeyword("default"),o.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),u=this.parseModuleSpecifier(),this.consumeSemicolon();else if(c){var r=this.lookahead.value?n.Messages.UnexpectedToken:n.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}else this.consumeSemicolon();t=this.finalize(e,new h.ExportNamedDeclaration(null,o,u))}return t},e}();t.Parser=l},function(e,t){"use strict";function i(e,t){if(!e)throw new Error("ASSERT: "+t)}t.assert=i},function(e,t){"use strict";t.Messages={UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer"}},function(e,t){"use strict";var i=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var i=new Error(e);try{throw i}catch(e){Object.create&&Object.defineProperty&&(i=Object.create(e),Object.defineProperty(i,"column",{value:t}))}finally{return i}},e.prototype.createError=function(e,t,i,r){var n="Line "+t+": "+r,s=this.constructError(n,i);return s.index=e,s.lineNumber=t,s.description=r,s},e.prototype.throwError=function(e,t,i,r){throw this.createError(e,t,i,r)},e.prototype.tolerateError=function(e,t,i,r){var n=this.createError(e,t,i,r);if(!this.tolerant)throw n;this.recordError(n)},e}();t.ErrorHandler=i},function(e,t){"use strict";!function(e){e[e.BooleanLiteral=1]="BooleanLiteral",e[e.EOF=2]="EOF",e[e.Identifier=3]="Identifier",e[e.Keyword=4]="Keyword",e[e.NullLiteral=5]="NullLiteral",e[e.NumericLiteral=6]="NumericLiteral",e[e.Punctuator=7]="Punctuator",e[e.StringLiteral=8]="StringLiteral",e[e.RegularExpression=9]="RegularExpression",e[e.Template=10]="Template"}(t.Token||(t.Token={}));var i=t.Token;t.TokenName={},t.TokenName[i.BooleanLiteral]="Boolean",t.TokenName[i.EOF]="<end>",t.TokenName[i.Identifier]="Identifier",t.TokenName[i.Keyword]="Keyword",t.TokenName[i.NullLiteral]="Null",t.TokenName[i.NumericLiteral]="Numeric",t.TokenName[i.Punctuator]="Punctuator",t.TokenName[i.StringLiteral]="String",t.TokenName[i.RegularExpression]="RegularExpression",t.TokenName[i.Template]="Template"},function(e,t,i){"use strict";function r(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function n(e){return"01234567".indexOf(e)}var s=i(4),a=i(5),o=i(9),u=i(7),h=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){void 0===e&&(e=a.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,a.Messages.UnexpectedTokenIllegal)},e.prototype.skipSingleLineComment=function(e){var t,i,r;for(this.trackComment&&(t=[],i=this.index-e,r={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var n=this.source.charCodeAt(this.index);if(++this.index,o.Character.isLineTerminator(n)){if(this.trackComment){r.end={line:this.lineNumber,column:this.index-this.lineStart-1};var s={multiLine:!1,slice:[i+e,this.index-1],range:[i,this.index-1],loc:r};t.push(s)}return 13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t}}if(this.trackComment){r.end={line:this.lineNumber,column:this.index-this.lineStart};var s={multiLine:!1,slice:[i+e,this.index],range:[i,this.index],loc:r};t.push(s)}return t},e.prototype.skipMultiLineComment=function(){var e,t,i;for(this.trackComment&&(e=[],t=this.index-2,i={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var r=this.source.charCodeAt(this.index);if(o.Character.isLineTerminator(r))13===r&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===r){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){i.end={line:this.lineNumber,column:this.index-this.lineStart};var n={multiLine:!0,slice:[t+2,this.index-2],range:[t,this.index],loc:i};e.push(n)}return e}++this.index}else++this.index}if(this.trackComment){i.end={line:this.lineNumber,column:this.index-this.lineStart};var n={multiLine:!0,slice:[t+2,this.index],range:[t,this.index],loc:i};e.push(n)}return this.tolerateUnexpectedToken(),e},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var i=this.source.charCodeAt(this.index);if(o.Character.isWhiteSpace(i))++this.index;else if(o.Character.isLineTerminator(i))++this.index,13===i&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===i)if(i=this.source.charCodeAt(this.index+1),47===i){this.index+=2;var r=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(r)),t=!0}else{if(42!==i)break;this.index+=2;var r=this.skipMultiLineComment();this.trackComment&&(e=e.concat(r))}else if(t&&45===i){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3;var r=this.skipSingleLineComment(3);this.trackComment&&(e=e.concat(r))}else{if(60!==i)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;var r=this.skipSingleLineComment(4);this.trackComment&&(e=e.concat(r))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var i=this.source.charCodeAt(e+1);if(i>=56320&&i<=57343){var r=t;t=1024*(r-55296)+i-56320+65536}}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,i=0,n=0;n<t;++n){if(this.eof()||!o.Character.isHexDigit(this.source.charCodeAt(this.index)))return"";i=16*i+r(this.source[this.index++])}return String.fromCharCode(i)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],o.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+r(e);return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),o.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!o.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e=this.codePointAt(this.index),t=o.Character.fromCodePoint(e);this.index+=t.length;var i;for(92===e&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,i=this.scanUnicodeCodePointEscape()):(i=this.scanHexEscape("u"),e=i.charCodeAt(0),i&&"\\"!==i&&o.Character.isIdentifierStart(e)||this.throwUnexpectedToken()),t=i);!this.eof()&&(e=this.codePointAt(this.index),o.Character.isIdentifierPart(e));)i=o.Character.fromCodePoint(e),t+=i,this.index+=i.length,92===e&&(t=t.substr(0,t.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,i=this.scanUnicodeCodePointEscape()):(i=this.scanHexEscape("u"),e=i.charCodeAt(0),i&&"\\"!==i&&o.Character.isIdentifierPart(e)||this.throwUnexpectedToken()),t+=i);return t},e.prototype.octalToDecimal=function(e){var t="0"!==e,i=n(e);return!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,i=8*i+n(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(i=8*i+n(this.source[this.index++]))),{code:i,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,i=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();return e=1===i.length?u.Token.Identifier:this.isKeyword(i)?u.Token.Keyword:"null"===i?u.Token.NullLiteral:"true"===i||"false"===i?u.Token.BooleanLiteral:u.Token.Identifier,{type:e,value:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e={type:u.Token.Punctuator,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index},t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:t=this.source.substr(this.index,4),">>>="===t?this.index+=4:(t=t.substr(0,3),"==="===t||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:(t=t.substr(0,2),"&&"===t||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],"<>=!+-*%&|^/".indexOf(t)>=0&&++this.index)))}return this.index===e.start&&this.throwUnexpectedToken(),e.end=this.index,e.value=t,e},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&o.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),o.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:u.Token.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,i="";!this.eof()&&(t=this.source[this.index],"0"===t||"1"===t);)i+=this.source[this.index++];return 0===i.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(o.Character.isIdentifierStart(t)||o.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:u.Token.NumericLiteral,value:parseInt(i,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var i="",r=!1;for(o.Character.isOctalDigit(e.charCodeAt(0))?(r=!0,i="0"+this.source[this.index++]):++this.index;!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];return r||0!==i.length||this.throwUnexpectedToken(),(o.Character.isIdentifierStart(this.source.charCodeAt(this.index))||o.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:u.Token.NumericLiteral,value:parseInt(i,8),octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!o.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];s.assert(o.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var i="";if("."!==t){if(i=this.source[this.index++],t=this.source[this.index],"0"===i){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&o.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(i+=this.source[this.index++];o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(i+=this.source[this.index++],t=this.source[this.index],"+"!==t&&"-"!==t||(i+=this.source[this.index++]),o.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];else this.throwUnexpectedToken();return o.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:u.Token.NumericLiteral,value:parseFloat(i),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];s.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var i=!1,r="";!this.eof();){var n=this.source[this.index++];if(n===t){t="";break}if("\\"===n)if(n=this.source[this.index++],n&&o.Character.isLineTerminator(n.charCodeAt(0)))++this.lineNumber,"\r"===n&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(n){case"u":case"x":if("{"===this.source[this.index])++this.index,r+=this.scanUnicodeCodePointEscape();else{var a=this.scanHexEscape(n);a||this.throwUnexpectedToken(),r+=a}break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;case"8":case"9":r+=n,this.tolerateUnexpectedToken();break;default:if(n&&o.Character.isOctalDigit(n.charCodeAt(0))){var h=this.octalToDecimal(n);i=h.octal||i,r+=String.fromCharCode(h.code)}else r+=n}else{if(o.Character.isLineTerminator(n.charCodeAt(0)))break;r+=n}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:u.Token.StringLiteral,value:r,octal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,i=this.index,r="`"===this.source[i],n=!1,s=2;for(++this.index;!this.eof();){var h=this.source[this.index++];if("`"===h){s=1,n=!0,t=!0;break}if("$"===h){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=h}else if("\\"===h)if(h=this.source[this.index++],o.Character.isLineTerminator(h.charCodeAt(0)))++this.lineNumber,"\r"===h&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(h){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":case"x":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var c=this.index,l=this.scanHexEscape(h);l?e+=l:(this.index=c,e+=h)}break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===h?(o.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral),e+="\0"):o.Character.isOctalDigit(h.charCodeAt(0))?this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral):e+=h}else o.Character.isLineTerminator(h.charCodeAt(0))?(++this.lineNumber,"\r"===h&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=h}return t||this.throwUnexpectedToken(),r||this.curlyStack.pop(),{type:u.Token.Template,value:{cooked:e,raw:this.source.slice(i+1,this.index-s)},head:r,tail:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}},e.prototype.testRegExp=function(e,t){var i="￿",r=e,n=this;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(e,t,r){var s=parseInt(t||r,16);return s>1114111&&n.throwUnexpectedToken(a.Messages.InvalidRegExp),s<=65535?String.fromCharCode(s):i}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i));try{RegExp(r)}catch(e){this.throwUnexpectedToken(a.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];s.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],i=!1,r=!1;!this.eof();)if(e=this.source[this.index++],t+=e,"\\"===e)e=this.source[this.index++],o.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),t+=e;else if(o.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(a.Messages.UnterminatedRegExp);else if(i)"]"===e&&(i=!1);else{if("/"===e){r=!0;break}"["===e&&(i=!0)}r||this.throwUnexpectedToken(a.Messages.UnterminatedRegExp);var n=t.substr(1,t.length-2);return{value:n,literal:t}},e.prototype.scanRegExpFlags=function(){for(var e="",t="";!this.eof();){var i=this.source[this.index];if(!o.Character.isIdentifierPart(i.charCodeAt(0)))break;if(++this.index,"\\"!==i||this.eof())t+=i,e+=i;else if(i=this.source[this.index],"u"===i){++this.index;var r=this.index;if(i=this.scanHexEscape("u"))for(t+=i,e+="\\u";r<this.index;++r)e+=this.source[r];else this.index=r,t+="u",e+="\\u";this.tolerateUnexpectedToken()}else e+="\\",this.tolerateUnexpectedToken()}return{value:t,literal:e}},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),i=this.scanRegExpFlags(),r=this.testRegExp(t.value,i.value);return{type:u.Token.RegularExpression,value:r,literal:t.literal+i.literal,regex:{pattern:t.value,flags:i.value},lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:u.Token.EOF,lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return o.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?o.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():o.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&o.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=h},function(e,t){"use strict";var i={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/
};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&i.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&i.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,i){"use strict";var r=i(2),n=function(){function e(e){this.type=r.Syntax.ArrayExpression,this.elements=e}return e}();t.ArrayExpression=n;var s=function(){function e(e){this.type=r.Syntax.ArrayPattern,this.elements=e}return e}();t.ArrayPattern=s;var a=function(){function e(e,t,i){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=i}return e}();t.ArrowFunctionExpression=a;var o=function(){function e(e,t,i){this.type=r.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=i}return e}();t.AssignmentExpression=o;var u=function(){function e(e,t){this.type=r.Syntax.AssignmentPattern,this.left=e,this.right=t}return e}();t.AssignmentPattern=u;var h=function(){function e(e,t,i){var n="||"===e||"&&"===e;this.type=n?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=i}return e}();t.BinaryExpression=h;var c=function(){function e(e){this.type=r.Syntax.BlockStatement,this.body=e}return e}();t.BlockStatement=c;var l=function(){function e(e){this.type=r.Syntax.BreakStatement,this.label=e}return e}();t.BreakStatement=l;var p=function(){function e(e,t){this.type=r.Syntax.CallExpression,this.callee=e,this.arguments=t}return e}();t.CallExpression=p;var d=function(){function e(e,t){this.type=r.Syntax.CatchClause,this.param=e,this.body=t}return e}();t.CatchClause=d;var m=function(){function e(e){this.type=r.Syntax.ClassBody,this.body=e}return e}();t.ClassBody=m;var D=function(){function e(e,t,i){this.type=r.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=i}return e}();t.ClassDeclaration=D;var x=function(){function e(e,t,i){this.type=r.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=i}return e}();t.ClassExpression=x;var f=function(){function e(e,t){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t}return e}();t.ComputedMemberExpression=f;var E=function(){function e(e,t,i){this.type=r.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=i}return e}();t.ConditionalExpression=E;var C=function(){function e(e){this.type=r.Syntax.ContinueStatement,this.label=e}return e}();t.ContinueStatement=C;var y=function(){function e(){this.type=r.Syntax.DebuggerStatement}return e}();t.DebuggerStatement=y;var A=function(){function e(e,t){this.type=r.Syntax.ExpressionStatement,this.expression=e,this.directive=t}return e}();t.Directive=A;var S=function(){function e(e,t){this.type=r.Syntax.DoWhileStatement,this.body=e,this.test=t}return e}();t.DoWhileStatement=S;var v=function(){function e(){this.type=r.Syntax.EmptyStatement}return e}();t.EmptyStatement=v;var F=function(){function e(e){this.type=r.Syntax.ExportAllDeclaration,this.source=e}return e}();t.ExportAllDeclaration=F;var g=function(){function e(e){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=e}return e}();t.ExportDefaultDeclaration=g;var k=function(){function e(e,t,i){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=i}return e}();t.ExportNamedDeclaration=k;var w=function(){function e(e,t){this.type=r.Syntax.ExportSpecifier,this.exported=t,this.local=e}return e}();t.ExportSpecifier=w;var T=function(){function e(e){this.type=r.Syntax.ExpressionStatement,this.expression=e}return e}();t.ExpressionStatement=T;var B=function(){function e(e,t,i){this.type=r.Syntax.ForInStatement,this.left=e,this.right=t,this.body=i,this.each=!1}return e}();t.ForInStatement=B;var b=function(){function e(e,t,i){this.type=r.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=i}return e}();t.ForOfStatement=b;var N=function(){function e(e,t,i,n){this.type=r.Syntax.ForStatement,this.init=e,this.test=t,this.update=i,this.body=n}return e}();t.ForStatement=N;var I=function(){function e(e,t,i,n){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=i,this.generator=n,this.expression=!1}return e}();t.FunctionDeclaration=I;var P=function(){function e(e,t,i,n){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=i,this.generator=n,this.expression=!1}return e}();t.FunctionExpression=P;var M=function(){function e(e){this.type=r.Syntax.Identifier,this.name=e}return e}();t.Identifier=M;var L=function(){function e(e,t,i){this.type=r.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=i}return e}();t.IfStatement=L;var X=function(){function e(e,t){this.type=r.Syntax.ImportDeclaration,this.specifiers=e,this.source=t}return e}();t.ImportDeclaration=X;var J=function(){function e(e){this.type=r.Syntax.ImportDefaultSpecifier,this.local=e}return e}();t.ImportDefaultSpecifier=J;var U=function(){function e(e){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=e}return e}();t.ImportNamespaceSpecifier=U;var z=function(){function e(e,t){this.type=r.Syntax.ImportSpecifier,this.local=e,this.imported=t}return e}();t.ImportSpecifier=z;var R=function(){function e(e,t){this.type=r.Syntax.LabeledStatement,this.label=e,this.body=t}return e}();t.LabeledStatement=R;var O=function(){function e(e,t){this.type=r.Syntax.Literal,this.value=e,this.raw=t}return e}();t.Literal=O;var K=function(){function e(e,t){this.type=r.Syntax.MetaProperty,this.meta=e,this.property=t}return e}();t.MetaProperty=K;var H=function(){function e(e,t,i,n,s){this.type=r.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=i,this.kind=n,this.static=s}return e}();t.MethodDefinition=H;var W=function(){function e(e,t){this.type=r.Syntax.NewExpression,this.callee=e,this.arguments=t}return e}();t.NewExpression=W;var j=function(){function e(e){this.type=r.Syntax.ObjectExpression,this.properties=e}return e}();t.ObjectExpression=j;var G=function(){function e(e){this.type=r.Syntax.ObjectPattern,this.properties=e}return e}();t.ObjectPattern=G;var V=function(){function e(e,t){this.type=r.Syntax.Program,this.body=e,this.sourceType=t}return e}();t.Program=V;var Y=function(){function e(e,t,i,n,s,a){this.type=r.Syntax.Property,this.key=t,this.computed=i,this.value=n,this.kind=e,this.method=s,this.shorthand=a}return e}();t.Property=Y;var q=function(){function e(e,t,i){this.type=r.Syntax.Literal,this.value=e,this.raw=t,this.regex=i}return e}();t.RegexLiteral=q;var _=function(){function e(e){this.type=r.Syntax.RestElement,this.argument=e}return e}();t.RestElement=_;var $=function(){function e(e){this.type=r.Syntax.ReturnStatement,this.argument=e}return e}();t.ReturnStatement=$;var Z=function(){function e(e){this.type=r.Syntax.SequenceExpression,this.expressions=e}return e}();t.SequenceExpression=Z;var Q=function(){function e(e){this.type=r.Syntax.SpreadElement,this.argument=e}return e}();t.SpreadElement=Q;var ee=function(){function e(e,t){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t}return e}();t.StaticMemberExpression=ee;var te=function(){function e(){this.type=r.Syntax.Super}return e}();t.Super=te;var ie=function(){function e(e,t){this.type=r.Syntax.SwitchCase,this.test=e,this.consequent=t}return e}();t.SwitchCase=ie;var re=function(){function e(e,t){this.type=r.Syntax.SwitchStatement,this.discriminant=e,this.cases=t}return e}();t.SwitchStatement=re;var ne=function(){function e(e,t){this.type=r.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t}return e}();t.TaggedTemplateExpression=ne;var se=function(){function e(e,t){this.type=r.Syntax.TemplateElement,this.value=e,this.tail=t}return e}();t.TemplateElement=se;var ae=function(){function e(e,t){this.type=r.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t}return e}();t.TemplateLiteral=ae;var oe=function(){function e(){this.type=r.Syntax.ThisExpression}return e}();t.ThisExpression=oe;var ue=function(){function e(e){this.type=r.Syntax.ThrowStatement,this.argument=e}return e}();t.ThrowStatement=ue;var he=function(){function e(e,t,i){this.type=r.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=i}return e}();t.TryStatement=he;var ce=function(){function e(e,t){this.type=r.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0}return e}();t.UnaryExpression=ce;var le=function(){function e(e,t,i){this.type=r.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=i}return e}();t.UpdateExpression=le;var pe=function(){function e(e,t){this.type=r.Syntax.VariableDeclaration,this.declarations=e,this.kind=t}return e}();t.VariableDeclaration=pe;var de=function(){function e(e,t){this.type=r.Syntax.VariableDeclarator,this.id=e,this.init=t}return e}();t.VariableDeclarator=de;var me=function(){function e(e,t){this.type=r.Syntax.WhileStatement,this.test=e,this.body=t}return e}();t.WhileStatement=me;var De=function(){function e(e,t){this.type=r.Syntax.WithStatement,this.object=e,this.body=t}return e}();t.WithStatement=De;var xe=function(){function e(e,t){this.type=r.Syntax.YieldExpression,this.argument=e,this.delegate=t}return e}();t.YieldExpression=xe},function(e,t,i){"use strict";function r(e){var t;switch(e.type){case c.JSXSyntax.JSXIdentifier:var i=e;t=i.name;break;case c.JSXSyntax.JSXNamespacedName:var n=e;t=r(n.namespace)+":"+r(n.name);break;case c.JSXSyntax.JSXMemberExpression:var s=e;t=r(s.object)+"."+r(s.property)}return t}var n,s=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(9),o=i(7),u=i(3),h=i(12),c=i(13),l=i(10),p=i(14);!function(e){e[e.Identifier=100]="Identifier",e[e.Text=101]="Text"}(n||(n={})),o.TokenName[n.Identifier]="JSXIdentifier",o.TokenName[n.Text]="JSXText";var d=function(e){function t(t,i,r){e.call(this,t,i,r)}return s(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.lineNumber,this.scanner.lineStart=this.startMarker.lineStart},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t="&",i=!0,r=!1,n=!1,s=!1;!this.scanner.eof()&&i&&!r;){var o=this.scanner.source[this.scanner.index];if(o===e)break;if(r=";"===o,t+=o,++this.scanner.index,!r)switch(t.length){case 2:n="#"===o;break;case 3:n&&(s="x"===o,i=s||a.Character.isDecimalDigit(o.charCodeAt(0)),n=n&&!s);break;default:i=i&&!(n&&!a.Character.isDecimalDigit(o.charCodeAt(0))),i=i&&!(s&&!a.Character.isHexDigit(o.charCodeAt(0)))}}if(i&&r&&t.length>2){var u=t.substr(1,t.length-2);n&&u.length>1?t=String.fromCharCode(parseInt(u.substr(1),10)):s&&u.length>2?t=String.fromCharCode(parseInt("0"+u.substr(1),16)):n||s||!h.XHTMLEntities[u]||(t=h.XHTMLEntities[u])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e){var t=this.scanner.source[this.scanner.index++];return{type:o.Token.Punctuator,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(34===e||39===e){for(var i=this.scanner.index,r=this.scanner.source[this.scanner.index++],s="";!this.scanner.eof();){var u=this.scanner.source[this.scanner.index++];if(u===r)break;s+="&"===u?this.scanXHTMLEntity(r):u}return{type:o.Token.StringLiteral,value:s,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:i,end:this.scanner.index}}if(46===e){var h=this.scanner.source.charCodeAt(this.scanner.index+1),c=this.scanner.source.charCodeAt(this.scanner.index+2),t=46===h&&46===c?"...":".",i=this.scanner.index;return this.scanner.index+=t.length,{type:o.Token.Punctuator,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:i,end:this.scanner.index}}if(96===e)return{type:o.Token.Template,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(a.Character.isIdentifierStart(e)&&92!==e){var i=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var u=this.scanner.source.charCodeAt(this.scanner.index);if(a.Character.isIdentifierPart(u)&&92!==u)++this.scanner.index;else{if(45!==u)break;++this.scanner.index}}var l=this.scanner.source.slice(i,this.scanner.index);return{type:n.Identifier,value:l,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:i,end:this.scanner.index}}this.scanner.throwUnexpectedToken()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var i=this.scanner.source[this.scanner.index];if("{"===i||"<"===i)break;++this.scanner.index,t+=i,a.Character.isLineTerminator(i.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===i&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart;var r={type:n.Text,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(r)),r},t.prototype.peekJSXToken=function(){var e=this.scanner.index,t=this.scanner.lineNumber,i=this.scanner.lineStart;this.scanner.scanComments();var r=this.lexJSX();return this.scanner.index=e,this.scanner.lineNumber=t,this.scanner.lineStart=i,r},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();t.type===o.Token.Punctuator&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return t.type===o.Token.Punctuator&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return t.type!==n.Identifier&&this.throwUnexpectedToken(t),this.finalize(e,new p.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var i=t;this.expectJSX(":");var r=this.parseJSXIdentifier();t=this.finalize(e,new p.JSXNamespacedName(i,r))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var n=t;this.expectJSX(".");var s=this.parseJSXIdentifier();t=this.finalize(e,new p.JSXMemberExpression(n,s))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),i=this.parseJSXIdentifier();if(this.matchJSX(":")){var r=i;this.expectJSX(":");var n=this.parseJSXIdentifier();e=this.finalize(t,new p.JSXNamespacedName(r,n))}else e=i;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();t.type!==o.Token.StringLiteral&&this.throwUnexpectedToken(t);var i=this.getTokenRaw(t);return this.finalize(e,new l.Literal(t.value,i))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new p.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),i=null;return this.matchJSX("=")&&(this.expectJSX("="),i=this.parseJSXAttributeValue()),this.finalize(e,new p.JSXAttribute(t,i))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new p.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),i=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new p.JSXOpeningElement(t,r,i))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new p.JSXClosingElement(t))}var i=this.parseJSXElementName(),r=this.parseJSXAttributes(),n=this.matchJSX("/");return n&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new p.JSXOpeningElement(i,n,r))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.finalize(e,new p.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e=this.createJSXNode();this.expectJSX("{");var t;return this.matchJSX("}")?(t=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),t=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(e,new p.JSXExpressionContainer(t))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),i=this.nextJSXText();if(i.start<i.end){var r=this.getTokenRaw(i),n=this.finalize(t,new p.JSXText(i.value,r));e.push(n)}if("{"!==this.scanner.source[this.scanner.index])break;var s=this.parseJSXExpressionContainer();e.push(s)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var i=this.createJSXChildNode(),n=this.parseJSXBoundaryElement();if(n.type===c.JSXSyntax.JSXOpeningElement){var s=n;if(s.selfClosing){var a=this.finalize(i,new p.JSXElement(s,[],null));e.children.push(a)}else t.push(e),e={node:i,opening:s,closing:null,children:[]}}if(n.type===c.JSXSyntax.JSXClosingElement){e.closing=n;var o=r(e.opening.name),u=r(e.closing.name);if(o!==u&&this.tolerateError("Expected corresponding JSX closing tag for %0",o),!(t.length>0))break;var a=this.finalize(e.node,new p.JSXElement(e.opening,e.children,e.closing));e=t.pop(),e.children.push(a)}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),i=[],r=null;if(!t.selfClosing){var n=this.parseComplexJSXElement({node:e,opening:t,closing:r,children:i});i=n.children,r=n.closing}return this.finalize(e,new p.JSXElement(t,i,r))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t}(u.Parser);t.JSXParser=d},function(e,t){"use strict";t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(e,t){"use strict";t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,i){"use strict";var r=i(13),n=function(){function e(e){this.type=r.JSXSyntax.JSXClosingElement,this.name=e}return e}();t.JSXClosingElement=n;var s=function(){function e(e,t,i){this.type=r.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=i}return e}();t.JSXElement=s;var a=function(){function e(){this.type=r.JSXSyntax.JSXEmptyExpression}return e}();t.JSXEmptyExpression=a;var o=function(){function e(e){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=e}return e}();t.JSXExpressionContainer=o;var u=function(){function e(e){this.type=r.JSXSyntax.JSXIdentifier,this.name=e}return e}();t.JSXIdentifier=u;var h=function(){function e(e,t){this.type=r.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t}return e}();t.JSXMemberExpression=h;var c=function(){function e(e,t){this.type=r.JSXSyntax.JSXAttribute,this.name=e,this.value=t}return e}();t.JSXAttribute=c;var l=function(){function e(e,t){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t}return e}();t.JSXNamespacedName=l;var p=function(){function e(e,t,i){this.type=r.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=i}return e}();t.JSXOpeningElement=p;var d=function(){function e(e){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=e}return e}();t.JSXSpreadAttribute=d;var m=function(){function e(e,t){this.type=r.JSXSyntax.JSXText,this.value=e,this.raw=t}return e}();t.JSXText=m},function(e,t,i){"use strict";var r=i(8),n=i(6),s=i(7),a=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var i=this.values[this.paren-1];t="if"===i||"while"===i||"for"===i||"with"===i;break;case"}":if(t=!1,"function"===this.values[this.curly-3]){var r=this.values[this.curly-4];t=!!r&&!this.beforeFunctionExpression(r)}else if("function"===this.values[this.curly-4]){var n=this.values[this.curly-5];t=!n||!this.beforeFunctionExpression(n)}}return t},e.prototype.push=function(e){e.type===s.Token.Punctuator||e.type===s.Token.Keyword?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),o=function(){function e(e,t){this.errorHandler=new n.ErrorHandler,this.errorHandler.tolerant=!!t&&("boolean"==typeof t.tolerant&&t.tolerant),this.scanner=new r.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&("boolean"==typeof t.comment&&t.comment),this.trackRange=!!t&&("boolean"==typeof t.range&&t.range),this.trackLoc=!!t&&("boolean"==typeof t.loc&&t.loc),this.buffer=[],this.reader=new a}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var i=e[t],r=void 0,n=this.scanner.source.slice(i.slice[0],i.slice[1]);r={type:i.multiLine?"BlockComment":"LineComment",value:n},this.trackRange&&(r.range=i.range),this.trackLoc&&(r.loc=i.loc),this.buffer.push(r)}if(!this.scanner.eof()){var a=void 0;this.trackLoc&&(a={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var o=void 0;o="/"===this.scanner.source[this.scanner.index]?this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.scanPunctuator():this.scanner.lex(),this.reader.push(o);var u=void 0;u={type:s.TokenName[o.type],value:this.scanner.source.slice(o.start,o.end)},this.trackRange&&(u.range=[o.start,o.end]),this.trackLoc&&(a.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},u.loc=a),o.regex&&(u.regex=o.regex),this.buffer.push(u)}}return this.buffer.shift()},e}();t.Tokenizer=o}])})});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/parseJavaScript", function(require, exports, module, __filename, __dirname) { 'use strict';
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;

const esprima = require('/esprima$3.1.3/dist/esprima'/*'esprima'*/);

function parseExpression(src, builder, isExpression) {
    ok(typeof src === 'string', '"src" should be a string expression');
    ok(builder, '"builder" is required');

    function convert(node) {

        if (Array.isArray(node)) {
            let nodes = node;
            for (let i=0; i<nodes.length; i++) {
                var converted = convert(nodes[i]);
                if (converted == null) {
                    return null;
                }
                nodes[i] = converted;
            }
            return nodes;
        }

        switch(node.type) {
            case 'ArrayExpression': {
                let elements = convert(node.elements);
                if (!elements) {
                    return null;
                }
                return builder.arrayExpression(elements);
            }
            case 'AssignmentExpression': {
                let left = convert(node.left);
                if (!left) {
                    return null;
                }

                let right = convert(node.right);
                if (!right) {
                    return null;
                }

                return builder.assignment(left, right, node.operator);
            }
            case 'BinaryExpression': {
                let left = convert(node.left);
                if (!left) {
                    return null;
                }

                let right = convert(node.right);
                if (!right) {
                    return null;
                }

                return builder.binaryExpression(left, node.operator, right);
            }
            case 'BlockStatement': {
                let body = convert(node.body);
                if (!body) {
                    return null;
                }

                return body;
            }
            case 'CallExpression': {
                let callee = convert(node.callee);

                if (!callee) {
                    return null;
                }

                let args = convert(node.arguments);
                if (!args) {
                    return null;
                }

                return builder.functionCall(callee, args);
            }
            case 'ConditionalExpression': {
                let test = convert(node.test);

                if (!test) {
                    return null;
                }

                let consequent = convert(node.consequent);

                if (!consequent) {
                    return null;
                }

                let alternate = convert(node.alternate);

                if (!alternate) {
                    return null;
                }

                return builder.conditionalExpression(test, consequent, alternate);
            }
            case 'ExpressionStatement': {
                return convert(node.expression);
            }
            case 'FunctionDeclaration':
            case 'FunctionExpression': {
                let name = null;

                if (node.id) {
                    name = convert(node.id);
                    if (name == null) {
                        return null;
                    }
                }

                let params = convert(node.params);
                if (!params) {
                    return null;
                }

                let body = convert(node.body);
                if (!body) {
                    return null;
                }

                return builder.functionDeclaration(name, params, body);
            }
            case 'Identifier': {
                return builder.identifier(node.name);
            }
            case 'Literal': {
                let literalValue;

                if (node.regex) {
                    literalValue = new RegExp(node.regex.pattern, node.regex.flags);
                } else {
                    literalValue = node.value;
                }

                return builder.literal(literalValue);
            }
            case 'LogicalExpression': {
                let left = convert(node.left);
                if (!left) {
                    return null;
                }

                let right = convert(node.right);
                if (!right) {
                    return null;
                }

                return builder.logicalExpression(left, node.operator, right);
            }
            case 'MemberExpression': {
                let object = convert(node.object);
                if (!object) {
                    return null;
                }

                let property = convert(node.property);
                if (!property) {
                    return null;
                }

                return builder.memberExpression(object, property, node.computed);
            }
            case 'NewExpression': {
                let callee = convert(node.callee);

                if (!callee) {
                    return null;
                }

                let args = convert(node.arguments);
                if (!args) {
                    return null;
                }

                return builder.newExpression(callee, args);
            }
            case 'Program': {
                if (node.body && node.body.length === 1) {
                    return convert(node.body[0]);
                }
                return null;
            }
            case 'ObjectExpression': {
                let properties = convert(node.properties);
                if (!properties) {
                    return null;
                }
                return builder.objectExpression(properties);
            }
            case 'Property': {
                let key = convert(node.key);
                if (!key) {
                    return null;
                }
                let value = convert(node.value);
                if (!value) {
                    return null;
                }
                return builder.property(key, value);
            }
            case 'ReturnStatement': {
                let argument = convert(node.argument);
                if (!argument) {
                    return null;
                }

                return builder.returnStatement(argument);
            }
            case 'ThisExpression': {
                return builder.thisExpression();
            }
            case 'UnaryExpression': {
                let argument = convert(node.argument);
                if (!argument) {
                    return null;
                }

                return builder.unaryExpression(argument, node.operator, node.prefix);
            }
            case 'UpdateExpression': {
                let argument = convert(node.argument);
                if (!argument) {
                    return null;
                }

                return builder.updateExpression(argument, node.operator, node.prefix);
            }
            case 'VariableDeclarator': {
                var id = convert(node.id);
                if (!id) {
                    return null;
                }

                var init;

                if (node.init) {
                    init = convert(node.init);
                    if (!init) {
                        return null;
                    }
                }

                return builder.variableDeclarator(id, init);
            }
            case 'VariableDeclaration': {
                var kind = node.kind;

                var declarations = convert(node.declarations);

                if (!declarations) {
                    return null;
                }
                return builder.vars(declarations, kind);
            }
            default:
                return null;
        }
    }

    let jsAST;
    try {
        if (isExpression) {
            src = '(' + src + ')';
        }
        jsAST = esprima.parse(src);
    } catch(e) {
        if (e.index == null) {
            // Doesn't look like an Esprima parse error... just rethrow the exception
            throw e;
        }
        var errorIndex = e.index;
        var errorMessage = '\n' + e.description;
        if (errorIndex != null && errorIndex >= 0) {
            if (isExpression) {
                errorIndex--; // Account for extra paren added to start
            }
            errorMessage += ': ';
            errorMessage += src + '\n'+ new Array(errorMessage.length + errorIndex + 1).join(" ") + '^';
        }
        var wrappedError = new Error(errorMessage);
        wrappedError.index = errorIndex;
        wrappedError.src = src;
        wrappedError.code = 'ERR_INVALID_JAVASCRIPT_EXPRESSION';
        throw wrappedError;
    }

    var converted = convert(jsAST);
    if (converted == null) {
        converted = builder.expression(src);
    }

    return converted;
}

module.exports = parseExpression;

});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/parseExpression",function(r,o,e,i,a){var c=r("/marko$4.0.0-rc.12/compiler/util/parseJavaScript");e.exports=function(r,o){return c(r,o,!0)}});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/parseStatement",function(r,t,e,a,o){var c=r("/marko$4.0.0-rc.12/compiler/util/parseJavaScript");e.exports=function(r,t){return c(r,t,!1)}});
$_mod.def("/marko$4.0.0-rc.12/compiler/util/parseJavaScriptArgs",function(r,e,s,t,i){"use strict";function a(r,e){o("string"==typeof r,'"args" should be a string'),o(e,'"builder" is required');var s=e.parseExpression("["+r+"]");return s.elements}var o=r("/assert$1.3.0/assert").ok;s.exports=a});
$_mod.def("/marko$4.0.0-rc.12/compiler/Builder", function(require, exports, module, __filename, __dirname) { 'use strict';
var isArray = Array.isArray;
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./ast/Node'*/);
var Program = require('/marko$4.0.0-rc.12/compiler/ast/Program'/*'./ast/Program'*/);
var TemplateRoot = require('/marko$4.0.0-rc.12/compiler/ast/TemplateRoot'/*'./ast/TemplateRoot'*/);
var FunctionDeclaration = require('/marko$4.0.0-rc.12/compiler/ast/FunctionDeclaration'/*'./ast/FunctionDeclaration'*/);
var FunctionCall = require('/marko$4.0.0-rc.12/compiler/ast/FunctionCall'/*'./ast/FunctionCall'*/);
var Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'./ast/Literal'*/);
var Identifier = require('/marko$4.0.0-rc.12/compiler/ast/Identifier'/*'./ast/Identifier'*/);
var If = require('/marko$4.0.0-rc.12/compiler/ast/If'/*'./ast/If'*/);
var ElseIf = require('/marko$4.0.0-rc.12/compiler/ast/ElseIf'/*'./ast/ElseIf'*/);
var Else = require('/marko$4.0.0-rc.12/compiler/ast/Else'/*'./ast/Else'*/);
var Assignment = require('/marko$4.0.0-rc.12/compiler/ast/Assignment'/*'./ast/Assignment'*/);
var BinaryExpression = require('/marko$4.0.0-rc.12/compiler/ast/BinaryExpression'/*'./ast/BinaryExpression'*/);
var LogicalExpression = require('/marko$4.0.0-rc.12/compiler/ast/LogicalExpression'/*'./ast/LogicalExpression'*/);
var Vars = require('/marko$4.0.0-rc.12/compiler/ast/Vars'/*'./ast/Vars'*/);
var Return = require('/marko$4.0.0-rc.12/compiler/ast/Return'/*'./ast/Return'*/);
var HtmlElement = require('/marko$4.0.0-rc.12/compiler/ast/HtmlElement/index'/*'./ast/HtmlElement'*/);
var Html = require('/marko$4.0.0-rc.12/compiler/ast/Html'/*'./ast/Html'*/);
var Text = require('/marko$4.0.0-rc.12/compiler/ast/Text/index'/*'./ast/Text'*/);
var ForEach = require('/marko$4.0.0-rc.12/compiler/ast/ForEach'/*'./ast/ForEach'*/);
var ForEachProp = require('/marko$4.0.0-rc.12/compiler/ast/ForEachProp'/*'./ast/ForEachProp'*/);
var ForRange = require('/marko$4.0.0-rc.12/compiler/ast/ForRange'/*'./ast/ForRange'*/);
var HtmlComment = require('/marko$4.0.0-rc.12/compiler/ast/HtmlComment'/*'./ast/HtmlComment'*/);
var SelfInvokingFunction = require('/marko$4.0.0-rc.12/compiler/ast/SelfInvokingFunction'/*'./ast/SelfInvokingFunction'*/);
var ForStatement = require('/marko$4.0.0-rc.12/compiler/ast/ForStatement'/*'./ast/ForStatement'*/);
var BinaryExpression = require('/marko$4.0.0-rc.12/compiler/ast/BinaryExpression'/*'./ast/BinaryExpression'*/);
var UpdateExpression = require('/marko$4.0.0-rc.12/compiler/ast/UpdateExpression'/*'./ast/UpdateExpression'*/);
var UnaryExpression = require('/marko$4.0.0-rc.12/compiler/ast/UnaryExpression'/*'./ast/UnaryExpression'*/);
var MemberExpression = require('/marko$4.0.0-rc.12/compiler/ast/MemberExpression'/*'./ast/MemberExpression'*/);
var Code = require('/marko$4.0.0-rc.12/compiler/ast/Code'/*'./ast/Code'*/);
var InvokeMacro = require('/marko$4.0.0-rc.12/compiler/ast/InvokeMacro'/*'./ast/InvokeMacro'*/);
var Macro = require('/marko$4.0.0-rc.12/compiler/ast/Macro'/*'./ast/Macro'*/);
var ConditionalExpression = require('/marko$4.0.0-rc.12/compiler/ast/ConditionalExpression'/*'./ast/ConditionalExpression'*/);
var NewExpression = require('/marko$4.0.0-rc.12/compiler/ast/NewExpression'/*'./ast/NewExpression'*/);
var ObjectExpression = require('/marko$4.0.0-rc.12/compiler/ast/ObjectExpression'/*'./ast/ObjectExpression'*/);
var ArrayExpression = require('/marko$4.0.0-rc.12/compiler/ast/ArrayExpression'/*'./ast/ArrayExpression'*/);
var Property = require('/marko$4.0.0-rc.12/compiler/ast/Property'/*'./ast/Property'*/);
var VariableDeclarator = require('/marko$4.0.0-rc.12/compiler/ast/VariableDeclarator'/*'./ast/VariableDeclarator'*/);
var ThisExpression = require('/marko$4.0.0-rc.12/compiler/ast/ThisExpression'/*'./ast/ThisExpression'*/);
var Expression = require('/marko$4.0.0-rc.12/compiler/ast/Expression'/*'./ast/Expression'*/);
var Scriptlet = require('/marko$4.0.0-rc.12/compiler/ast/Scriptlet'/*'./ast/Scriptlet'*/);
var ContainerNode = require('/marko$4.0.0-rc.12/compiler/ast/ContainerNode'/*'./ast/ContainerNode'*/);
var WhileStatement = require('/marko$4.0.0-rc.12/compiler/ast/WhileStatement'/*'./ast/WhileStatement'*/);
var DocumentType = require('/marko$4.0.0-rc.12/compiler/ast/DocumentType'/*'./ast/DocumentType'*/);
var Declaration = require('/marko$4.0.0-rc.12/compiler/ast/Declaration'/*'./ast/Declaration'*/);
var SequenceExpression = require('/marko$4.0.0-rc.12/compiler/ast/SequenceExpression'/*'./ast/SequenceExpression'*/);
var CustomTag = require('/marko$4.0.0-rc.12/compiler/ast/CustomTag'/*'./ast/CustomTag'*/);

var parseExpression = require('/marko$4.0.0-rc.12/compiler/util/parseExpression'/*'./util/parseExpression'*/);
var parseStatement = require('/marko$4.0.0-rc.12/compiler/util/parseStatement'/*'./util/parseStatement'*/);
var parseJavaScriptArgs = require('/marko$4.0.0-rc.12/compiler/util/parseJavaScriptArgs'/*'./util/parseJavaScriptArgs'*/);
var replacePlaceholderEscapeFuncs = require('/marko$4.0.0-rc.12/compiler/util/replacePlaceholderEscapeFuncs'/*'./util/replacePlaceholderEscapeFuncs'*/);
var isValidJavaScriptIdentifier = require('/marko$4.0.0-rc.12/compiler/util/isValidJavaScriptIdentifier'/*'./util/isValidJavaScriptIdentifier'*/);

var DEFAULT_BUILDER;

function makeNode(arg) {
    if (typeof arg === 'string') {
        return parseExpression(arg, DEFAULT_BUILDER);
    } else if (arg instanceof Node) {
        return arg;
    } else if (arg == null) {
        return undefined;
    } else if (Array.isArray(arg)) {
        return arg.map((arg) => {
            return makeNode(arg);
        });
    } else {
        throw new Error('Argument should be a string or Node or null. Actual: ' + arg);
    }
}

var literalNull = new Literal({value: null});
var literalUndefined = new Literal({value: undefined});
var literalTrue = new Literal({value: true});
var literalFalse = new Literal({value: false});
var identifierOut = new Identifier({name: 'out'});
var identifierRequire = new Identifier({name: 'require'});

class Builder {
    arrayExpression(elements) {
        if (elements) {
            if (!isArray(elements)) {
                elements = [elements];
            }

            for (var i=0; i<elements.length; i++) {
                elements[i] = makeNode(elements[i]);
            }
        } else {
            elements = [];
        }

        return new ArrayExpression({elements});
    }

    assignment(left, right, operator) {
        if (operator == null) {
            operator = '=';
        }
        left = makeNode(left);
        right = makeNode(right);
        return new Assignment({left, right, operator});
    }

    binaryExpression(left, operator, right) {
        left = makeNode(left);
        right = makeNode(right);
        return new BinaryExpression({left, operator, right});
    }

    sequenceExpression(expressions) {
        expressions = makeNode(expressions);
        return new SequenceExpression({expressions});
    }

    code(value) {
        return new Code({value});
    }

    computedMemberExpression(object, property) {
        object = makeNode(object);
        property = makeNode(property);
        let computed = true;

        return new MemberExpression({object, property, computed});
    }

    concat(args) {
        var prev;
        let operator = '+';

        for (var i=1; i<arguments.length; i++) {
            var left;
            var right = makeNode(arguments[i]);
            if (i === 1) {
                left = makeNode(arguments[i-1]);
            } else {
                left = prev;
            }

            prev = new BinaryExpression({left, operator, right});
        }

        return prev;
    }

    conditionalExpression(test, consequent, alternate) {
        return new ConditionalExpression({test, consequent, alternate});
    }

    containerNode(type, generateCode) {
        if (typeof type === 'function') {
            generateCode = arguments[0];
            type = 'ContainerNode';
        }

        var node = new ContainerNode(type);
        if (generateCode) {
            node.setCodeGenerator(generateCode);
        }
        return node;
    }

    customTag(el, tagDef) {
        return new CustomTag(el, tagDef);
    }

    declaration(declaration) {
        return new Declaration({declaration});
    }

    documentType(documentType) {
        return new DocumentType({documentType});
    }

    elseStatement(body) {
        return new Else({body});
    }

    elseIfStatement(test, body, elseStatement) {
        test = makeNode(test);

        return new ElseIf({test, body, else: elseStatement});
    }

    expression(value) {
        return new Expression({value});
    }

    forEach(varName, inExpression, body) {
        if (arguments.length === 1) {
            var def = arguments[0];
            return new ForEach(def);
        } else {
            varName = makeNode(varName);
            inExpression = makeNode(inExpression);
            return new ForEach({varName, in: inExpression, body});
        }
    }

    forEachProp(nameVarName, valueVarName, inExpression, body) {
        if (arguments.length === 1) {
            var def = arguments[0];
            return new ForEachProp(def);
        } else {
            nameVarName = makeNode(nameVarName);
            valueVarName = makeNode(valueVarName);
            inExpression = makeNode(inExpression);
            return new ForEachProp({nameVarName, valueVarName, in: inExpression, body});
        }
    }

    forRange(varName, from, to, step, body) {
        if (arguments.length === 1) {
            var def = arguments[0];
            return new ForRange(def);
        } else {
            varName = makeNode(varName);
            from = makeNode(from);
            to = makeNode(to);
            step = makeNode(step);
            body = makeNode(body);

            return new ForRange({varName, from, to, step, body});
        }
    }

    forStatement(init, test, update, body) {
        if (arguments.length === 1) {
            var def = arguments[0];
            return new ForStatement(def);
        } else {
            init = makeNode(init);
            test = makeNode(test);
            update = makeNode(update);
            return new ForStatement({init, test, update, body});
        }
    }

    functionCall(callee, args) {
        callee = makeNode(callee);

        if (args) {
            if (!isArray(args)) {
                throw new Error('"args" should be an array');
            }

            for (var i=0; i<args.length; i++) {
                args[i] = makeNode(args[i]);
            }
        } else {
            args = [];
        }

        return new FunctionCall({callee, args});
    }

    functionDeclaration(name, params, body) {
        return new FunctionDeclaration({name, params, body});
    }

    html(argument) {
        argument = makeNode(argument);

        return new Html({argument});
    }

    htmlComment(comment) {
        return new HtmlComment({comment});
    }

    htmlElement(tagName, attributes, body, argument, openTagOnly, selfClosed) {
        if (typeof tagName === 'object' && !(tagName instanceof Node)) {
            let def = arguments[0];
            return new HtmlElement(def);
        } else {
            return new HtmlElement({tagName, attributes, body, argument, openTagOnly, selfClosed});
        }
    }

    htmlLiteral(htmlCode) {
        var argument = new Literal({value: htmlCode});
        return new Html({argument});
    }

    identifier(name) {
        ok(typeof name === 'string', '"name" should be a string');

        if (!isValidJavaScriptIdentifier(name)) {
            var error = new Error('Invalid JavaScript identifier: ' + name);
            error.code = 'INVALID_IDENTIFIER';
            throw error;
        }
        return new Identifier({name});
    }

    identifierOut(name) {
        return identifierOut;
    }

    ifStatement(test, body, elseStatement) {
        test = makeNode(test);

        return new If({test, body, else: elseStatement});
    }

    invokeMacro(name, args, body) {
        return new InvokeMacro({name, args, body});
    }

    invokeMacroFromEl(el) {
        return new InvokeMacro({el});
    }

    literal(value) {
        return new Literal({value});
    }

    literalFalse() {
        return literalFalse;
    }

    literalNull() {
        return literalNull;
    }

    literalTrue() {
        return literalTrue;
    }

    literalUndefined() {
        return literalUndefined;
    }

    logicalExpression(left, operator, right) {
        left = makeNode(left);
        right = makeNode(right);
        return new LogicalExpression({left, operator, right});
    }

    macro(name, params, body) {
        return new Macro({name, params, body});
    }

    memberExpression(object, property, computed) {
        object = makeNode(object);
        property = makeNode(property);

        return new MemberExpression({object, property, computed});
    }

    moduleExports(value) {
        let object = new Identifier({name: 'module'});
        let property = new Identifier({name: 'exports'});

        var moduleExports = new MemberExpression({object, property });

        if (value) {
            return new Assignment({left: moduleExports, right: value, operator: '='});
        } else {
            return moduleExports;
        }
    }

    negate(argument) {
        argument = makeNode(argument);

        var operator = '!';
        var prefix = true;
        return new UnaryExpression({argument, operator, prefix});
    }

    newExpression(callee, args) {
        callee = makeNode(callee);

        if (args) {
            if (!isArray(args)) {
                args = [args];
            }

            for (var i=0; i<args.length; i++) {
                args[i] = makeNode(args[i]);
            }
        } else {
            args = [];
        }

        return new NewExpression({callee, args});
    }

    node(type, generateCode) {
        if (typeof type === 'function') {
            generateCode = arguments[0];
            type = 'Node';
        }

        var node = new Node(type);
        if (generateCode) {
            node.setCodeGenerator(generateCode);
        }
        return node;
    }

    objectExpression(properties) {
        if (properties) {
            if (!isArray(properties)) {
                properties = [properties];
            }

            for (var i=0; i<properties.length; i++) {
                let prop = properties[i];
                prop.value = makeNode(prop.value);
            }
        } else {
            properties = [];
        }

        return new ObjectExpression({properties});
    }

    parseExpression(str, options) {
        ok(typeof str === 'string', '"str" should be a string expression');
        var parsed = parseExpression(str, DEFAULT_BUILDER);
        return parsed;
    }

    parseJavaScriptArgs(args) {
        ok(typeof args === 'string', '"args" should be a string');
        return parseJavaScriptArgs(args, DEFAULT_BUILDER);
    }

    parseStatement(str, options) {
        ok(typeof str === 'string', '"str" should be a string expression');
        var parsed = parseStatement(str, DEFAULT_BUILDER);
        return parsed;
    }

    replacePlaceholderEscapeFuncs(node, context) {
        return replacePlaceholderEscapeFuncs(node, context);
    }

    program(body) {
        return new Program({body});
    }

    property(key, value) {
        key = makeNode(key);
        value = makeNode(value);

        return new Property({key, value});
    }

    renderBodyFunction(body, params) {
        let name = 'renderBody';
        if (!params) {
            params = [new Identifier({name: 'out'})];
        }
        return new FunctionDeclaration({name, params, body});
    }

    require(path) {
        path = makeNode(path);

        let callee = identifierRequire;
        let args = [ path ];
        return new FunctionCall({callee, args});
    }

    requireResolve(path) {
        path = makeNode(path);

        let callee = new MemberExpression({
            object: new Identifier({name: 'require'}),
            property: new Identifier({name: 'resolve'})
        });

        let args = [ path ];
        return new FunctionCall({callee, args});
    }

    returnStatement(argument) {
        argument = makeNode(argument);

        return new Return({argument});
    }

    scriptlet(code) {
        return new Scriptlet({code});
    }

    selfInvokingFunction(params, args, body) {
        if (arguments.length === 1) {
            body = arguments[0];
            params = null;
            args = null;
        }

        return new SelfInvokingFunction({params, args, body});
    }

    strictEquality(left, right) {
        left = makeNode(left);
        right = makeNode(right);

        var operator = '===';
        return new BinaryExpression({left, right, operator});
    }

    templateRoot(body) {
        return new TemplateRoot({body});
    }

    text(argument, escape, preserveWhitespace) {
        if (typeof argument === 'object' && !(argument instanceof Node)) {
            var def = arguments[0];
            return new Text(def);
        }
        argument = makeNode(argument);

        return new Text({argument, escape, preserveWhitespace});
    }

    thisExpression() {
        return new ThisExpression();
    }

    unaryExpression(argument, operator, prefix) {
        argument = makeNode(argument);

        return new UnaryExpression({argument, operator, prefix});
    }

    updateExpression(argument, operator, prefix) {
        argument = makeNode(argument);
        return new UpdateExpression({argument, operator, prefix});
    }

    variableDeclarator(id, init) {
        if (typeof id === 'string') {
            id = new Identifier({name: id});
        }
        if (init) {
            init = makeNode(init);
        }

        return new VariableDeclarator({id, init});
    }

    var(id, init, kind) {
        if (!kind) {
            kind = 'var';
        }

        id = makeNode(id);
        init = makeNode(init);

        var declarations = [
            new VariableDeclarator({id, init})
        ];

        return new Vars({declarations, kind});
    }

    vars(declarations, kind) {
        if (declarations) {
            if (Array.isArray(declarations)) {
                for (let i=0; i<declarations.length; i++) {
                    var declaration = declarations[i];
                    if (!declaration) {
                        throw new Error('Invalid variable declaration');
                    }
                    if (typeof declaration === 'string') {
                        declarations[i] = new VariableDeclarator({
                            id: new Identifier({name: declaration})
                        });
                    } else if (declaration instanceof Identifier) {
                        declarations[i] = new VariableDeclarator({
                            id: declaration
                        });
                    } else if (typeof declaration === 'object') {
                        if (!(declaration instanceof VariableDeclarator)) {
                            let id = declaration.id;
                            let init = declaration.init;

                            if (typeof id === 'string') {
                                id = new Identifier({name: id});
                            }

                            if (!id) {
                                throw new Error('Invalid variable declaration');
                            }

                            if (init) {
                                init = makeNode(init);
                            }


                            declarations[i] = new VariableDeclarator({id, init});
                        }
                    }
                }
            } else if (typeof declarations === 'object') {
                // Convert the object into an array of variables
                declarations = Object.keys(declarations).map((key) => {
                    let id = new Identifier({name: key});
                    let init = makeNode(declarations[key]);
                    return new VariableDeclarator({ id, init });
                });
            }
        }


        return new Vars({declarations, kind});
    }

    whileStatement(test, body) {
        return new WhileStatement({test, body});
    }
}

DEFAULT_BUILDER = new Builder();

Builder.DEFAULT_BUILDER = DEFAULT_BUILDER;

module.exports = Builder;

});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlAttribute/html/generateCode", function(require, exports, module, __filename, __dirname) { 'use strict';

var runtimeHtmlHelpers = require('/marko$4.0.0-rc.12/runtime/html/helpers'/*'../../../../runtime/html/helpers'*/);
var attr = runtimeHtmlHelpers.a;
var escapeXmlAttr = runtimeHtmlHelpers.xa;

function isStringLiteral(node) {
    return node.type === 'Literal' && typeof node.value === 'string';
}

function isNoEscapeXml(node) {
    return node.type === 'AttributePlaceholder' &&
        node.escape === false;
}

function flattenAttrConcats(node) {
    // return [node];

    function flattenHelper(node) {
        if (node.type === 'BinaryExpression' && node.operator === '+') {
            let left = flattenHelper(node.left);
            let right = flattenHelper(node.right);

            var isString = left.isString || right.isString;

            if (isString) {
                return {
                    isString: true,
                    concats: left.concats.concat(right.concats)
                };
            } else {
                return {
                    isString: false,
                    concats: [node]
                };
            }

        }

        return {
            isString: isStringLiteral(node) || node.type === 'AttributePlaceholder',
            concats: [node]
        };
    }

    var final = flattenHelper(node);
    return final.concats;
}

function generateCodeForExpressionAttr(name, value, escape, codegen) {
    var flattenedConcats = flattenAttrConcats(value);

    var hasLiteral = false;
    var builder = codegen.builder;
    var finalNodes = [];
    var context = codegen.context;

    function addHtml(argument) {
        finalNodes.push(builder.html(argument));
    }

    function addHtmlLiteral(value) {
        finalNodes.push(builder.htmlLiteral(value));
    }


    for (let i=0; i<flattenedConcats.length; i++) {
        if (flattenedConcats[i].type === 'Literal' || flattenedConcats[i].type === 'AttributePlaceholder') {
            hasLiteral = true;
            break;
        }
    }

    if (hasLiteral) {
        addHtmlLiteral(' ' + name + '="');
        for (let i=0; i<flattenedConcats.length; i++) {
            var part = flattenedConcats[i];
            if (isStringLiteral(part)) {
                part.value = escapeXmlAttr(part.value);
            } else if (part.type === 'Literal') {
            } else if (isNoEscapeXml(part)) {
                part = codegen.builder.functionCall(context.helper('str'), [part]);
            } else {
                if (escape !== false) {
                    part = builder.functionCall(context.helper('escapeXmlAttr'), [part]);
                }
            }
            addHtml(part);
        }
        addHtmlLiteral('"');
    } else {
        if (name === 'class') {
            addHtml(codegen.builder.functionCall(context.helper('classAttr'), [value]));
        } else if (name === 'style') {
            addHtml(codegen.builder.functionCall(context.helper('styleAttr'), [value]));
        } else {
            if (escape === false || isNoEscapeXml(value)) {
                escape = false;
            }

            let attrArgs = [codegen.builder.literal(name), value];

            if (escape === false) {
                attrArgs.push(codegen.builder.literal(false));
            }
            addHtml(codegen.builder.functionCall(context.helper('attr'), attrArgs));
        }
    }

    return finalNodes;
}

module.exports = function generateCode(node, codegen) {
    let name = node.name;
    let value = node.value;
    let argument = node.argument;
    let escape = node.escape !== false;
    var builder = codegen.builder;

    if (!name) {
        return null;
    }

    if (node.isLiteralValue()) {
        let literalValue = value.value;

        if (literalValue instanceof RegExp) {
            literalValue = literalValue.source;
        }

        return builder.htmlLiteral(attr(name, literalValue));
    } else if (value != null) {
        return generateCodeForExpressionAttr(name, value, escape, codegen);
    } else if (argument) {
        return [
            builder.htmlLiteral(' ' + name + '('),
            builder.htmlLiteral(argument),
            builder.htmlLiteral(')')
        ];
    } else {
        // Attribute with no value is a boolean attribute
        return builder.htmlLiteral(' ' + name);
    }
};

});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlAttribute/vdom/generateCode",function(e,t,a,l,r){"use strict";a.exports=function(e,t,a){var l=t.context,r=t.builder;e.value=t.generateCode(e.value),e.isStatic=a.isStaticValue(e.value);var u=e.name,i=e.value;if(i)if("Literal"===i.type){var n=i.value;n instanceof RegExp&&(e.value=r.literal(n.source))}else"class"===u?e.value=r.functionCall(l.helper("classAttr"),[i]):"style"===u&&(e.value=r.functionCall(l.helper("styleAttr"),[i]));return e}});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlAttribute/index", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'../Node'*/);
var Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'../Literal'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var compiler = require('/marko$4.0.0-rc.12/compiler/index'/*'../../'*/);
var generateHTMLCode = require('/marko$4.0.0-rc.12/compiler/ast/HtmlAttribute/html/generateCode'/*'./html/generateCode'*/);
var generateVDOMCode = require('/marko$4.0.0-rc.12/compiler/ast/HtmlAttribute/vdom/generateCode'/*'./vdom/generateCode'*/);
var vdomUtil = require('/marko$4.0.0-rc.12/compiler/util/vdom/index'/*'../../util/vdom'*/);

function beforeGenerateCode(event) {
    event.codegen.isInAttribute = true;
}

function afterGenerateCode(event) {
    event.codegen.isInAttribute = false;
}

class HtmlAttribute extends Node {
    constructor(def) {
        super('HtmlAttribute');

        ok(def, 'Invalid attribute definition');
        this.type = 'HtmlAttribute';
        this.name = def.name;
        this.value = def.value;
        this.rawValue = def.rawValue;
        this.escape = def.escape;

        if (typeof this.value === 'string') {
            this.value = compiler.builder.parseExpression(this.value);
        }

        if (this.value && !(this.value instanceof Node)) {
            throw new Error('"value" should be a Node instance');
        }

        this.argument = def.argument;

        this.def = def.def; // The attribute definition loaded from the taglib (if any)

        this.on('beforeGenerateCode', beforeGenerateCode);
        this.on('afterGenerateCode', afterGenerateCode);
    }

    generateHTMLCode(codegen) {
        return generateHTMLCode(this, codegen);
    }

    generateVDOMCode(codegen) {
        return generateVDOMCode(this, codegen, vdomUtil);
    }

    isLiteralValue() {
        return this.value instanceof Literal;
    }

    isLiteralString() {
        return this.isLiteralValue() &&
            typeof this.value.value === 'string';
    }

    isLiteralBoolean() {
        return this.isLiteralValue() &&
            typeof this.value.value === 'boolean';
    }

    walk(walker) {
        this.value = walker.walk(this.value);
    }

    get literalValue() {
        if (this.isLiteralValue()) {
            return this.value.value;
        } else {
            throw new Error('Attribute value is not a literal value. Actual: ' + JSON.stringify(this.value, null, 2));
        }
    }
}

HtmlAttribute.isHtmlAttribute = function(attr) {
    return (attr instanceof HtmlAttribute);
};

module.exports = HtmlAttribute;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlAttributeCollection", function(require, exports, module, __filename, __dirname) { 'use strict';

var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;

var HtmlAttribute = require('/marko$4.0.0-rc.12/compiler/ast/HtmlAttribute/index'/*'./HtmlAttribute'*/);
var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./Node'*/);

class HtmlAttributeCollection {
    constructor(attributes) {
        this.replaceAttributes(attributes);
    }

    addAttribute(newAttr) {
        if (arguments.length === 2) {
            let name = arguments[0];
            let expression = arguments[1];
            newAttr = new HtmlAttribute(name, expression);
        } else if (!HtmlAttribute.isHtmlAttribute(newAttr)) {
            newAttr = new HtmlAttribute(newAttr);
        }

        var name = newAttr.name;

        if (this.lookup.hasOwnProperty(name)) {
            for (var i=0; i<this.all.length; i++) {
                var curAttr = this.all[i];
                if (curAttr.name === name) {
                    this.all.splice(i, 1);
                    break;
                }
            }
        }

        if (name) {
            this.lookup[name] = newAttr;
        }

        this.all.push(newAttr);
    }

    removeAttribute(name) {
        ok(typeof name === 'string', 'Invalid attribute name');

        if (!this.lookup.hasOwnProperty(name)) {
            return false;
        }

        delete this.lookup[name];

        for (var i=0; i<this.all.length; i++) {
            var curAttr = this.all[i];
            if (curAttr.name === name) {
                this.all.splice(i, 1);
                break;
            }
        }

        return true;
    }

    renameAttribute(oldName, newName) {
        var key = oldName;

        var attr = this.lookup[key];
        if (!attr) {
            return;
        }

        attr.name = newName;
        delete this.lookup[key];
        this.lookup[key] = attr;
    }

    removeAllAttributes() {
        this.replaceAttributes([]);
    }

    hasAttribute(name) {
        ok(typeof name === 'string', 'Invalid attribute name');
        return this.lookup.hasOwnProperty(name);
    }

    hasAttributes() {
        return this.all.length > 0;
    }

    getAttribute(name) {
        return this.lookup[name];
    }

    setAttributeValue(name, value) {
        var attr = this.getAttribute(name);
        if (attr) {
            attr.value = value;
        } else {
            this.addAttribute({
                name: name,
                value: value
            });
        }
    }

    getAttributes() {
        return this.all;
    }

    toJSON() {
        return this.all;
    }

    toString() {
        return JSON.stringify(this.all);
    }

    replaceAttributes(attributes) {
        this.all = [];
        this.lookup = {};

        if (attributes) {
            if (Array.isArray(attributes)) {
                attributes.forEach((attr) => {
                    this.addAttribute(attr);
                });
            } else {
                for (var attrName in attributes) {
                    if (attributes.hasOwnProperty(attrName)) {
                        let attrValue = attributes[attrName];
                        let attrDef;

                        if (attrValue != null && typeof attrValue === 'object' && !(attrValue instanceof Node)) {
                            attrDef = attrValue;
                            attrDef.name = attrName;
                        } else {
                            attrDef = {
                                name: attrName,
                                value: attrValue
                            };
                        }

                        this.addAttribute(attrDef);
                    }
                }
            }
        }
    }

    walk(walker) {
        var newAttributes = walker.walk(this.all);
        this.replaceAttributes(newAttributes);
    }
}

module.exports = HtmlAttributeCollection;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/ast/HtmlElement/index", function(require, exports, module, __filename, __dirname) { 'use strict';

var Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'../Node'*/);
var Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'../Literal'*/);
var HtmlAttributeCollection = require('/marko$4.0.0-rc.12/compiler/ast/HtmlAttributeCollection'/*'../HtmlAttributeCollection'*/);
var generateHTMLCode = require('/marko$4.0.0-rc.12/compiler/ast/HtmlElement/html/generateCode'/*'./html/generateCode'*/);
var generateVDOMCode = require('/marko$4.0.0-rc.12/compiler/ast/HtmlElement/vdom/generateCode'/*'./vdom/generateCode'*/);
var vdomUtil = require('/marko$4.0.0-rc.12/compiler/util/vdom/index'/*'../../util/vdom'*/);

function beforeGenerateCode(event) {
    if (event.node.tagName === 'script') {
        event.context.pushFlag('SCRIPT_BODY');
    }
}

function afterGenerateCode(event) {
    if (event.node.tagName === 'script') {
        event.context.popFlag('SCRIPT_BODY');
    }
}

class HtmlElement extends Node {
    constructor(def) {
        super('HtmlElement');
        this.tagName = null;
        this.tagNameExpression = null;
        this.setTagName(def.tagName);
        this.tagString = def.tagString;
        this._attributes = def.attributes;
        this.body = this.makeContainer(def.body);
        this.argument = def.argument;

        if (!(this._attributes instanceof HtmlAttributeCollection)) {
            this._attributes = new HtmlAttributeCollection(this._attributes);
        }

        this.openTagOnly = def.openTagOnly;
        this.selfClosed = def.selfClosed;
        this.dynamicAttributes = undefined;
        this.bodyOnlyIf = undefined;

        this.on('beforeGenerateCode', beforeGenerateCode);
        this.on('afterGenerateCode', afterGenerateCode);
    }

    generateHTMLCode(codegen) {
        if (codegen.context.isMacro(this.tagName)) {
            // At code generation time, if node tag corresponds to a registered macro
            // then invoke the macro based on node HTML element instead of generating
            // the code to render an HTML element.
            return codegen.builder.invokeMacroFromEl(this);
        }

        return generateHTMLCode(this, codegen);
    }

    generateVDOMCode(codegen) {
        if (codegen.context.isMacro(this.tagName)) {
            // At code generation time, if node tag corresponds to a registered macro
            // then invoke the macro based on node HTML element instead of generating
            // the code to render an HTML element.
            return codegen.builder.invokeMacroFromEl(this);
        }

        return generateVDOMCode(this, codegen, vdomUtil);
    }

    addDynamicAttributes(expression) {
        if (!this.dynamicAttributes) {
            this.dynamicAttributes = [];
        }

        this.dynamicAttributes.push(expression);
    }

    getAttribute(name) {
        return this._attributes != null && this._attributes.getAttribute(name);
    }

    getAttributeValue(name) {
        var attr = this._attributes != null && this._attributes.getAttribute(name);
        if (attr) {
            return attr.value;
        }
    }

    addAttribute(attr) {
        this._attributes.addAttribute(attr);
    }

    setAttributeValues(attrs) {
        if (!attrs) {
            return;
        }

        for(var attrName in attrs) {
            var attrValue = attrs[attrName];
            this.setAttributeValue(attrName, attrValue);
        }
    }

    setAttributeValue(name, value) {
        this._attributes.setAttributeValue(name, value);
    }

    replaceAttributes(newAttributes) {
        this._attributes.replaceAttributes(newAttributes);
    }

    removeAttribute(name) {
        if (this._attributes) {
            this._attributes.removeAttribute(name);
        }
    }

    removeAllAttributes() {
        this._attributes.removeAllAttributes();
    }

    hasAttribute(name) {
        return this._attributes != null && this._attributes.hasAttribute(name);
    }

    getAttributes() {
        return this._attributes.all;
    }

    get attributes() {
        return this._attributes.all;
    }

    forEachAttribute(callback, thisObj) {
        var attributes = this._attributes.all.concat([]);

        for (let i=0, len=attributes.length; i<len; i++) {
            callback.call(thisObj, attributes[i]);
        }
    }

    setTagName(tagName) {
        this.tagName = null;
        this.tagNameExpression = null;

        if (tagName instanceof Node) {
            if (tagName instanceof Literal) {
                this.tagName = tagName.value;
                this.tagNameExpression = tagName;
            } else {
                this.tagNameExpression = tagName;
            }
        } else if (typeof tagName === 'string') {
            this.tagNameExpression = new Literal({value: tagName});
            this.tagName = tagName;
        }
    }

    isLiteralTagName() {
        return this.tagName != null;
    }

    toJSON() {
        return {
            type: this.type,
            tagName: this.tagName,
            attributes: this._attributes,
            tagString: this.tagString,
            argument: this.argument,
            body: this.body,
            bodyOnlyIf: this.bodyOnlyIf,
            dynamicAttributes: this.dynamicAttributes
        };
    }

    setBodyOnlyIf(condition) {
        this.bodyOnlyIf = condition;
    }

    walk(walker) {
        this.setTagName(walker.walk(this.tagNameExpression));
        this._attributes.walk(walker);
        this.body = walker.walk(this.body);
    }
}

module.exports = HtmlElement;
});
$_mod.def("/marko$4.0.0-rc.12/compiler/CodeGenerator", function(require, exports, module, __filename, __dirname) { 'use strict';

const isArray = Array.isArray;
const Node = require('/marko$4.0.0-rc.12/compiler/ast/Node'/*'./ast/Node'*/);
const Literal = require('/marko$4.0.0-rc.12/compiler/ast/Literal'/*'./ast/Literal'*/);
const Identifier = require('/marko$4.0.0-rc.12/compiler/ast/Identifier'/*'./ast/Identifier'*/);
const HtmlElement = require('/marko$4.0.0-rc.12/compiler/ast/HtmlElement/index'/*'./ast/HtmlElement'*/);
const Html = require('/marko$4.0.0-rc.12/compiler/ast/Html'/*'./ast/Html'*/);
const ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
const Container = require('/marko$4.0.0-rc.12/compiler/ast/Container'/*'./ast/Container'*/);
const createError = require('/raptor-util$3.1.0/createError'/*'raptor-util/createError'*/);

class GeneratorEvent {
    constructor(node, codegen) {
        this.node = node;
        this.codegen = codegen;

        this.isBefore = true;
        this.builder = codegen.builder;
        this.context = codegen.context;

        this.insertedNodes = null;
    }

    insertCode(newCode) {
        if (!this.insertedNodes) {
            this.insertedNodes = [];
        }
        this.insertedNodes = this.insertedNodes.concat(newCode);
    }
}

class FinalNodes {
    constructor() {
        this.nodes = [];
        this.nodes._finalNode = true; // Mark the array as a collection of final nodes
        this.lastNode = null;
    }

    push(node) {
        if (!node) {
            return;
        }

        if (node instanceof Html) {
            if (this.lastNode instanceof Html) {
                this.lastNode.append(node);
                return;
            }
        }

        if (node.setFinalNode) {
            node.setFinalNode(true);
        }

        this.lastNode = node;
        this.nodes.push(node);
    }
}

class CodeGenerator {
    constructor(context, options) {
        options = options || {};
        this.root = null;

        this._code = '';
        this.currentIndent = '';
        this.inFunction = false;

        this._doneListeners = [];


        this.builder = context.builder;

        this.context = context;

        ok(this.builder, '"this.builder" is required');

        this._codegenCodeMethodName = 'generate' +
            context.outputType.toUpperCase() +
            'Code';
    }

    addVar(name, value) {
        return this.context.addVar(name, value);
    }

    addStaticVar(name, value) {
        return this.context.addStaticVar(name, value);
    }

    addStaticCode(code) {
        this.context.addStaticCode(code);
    }

    addDependency(path, type, options) {
        this.context.addDependency(path, type, options);
    }

    pushMeta(key, value, unique) {
        this.context.pushMeta(key, value, unique);
    }

    setMeta(key, value) {
        this.context.setMeta(key, value);
    }

    getEscapeXmlAttrVar() {
        return this.context.getEscapeXmlAttrVar();
    }

    importModule(varName, path) {
        return this.context.importModule(varName, path);
    }

    _invokeCodeGenerator(func, node, isMethod) {
        try {
            if (isMethod) {
                return func.call(node, this);
            } else {
                return func.call(node, node, this);
            }
        } catch(err) {
            var errorMessage = 'Generating code for ';

            if (node instanceof HtmlElement) {
                errorMessage += '<'+node.tagName+'> tag';
            } else {
                errorMessage += node.type + ' node';
            }

            if (node.pos) {
                errorMessage += ' ('+this.context.getPosInfo(node.pos)+')';
            }

            errorMessage += ' failed. Error: ' + err;

            throw createError(errorMessage, err /* cause */);
        }
    }

    _generateCode(node, finalNodes) {
        if (isArray(node)) {
            node.forEach((child) => {
                this._generateCode(child, finalNodes);
            });
            return;
        } else if (node instanceof Container) {
            node.forEach((child) => {
                if (child.container === node) {
                    this._generateCode(child, finalNodes);
                }
            });
            return;
        }

        if (node == null) {
            return;
        }

        if (typeof node === 'string' || node._finalNode || !(node instanceof Node)) {
            finalNodes.push(node);
            return;
        }

        if (node._normalizeChildTextNodes) {
            node._normalizeChildTextNodes(this.context);
        }

        let oldCurrentNode = this._currentNode;
        this._currentNode = node;

        var beforeAfterEvent = new GeneratorEvent(node, this);

        var isWhitespacePreserved = node.isPreserveWhitespace();

        if (isWhitespacePreserved) {
            this.context.beginPreserveWhitespace();
        }

        beforeAfterEvent.isBefore = true;
        beforeAfterEvent.node.emit('beforeGenerateCode', beforeAfterEvent);
        this.context.emit('beforeGenerateCode:' + beforeAfterEvent.node.type, beforeAfterEvent);
        this.context.emit('beforeGenerateCode', beforeAfterEvent);

        if (beforeAfterEvent.insertedNodes) {
            this._generateCode(beforeAfterEvent.insertedNodes, finalNodes);
            beforeAfterEvent.insertedNodes = null;
        }

        let codeGeneratorFunc;
        let generatedCode;

        if (node.getCodeGenerator) {
            codeGeneratorFunc = node.getCodeGenerator(this.outputType);

            if (codeGeneratorFunc) {
                node.setCodeGenerator(null);

                generatedCode = this._invokeCodeGenerator(codeGeneratorFunc, node, false);

                if (generatedCode === null) {
                    node = null;
                } else if (generatedCode !== undefined && generatedCode !== node) {
                    node = null;
                    this._generateCode(generatedCode, finalNodes);
                }
            }
        }

        if (node != null) {
            codeGeneratorFunc = node.generateCode;

            if (!codeGeneratorFunc) {
                codeGeneratorFunc = node[this._codegenCodeMethodName];
            }

            if (codeGeneratorFunc) {
                generatedCode = this._invokeCodeGenerator(codeGeneratorFunc, node, true);

                if (generatedCode === undefined || generatedCode === node) {
                    finalNodes.push(node);
                } else if (generatedCode === null) {
                    // If nothing was returned then don't generate any code
                } else {
                    this._generateCode(generatedCode, finalNodes);
                }
            } else {
                finalNodes.push(node);
            }
        }

        beforeAfterEvent.isBefore = false;
        beforeAfterEvent.node.emit('afterGenerateCode', beforeAfterEvent);
        this.context.emit('afterGenerateCode:' + beforeAfterEvent.node.type, beforeAfterEvent);
        this.context.emit('afterGenerateCode', beforeAfterEvent);

        if (beforeAfterEvent.insertedNodes) {
            this._generateCode(beforeAfterEvent.insertedNodes, finalNodes);
            beforeAfterEvent.insertedNodes = null;
        }

        if (isWhitespacePreserved) {
            this.context.endPreserveWhitespace();
        }

        this._currentNode = oldCurrentNode;
    }

    generateCode(node) {
        if (!node) {
            return null;
        }

        if (node._finalNode) {
            return node;
        }

        let finalNodes = new FinalNodes();

        var isList = typeof node.forEach === 'function';

        this._generateCode(node, finalNodes);

        finalNodes = finalNodes.nodes;

        if (!isList) {
            if (finalNodes.length === 0) {
                return null;
            } else if (finalNodes.length === 1) {
                return finalNodes[0];
            }
        }

        return finalNodes;
    }

    isLiteralNode(node) {
        return node instanceof Literal;
    }

    isIdentifierNode(node) {
        return node instanceof Identifier;
    }

    isPreserveWhitespaceEnabled() {
        return false;
    }

    addError(message, code) {
        ok('"message" is required');

        let node = this._currentNode;

        if (typeof message === 'object') {
            let errorInfo = message;
            errorInfo.node = node;
            this.context.addError(errorInfo);
        } else {
            this.context.addError({node, message, code});
        }
    }

    onDone(listenerFunc) {
        this._doneListeners.push(listenerFunc);
    }

    getRequirePath(targetFilename) {
        return this.context.getRequirePath(targetFilename);
    }

    resolvePath(pathExpression) {
        return this.context.resolvePath(pathExpression);
    }
}

module.exports = CodeGenerator;
});
$_mod.main("/marko$4.0.0-rc.12/runtime/dependencies","");
$_mod.installed("marko$4.0.0-rc.12","resolve-from","2.0.0");
$_mod.def("/marko$4.0.0-rc.12/runtime/html/StringWriter",function(t,r,i,n,o){"use strict";function s(){this.str=""}s.prototype={write:function(t){return this.str+=t,this},toString:function(){return this.str}},i.exports=s});
$_mod.def("/marko$4.0.0-rc.12/runtime/html/BufferedWriter",function(t,e,f,i,r){"use strict";function s(t){this._buffer="",this._wrapped=t}s.prototype={write:function(t){this._buffer+=t},flush:function(){0!==this._buffer.length&&(this._wrapped.write(this._buffer),this._buffer="",this._wrapped.flush&&this._wrapped.flush())},end:function(){this.flush(),this._wrapped.isTTY||this._wrapped.end()},clear:function(){this._buffer=""}},f.exports=s});
$_mod.def("/marko$4.0.0-rc.12/runtime/html/AsyncStream",function(t,e,i,n,r){"use strict";function s(t,e,i,n){this.root=t,this.stream=e,this.writer=i,this.events=n,this.remaining=0,this.lastCount=0,this.last=void 0,this.ended=!1,this.finished=!1,this.ids=0}function o(t,e,i,n){var r,o=this.attributes=t||{};if(i)r=i.stream;else{var h=o.events=e&&e.on?e:new a;e?(r=e,n&&(e=new c(e))):e=r=new u,i=new s(this,r,e,h)}this.global=o,this.stream=r,this._state=i,this.data={},this.writer=e,e.stream=this,this._sync=!1,this._stack=void 0,this.name=void 0,this._timeoutId=void 0,this._node=void 0,this._elStack=void 0}var h=t("process"),a=t("/events-light$1.0.5/src/index"),u=t("/marko$4.0.0-rc.12/runtime/html/StringWriter"),c=t("/marko$4.0.0-rc.12/runtime/html/BufferedWriter"),l="undefined"!=typeof document&&document,f=t("/marko$4.0.0-rc.12/runtime/RenderResult"),m=t("/marko$4.0.0-rc.12/runtime/html/helper-attrs"),d=t("/marko$4.0.0-rc.12/runtime/html/escape").escapeXml,_={write:function(){}};o.DEFAULT_TIMEOUT=1e4,o.INCLUDE_STACK="undefined"!=typeof h&&"development"===h.env.NODE_ENV,o.enableAsyncStackTrace=function(){o.INCLUDE_STACK=!0};var v=o.prototype={constructor:o,$__document:l,$__isOut:!0,sync:function(){this._sync=!0},isSync:function(){return this._sync===!0},write:function(t){return null!=t&&this.writer.write(t.toString()),this},$__getOutput:function(){return this._state.writer.toString()},getOutput:function(){return this.$__getOutput()},toString:function(){return this._state.writer.toString()},$__getResult:function(){return this._result=this._result||new f(this),this._result},beginAsync:function(t){if(this._sync)throw new Error("beginAsync() not allowed when using renderSync()");var e=this._state,i=this.writer,n=new u,r=new o(this.global,i,e);this.writer=n,n.stream=this,n.next=i.next,i.next=n;var s,h;return e.remaining++,null!=t&&("number"==typeof t?s=t:(s=t.timeout,t.last===!0&&(null==s&&(s=0),e.lastCount++),h=t.name)),null==s&&(s=o.DEFAULT_TIMEOUT),r.stack=o.INCLUDE_STACK?(new Error).stack:null,r.name=h,s>0&&(r._timeoutId=setTimeout(function(){r.error(new Error("Async fragment "+(h?"("+h+") ":"")+"timed out after "+s+"ms"))},s)),e.events.emit("beginAsync",{writer:r,parentWriter:this,out:r,parentOut:this}),r},end:function(t){t&&this.write(t);var e=this.writer;this.writer=_,e.stream=null,this.flushNext(e);var i=this._state;if(!i.finished){var n;if(this===i.root)n=i.remaining,i.ended=!0;else{var r=this._timeoutId;r&&clearTimeout(r),n=--i.remaining}return i.ended&&(i.lastFired||i.remaining-i.lastCount!==0||(i.lastFired=!0,i.lastCount=0,i.events.emit("last")),0===n&&(i.finished=!0,i.writer.end?i.writer.end():i.events.emit("finish",this.$__getResult()))),this}},flushNext:function(t){var e=t.next;if(e){t.write(e.toString()),t.next=e.next;var i=e.stream;i&&(i.writer=t,t.stream=i)}},on:function(t,e){var i=this._state;return"finish"===t&&i.finished?(e(this.$__getResult()),this):(i.events.on(t,e),this)},once:function(t,e){var i=this._state;return"finish"===t&&i.finished?(e(this.$__getResult()),this):(i.events.once(t,e),this)},onLast:function(t){var e=this._state,i=e.last;if(!i){i=e.last=[];var n=0,r=function t(){if(n!==i.length){var e=i[n++];e(t)}};this.once("last",function(){r()})}return i.push(t),this},emit:function(t,e){var i=this._state.events;switch(arguments.length){case 1:i.emit(t);break;case 2:i.emit(t,e);break;default:i.emit.apply(i,arguments)}return this},removeListener:function(){var t=this._state.events;return t.removeListener.apply(t,arguments),this},prependListener:function(){var t=this._state.events;return t.prependListener.apply(t,arguments),this},pipe:function(t){return this._state.stream.pipe(t),this},error:function(t){var e=this._stack,i=this.name,n="Async fragment failed"+(i?" ("+i+")":"")+". Exception: "+(t.stack||t)+(e?"\nCreation stack trace: "+e:"");t=new Error(n);try{this.emit("error",t)}finally{this.end()}return console&&console.error(n),this},flush:function(){var t=this._state;if(!t.finished){var e=t.writer;e&&e.flush&&e.flush()}return this},createOut:function(){return new o(this.global)},element:function(t,e,i){var n="<"+t+m(e)+">";i!==!0&&(n+="</"+t+">"),this.write(n)},beginElement:function(t,e){var i="<"+t+m(e)+">";this.write(i),this._elStack?this._elStack.push(t):this._elStack=[t]},endElement:function(){var t=this._elStack.pop();this.write("</"+t+">")},text:function(t){this.write(d(t))},$__getNode:function(t){var e,i,n=this._node,r=this.$__getOutput();if(t||(t=this.$__document),!n){if(r)if(i=t.createElement("body"),i.innerHTML=r,1==i.childNodes.length)n=i.childNodes[0];else for(n=t.createDocumentFragment();e=i.firstChild;)n.appendChild(e);else n=t.createDocumentFragment();this._node=n}return n},then:function(t,e){var i=this,n=new Promise(function(t,e){i.on("error",e),i.on("finish",function(e){t(e)})});return Promise.resolve(n).then(t,e)},catch:function(t){return this.then(void 0,t)}};v.w=v.write,i.exports=o});
$_mod.def("/marko$4.0.0-rc.12/runtime/html/Template",function(r,t,e,o,u){"use strict";function m(r,t,e){this.path=r,this._=t,this.$__shouldBuffer=!e||e.shouldBuffer!==!1,this.meta=void 0}function n(r,t,e,o){return new i(r,t,e,o)}var i=r("/marko$4.0.0-rc.12/runtime/html/AsyncStream"),a=r("/marko$4.0.0-rc.12/runtime/renderable");m.prototype={createOut:n,stream:function(){throw new Error('You must require("marko/stream")')}},a(m.prototype),e.exports=m});
$_mod.def("/marko$4.0.0-rc.12/runtime/dependencies/index", function(require, exports, module, __filename, __dirname) { var path = require('/path-browserify$0.0.0/index'/*'path'*/);
var resolveFrom = require('/resolve-from$2.0.0/index'/*'resolve-from'*/);
var Template = require('/marko$4.0.0-rc.12/runtime/html/Template'/*'../html/Template'*/);

exports.getDeps = getDeps;
exports.resolveDep = resolveDep;

function getDeps(template) {
    if (!template.meta && template.template) {
        template = template.template;
    }

    if (!(template instanceof Template)) {
        return [];
    }

    if (false && template.deps) {
        return template.deps;
    }

    if (!template.meta) {
        console.error('Metadata not set for template at ', template.path);
        return [];
    }

    var meta = template.meta;
    var root = path.dirname(template.path);
    var deps = [];

    if (meta.tags) {
        meta.tags.forEach(tagPath => {
            var tag = resolveFrom(root, tagPath);
            var tagDeps = getDeps(require(tag));
            deps.push.apply(deps, tagDeps);
        });
    }

    if (meta.deps) {
        deps.push.apply(deps, meta.deps.map(d => resolveDep(d, root)));
    }

    deps = dedupeDeps(deps);

    template.deps = deps;

    return deps;
}

function resolveDep(dep, root) {
    if (typeof dep === 'string') {
        dep = parseDependencyString(dep);
    }

    if (dep.path) {
        dep.path = resolveFrom(root, dep.path);

        if(dep.path && !dep.type) {
            dep.type = dep.path.slice(dep.path.lastIndexOf('.')+1);
        }
    }

    if (dep.virtualPath) {
        dep.virtualPath = path.resolve(root, dep.virtualPath);
    }

    return dep;
}

function parseDependencyString(string) {
    var match = /^(?:([\w-]+)(?:\:\s*|\s+))?(.*?(?:\.(\w+))?)$/.exec(string);
    return {
        type: match[1] || match[3],
        path: match[2]
    };
}

function dedupeDeps(deps) {
    return deps;
}

Template.prototype.getDependencies = function() {
    return getDeps(this);
};
});
$_mod.def("/marko$4.0.0-rc.12/compiler/Compiler", function(require, exports, module, __filename, __dirname) { 'use strict';
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var path = require('/path-browserify$0.0.0/index'/*'path'*/);
var CodeGenerator = require('/marko$4.0.0-rc.12/compiler/CodeGenerator'/*'./CodeGenerator'*/);
var CodeWriter = require('/marko$4.0.0-rc.12/compiler/CodeWriter'/*'./CodeWriter'*/);
var createError = require('/raptor-util$3.1.0/createError'/*'raptor-util/createError'*/);
var resolveDep = require('/marko$4.0.0-rc.12/runtime/dependencies/index'/*'../runtime/dependencies'*/).resolveDep;

const FLAG_TRANSFORMER_APPLIED = 'transformerApply';

function transformNode(node, context) {
    try {
        context.taglibLookup.forEachNodeTransformer(node, function (transformer) {
            if (node.isDetached()) {
                return;    //The node might have been removed from the tree
            }
            if (!node.isTransformerApplied(transformer)) {
                //Check to make sure a transformer of a certain type is only applied once to a node
                node.setTransformerApplied(transformer);
                //Mark the node as have been transformed by the current transformer
                context.setFlag(FLAG_TRANSFORMER_APPLIED);
                //Set the current node
                context._currentNode = node;
                //Set the flag to indicate that a node was transformed
                // node.compiler = this;
                var transformerFunc = transformer.getFunc();
                transformerFunc.call(transformer, node, context);    //Have the transformer process the node (NOTE: Just because a node is being processed by the transformer doesn't mean that it has to modify the parse tree)
            }
        });
    } catch (e) {
        throw createError(new Error('Unable to compile template at path "' + context.filename + '". Error: ' + e.message), e);
    }
}

function transformTreeHelper(node, context) {
    transformNode(node, context);

    /*
     * Now process the child nodes by looping over the child nodes
     * and transforming the subtree recursively
     *
     * NOTE: The length of the childNodes array might change as the tree is being performed.
     *       The checks to prevent transformers from being applied multiple times makes
     *       sure that this is not a problem.
     */
    node.forEachChild(function (childNode) {
        transformTreeHelper(childNode, context);
    });
}

function transformTree(rootNode, context) {

    context.taglibLookup.forEachTemplateTransformer((transformer) => {
        var transformFunc = transformer.getFunc();
        rootNode = transformFunc(rootNode, context) || rootNode;
    });

    /*
     * The tree is continuously transformed until we go through an entire pass where
     * there were no new nodes that needed to be transformed. This loop makes sure that
     * nodes added by transformers are also transformed.
     */
    do {
        context.clearFlag(FLAG_TRANSFORMER_APPLIED);
        //Reset the flag to indicate that no transforms were yet applied to any of the nodes for this pass
        transformTreeHelper(rootNode, context);    //Run the transforms on the tree
    } while (context.isFlagSet(FLAG_TRANSFORMER_APPLIED));

    return rootNode;
}

function handleErrors(context) {
    // If there were any errors then compilation failed.
    if (context.hasErrors()) {
        var errors = context.getErrors();

        var message = 'An error occurred while trying to compile template at path "' + context.filename + '". Error(s) in template:\n';
        for (var i = 0, len = errors.length; i < len; i++) {
            let error = errors[i];
            message += (i + 1) + ') ' + error.toString() + '\n';
        }
        var error = new Error(message);
        error.errors = errors;
        throw error;
    }
}

class CompiledTemplate {
    constructor(ast, context, codeGenerator) {
        this.ast = ast;
        this.context = context;
        this.filename = context.filename;
    }

    get dependencies() {
        var meta = this.context.meta;
        if (meta) {
            var root = path.dirname(this.filename);
            return (meta.deps || []).map(dep => resolveDep(dep, root));
        } else {
            return [];
        }
    }

    get code() {
        // STAGE 3: Generate the code using the final AST
        handleErrors(this.context);

        // console.log(module.id, 'FINAL AST:' + JSON.stringify(finalAST, null, 4));
        var codeWriter = new CodeWriter(this.context.options, this.context.builder);
        codeWriter.write(this.ast);

        handleErrors(this.context);

        // Return the generated code as the compiled output:
        var compiledSrc = codeWriter.getCode();
        return compiledSrc;
    }
}

class Compiler {
    constructor(options, userOptions, inline) {
        ok(options, '"options" is required');

        this.builder = options.builder;
        this.parser = options.parser;

        ok(this.builder, '"options.builder" is required');
        ok(this.parser, '"options.parser" is required');
    }

    compile(src, context) {
        ok(typeof src === 'string', '"src" argument should be a string');

        var codeGenerator = new CodeGenerator(context);

        // STAGE 1: Parse the template to produce the initial AST
        var ast = this.parser.parse(src, context);

        context.root = ast;
        // console.log('ROOT', JSON.stringify(ast, null, 2));

        // STAGE 2: Transform the initial AST to produce the final AST
        var transformedAST = transformTree(ast, context);
        // console.log('transformedAST', JSON.stringify(ast, null, 2));

        handleErrors(context);

        var finalAST = codeGenerator.generateCode(transformedAST);

        handleErrors(context);

        return new CompiledTemplate(finalAST, context);
    }
}

module.exports = Compiler;
});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/util/parseFor", function(require, exports, module, __filename, __dirname) { 'use strict';
var removeComments = require('/marko$4.0.0-rc.12/compiler/util/removeComments'/*'../../../compiler/util/removeComments'*/);
var compiler = require('/marko$4.0.0-rc.12/compiler/index'/*'../../../compiler'*/);

var integerRegExp = /^-?\d+$/;
var numberRegExp = /^-?(?:\d+|\d+\.\d*|\d*\.\d+|\d+\.\d+)$/;

var tokenizer = require('/marko$4.0.0-rc.12/compiler/util/tokenizer'/*'../../../compiler/util/tokenizer'*/).create([
    {
        name: 'stringDouble',
        pattern: /"(?:[^"]|\\")*"/,
    },
    {
        name: 'stringSingle',
        pattern: /'(?:[^']|\\')*'/
    },
    {
        name: 'in',
        pattern: /\s+in\s+/,
    },
    {
        name: 'from',
        pattern: /\s+from\s+/
    },
    {
        name: 'to',
        pattern: /\s+to\s+/,
    },
    {
        name: 'step',
        pattern: /\s+step\s+/,
    },
    {
        name: 'semicolon',
        pattern: /[;]/,
    },
    {
        name: 'separator',
        pattern: /separator=/
    },
    {
        name: 'status-var',
        pattern: /status\-var=/
    },
    {
        name: 'iterator',
        pattern: /iterator=/
    },
    {
        name: 'pipe',
        pattern: /\s+\|\s+/
    },
    {
        name: 'groupOpen',
        pattern: /[\{\(\[]/
    },
    {
        name: 'groupClose',
        pattern: /[\}\)\]]/
    },
    {
        name: 'array',
        pattern: /array/
    }
]);

var inRegExp = /^\s*([$A-Z_][0-9A-Z_$]*)(?:\s*,\s*([$A-Z_][0-9A-Z_$]*))?\s+in\s+/i;


function throwError(message) {
    var error = new Error(message);
    error.code = 'INVALID_FOR';
    throw error;
}

function buildIdentifier(name, errorMessage) {
    try {
        return compiler.builder.identifier(name);
    } catch(e) {
        throwError(errorMessage + ': ' + e.message);
    }
}

function parseExpression(str, errorMessage) {
    try {
        return compiler.builder.parseExpression(str);
    } catch(e) {
        throwError(errorMessage + ': ' + e.message);
    }
}

function parseStatement(str, errorMessage) {
    try {
        return compiler.builder.parseStatement(str);
    } catch(e) {
        throwError(errorMessage + ': ' + e.message);
    }
}

function createNumberExpression(str, errorMessage) {
    if (str == null) {
        return null;
    }

    if (integerRegExp.test(str)) {
        return compiler.builder.literal(parseInt(str, 10));
    } else if (numberRegExp.test(str)) {
        return compiler.builder.literal(parseFloat(str));
    } else {
        return parseExpression(str, errorMessage);
    }
}

/**
 * Parses a for loop string in the following forms:
 *
 * <varName> in <expression>
 * <varName> in <expression> | status-var=<varName> separator=<expression>
 * <varName> from <expression> to <expression>
 * <varName> from <expression> to <expression> step <expression>
 * <init>; <test>; <update>
 */
module.exports = function(str) {
    str = removeComments(str);

    let depth = 0;
    var prevToken;
    var loopType;
    var pipeFound = false;

    var varName;
    var nameVarName;
    var valueVarName;
    var inExpression;
    var statusVarName;
    var separatorExpression;
    var fromExpression;
    var toExpression;
    var stepExpression;
    var iteratorExpression;
    var isArray;

    var forInit;
    var forTest;
    var forUpdate;

    var inRegExpMatches = inRegExp.exec(str);
    if (inRegExpMatches) {
        if (inRegExpMatches[1] && inRegExpMatches[2]) {
            loopType = 'ForEachProp';
            nameVarName = inRegExpMatches[1];
            valueVarName = inRegExpMatches[2];
        } else {
            loopType = 'ForEach';
            varName = inRegExpMatches[1];
        }

        str = ' in ' + str.substring(inRegExpMatches[0].length);
    }

    function finishVarName(end) {
        varName = str.substring(0, end).trim();
    }

    function finishPrevPart(end) {
        if (!prevToken) {
            return;
        }

        var start = prevToken.end;
        var part = str.substring(start, end).trim();

        switch(prevToken.name) {
            case 'from':
                fromExpression = part;
                break;
            case 'to':
                toExpression = part;
                break;
            case 'in':
                inExpression = part;
                break;
            case 'step':
                stepExpression = part;
                break;
            case 'status-var':
                statusVarName = part;
                break;
            case 'separator':
                separatorExpression = part;
                break;
            case 'iterator':
                iteratorExpression = part;
                break;
            case 'array':
                isArray = true;
                break;
            case 'pipe':
                if (part.length !== 0) {
                    throwError('Unexpected input: ' + part);
                    return;
                }
                break;
        }
    }

    tokenizer.forEachToken(str, (token) => {
        switch(token.name) {
            case 'groupOpen':
                depth++;
                break;
            case 'groupClose':
                depth--;
                break;
            case 'in':
                if (depth === 0) {
                    prevToken = token;
                }
                break;
            case 'from':
                if (depth === 0 && !loopType) {
                    loopType = 'ForRange';
                    finishVarName(token.start);
                    prevToken = token;
                }
                break;
            case 'to':
                if (depth === 0 && prevToken && prevToken.name === 'from') {
                    finishPrevPart(token.start);
                    prevToken = token;
                }
                break;
            case 'step':
                if (depth === 0 && prevToken && prevToken.name === 'to') {
                    finishPrevPart(token.start);
                    prevToken = token;
                }
                break;
            case 'semicolon':
                if (depth === 0) {
                    loopType = 'For';

                    if (forInit == null) {
                        forInit = str.substring(0, token.start);
                    } else if (forTest == null) {
                        forTest = str.substring(prevToken.end, token.start);
                        forUpdate = str.substring(token.end);
                    } else {
                        throwError('Invalid native for loop. Expected format: <init>; <test>; <update>');
                    }

                    prevToken = token;
                }
                break;
            case 'pipe':
                if (depth === 0) {
                    pipeFound = true;
                    finishPrevPart(token.start);
                    prevToken = token;
                }
                break;
            case 'status-var':
                if (depth === 0 && pipeFound && str.charAt(token.start-1) === ' ') {
                    finishPrevPart(token.start);
                    prevToken = token;
                }
                break;
            case 'separator':
                if (depth === 0 && pipeFound && str.charAt(token.start-1) === ' ') {
                    finishPrevPart(token.start);
                    prevToken = token;
                }
                break;
            case 'iterator':
                if (depth === 0 && pipeFound && str.charAt(token.start-1) === ' ') {
                    finishPrevPart(token.start);
                    prevToken = token;
                }
                break;
            case 'array':
                if (depth === 0 && pipeFound && str.charAt(token.start-1) === ' ') {
                    finishPrevPart(token.start);
                    prevToken = token;
                }
                break;
        }
    });

    finishPrevPart(str.length);

    if (inExpression) {
        inExpression = parseExpression(inExpression, 'Invalid "in" expression');
    }

    if (separatorExpression) {
        separatorExpression = parseExpression(separatorExpression, 'Invalid "separator" expression');
    }

    if (iteratorExpression) {
        iteratorExpression = parseExpression(iteratorExpression, 'Invalid "iterator" expression');
    }

    if (fromExpression) {
        fromExpression = createNumberExpression(fromExpression, 'Invalid "from" expression');
    }

    if (toExpression) {
        toExpression = createNumberExpression(toExpression, 'Invalid "to" expression');
    }

    if (stepExpression) {
        stepExpression = createNumberExpression(stepExpression, 'Invalid "step" expression');
    }

    if (varName != null) {
        varName = buildIdentifier(varName, 'Invalid variable name');
    }

    if (nameVarName) {
        nameVarName = buildIdentifier(nameVarName, 'Invalid name variable');
    }

    if (valueVarName) {
        valueVarName = buildIdentifier(valueVarName, 'Invalid value variable');
    }

    if (statusVarName) {
        statusVarName = parseExpression(statusVarName, 'Invalid status-var option');
        if (statusVarName.type === 'Literal') {
            statusVarName = compiler.builder.identifier(statusVarName.value);
        } else  if (statusVarName.type !== 'Identifier') {
            throwError('Invalid status-var option');
        }
    }

    if (forInit) {
        forInit = parseStatement(forInit, 'Invalid for loop init');
    }

    if (forTest) {
        forTest = parseExpression(forTest, 'Invalid for loop test');
    }

    if (forUpdate) {
        forUpdate = parseExpression(forUpdate, 'Invalid for loop update');
    }

    // No more tokens... now we need to sort out what happened
    if (loopType === 'ForEach') {
        return {
            'loopType': loopType,
            'varName': varName,
            'in': inExpression,
            'separator': separatorExpression,
            'statusVarName': statusVarName,
            'iterator': iteratorExpression,
            'isArray': isArray
        };
    } else if (loopType === 'ForEachProp') {
        return {
            'loopType': loopType,
            'nameVarName': nameVarName,
            'valueVarName': valueVarName,
            'in': inExpression,
            'separator': separatorExpression,
            'statusVarName': statusVarName
        };
    } else if (loopType === 'ForRange') {
        return {
            'loopType': loopType,
            'varName': varName,
            'from': fromExpression,
            'to': toExpression,
            'step': stepExpression
        };
    } else if (loopType === 'For') {
        if (forTest == null) {
            throwError('Invalid native for loop. Expected format: <init>; <test>; <update>');
        }
        return {
            'loopType': loopType,
            'init': forInit,
            'test': forTest,
            'update': forUpdate
        };
    } else {
        throwError('Invalid for loop');
    }
};

});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/util/createLoopNode",function(o,r,e,p,t){function a(o,r,e){var p=n(o);if(p.body=r,"ForEach"===p.loopType)return e.forEach(p);if("ForRange"===p.loopType)return e.forRange(p);if("ForEachProp"===p.loopType)return e.forEachProp(p);if("For"===p.loopType)return e.forStatement(p);throw new Error("Unsupported loop type: "+p.loopType)}var n=o("/marko$4.0.0-rc.12/taglibs/core/util/parseFor");e.exports=a});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/core-transformer", function(require, exports, module, __filename, __dirname) { 'use strict';

var createLoopNode = require('/marko$4.0.0-rc.12/taglibs/core/util/createLoopNode'/*'./util/createLoopNode'*/);

var coreAttrHandlers = [
    [
        'while', function(attr, node) {
            var whileArgument = attr.argument;
            if (!whileArgument) {
                return false;
            }

            var whileNode = this.builder.whileStatement(whileArgument);
            node.wrapWith(whileNode);
        }
    ],
    [
        'for', function(attr, node) {
            var forArgument = attr.argument;
            if (!forArgument) {
                return false;
            }

            var loopNode;

            try {
                loopNode = createLoopNode(forArgument, null, this.builder);
            } catch(e) {
                if (e.code === 'INVALID_FOR') {
                    this.addError(e.message);
                    return;
                } else {
                    throw e;
                }
            }


            //Surround the existing node with the newly created loop node
            // NOTE: The loop node will be one of the following:
            //       ForEach, ForRange, ForEachProp or ForStatement
            node.wrapWith(loopNode);
        }
    ],
    [
        'if', function(attr, node) {
            var ifArgument = attr.argument;
            if (!ifArgument) {
                return false;
            }

            var test;
            try {
                test = this.builder.parseExpression(ifArgument);
            } catch(e) {
                test = this.builder.literalFalse();
                this.addError('Invalid expression for if statement:\n' + e.message);
            }

            var ifNode = this.builder.ifStatement(test);
            //Surround the existing node with an "If" node
            node.wrapWith(ifNode);
        }
    ],
    [
        'unless', function(attr, node) {
            var ifArgument = attr.argument;
            if (!ifArgument) {
                return false;
            }

            var test;
            try {
                test = this.builder.parseExpression(ifArgument);
            } catch(e) {
                test = this.builder.literalFalse();
                this.addError('Invalid expression for unless statement:\n' + e.message);
            }

            test = this.builder.negate(test);
            var ifNode = this.builder.ifStatement(test);
            //Surround the existing node with an "if" node
            node.wrapWith(ifNode);
        }
    ],
    [
        'else-if', function(attr, node) {
            var elseIfArgument = attr.argument;
            if (!elseIfArgument) {
                return false;
            }

            var test;
            try {
                test = this.builder.parseExpression(elseIfArgument);
            } catch(e) {
                test = this.builder.literalFalse();
                this.addError('Invalid expression for else-if statement:\n' + e.message);
            }

            var elseIfNode = this.builder.elseIfStatement(test);
            //Surround the existing node with an "ElseIf" node
            node.wrapWith(elseIfNode);
        }
    ],
    [
        'else', function(attr, node) {
            var elseNode = this.builder.elseStatement();
            //Surround the existing node with an "Else" node
            node.wrapWith(elseNode);
        }
    ],
    [
        'body-only-if', function(attr, node, el) {
            var argument = attr.argument;
            if (!argument) {
                return false;
            }

            var test;
            try {
                test = this.builder.parseExpression(argument);
            } catch(e) {
                test = this.builder.literalFalse();
                this.addError('Invalid expression for body-only-if statement:\n' + e.message);
            }

            el.setBodyOnlyIf(test);
        }
    ],
    [
        'marko-preserve-whitespace', function(attr, node, el) {
            el.setPreserveWhitespace(true);
        }
    ],
    [
        'marko-init', function(attr, node, el) {
            if (el.tagName !== 'script') {
                this.addError('The "marko-init" attribute should only be used on the <script> tag');
                return;
            }
            this.context.deprecate('The "marko-init" attribute is deprecated.  Use the static tag instead. See https://github.com/marko-js/marko/issues/547');
            var bodyText = el.bodyText;
            el.noOutput = true;
            this.context.addStaticCode(bodyText);
            el.detach();
            return null;
        }
    ],
    [
        'template-helpers', function(attr, node, el) {
            if (el.tagName !== 'script') {
                this.addError('The "template-helpers" attribute should only be used on the <script> tag');
                return;
            }
            this.context.deprecate('The "template-helpers" attribute is deprecated and will be removed in the next release candidate. Use the static tag instead. See https://github.com/marko-js/marko/issues/547');
            var bodyText = el.bodyText;
            el.noOutput = true;
            this.context.addStaticCode(bodyText);
            el.detach();
            return null;
        }
    ],
    [
        'include', function(attr, node, el) {
            var context = this.context;

            if (typeof attr.argument === 'string') {
                if (attr.argument) {
                    var includeNode = context.createNodeForEl('include', null, attr.argument);
                    node.appendChild(includeNode);                    
                } else {
                    context.addError(el, 'The include attribute must have an argument. For example: include("./target.marko") or include(data.renderBody)');
                }

            } else {
                return false;
            }
        }
    ]
];

class AttributeTransformer {
    constructor(context, el) {
        this.context = context;
        this.builder = context.builder;
        this.el = el;
    }

    addError(message) {
        this.context.addError({
            node: this.el,
            message: message
        });
    }
}

coreAttrHandlers.forEach(function(attrHandler) {
    var name = attrHandler[0];
    var func = attrHandler[1];
    AttributeTransformer.prototype[name] = func;
});

var attributeTransformers = AttributeTransformer.prototype;

module.exports = function transform(el, context) {
    el.removeAttribute('marko-body'); // This attribute is handled at parse time. We can just remove it now

    var attributeTransfomer;
    var node = el;

    el.forEachAttribute((attr) => {
        let attrName = attr.name;
        if (!attrName) {
            if (!node.addDynamicAttributes) {
                context.addError(el, 'Node does not support the "attrs" attribute');
            } else {
                node.addDynamicAttributes(attr.value);
            }
            return;
        }
        var attrTransformerFunc = attributeTransformers[attrName];
        if (attrTransformerFunc) {
            if (!attributeTransfomer) {
                attributeTransfomer = new AttributeTransformer(context, el);
            }
            var newNode = attributeTransfomer[attrName](attr, node, el);
            if (newNode !== false) {
                el.removeAttribute(attrName);
                if (newNode !== undefined) {
                    if (newNode) {
                        newNode.pos = node.pos;
                    }

                    node = newNode;
                }
            }
        }
    });
};
});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/else-if-tag",function(e,r,t,a,i){t.exports=function(e,r){var t=e.argument,a=e.attributes;if(!t)return r.addError("Invalid <else-if> tag. Argument is missing. Example; <if(foo === true)>"),e;if(a.length)return r.addError("Invalid <else-if> tag. Attributes not allowed."),e;var i;try{i=r.builder.parseExpression(t)}catch(e){i=r.builder.literalFalse(),r.addError("Invalid expression for else-if statement:\n"+e.message)}var s=r.builder.elseIfStatement(i);return s}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/else-tag", function(require, exports, module, __filename, __dirname) { 'use strict';

module.exports = function nodeFactory(el, context) {

    var elseStatement = context.builder.elseStatement();

    var argument = el.argument;
    if (argument) {
        context.addError(elseStatement, 'Invalid <else> tag. Argument is not allowed');
    }

    if (el.hasAttribute('if')) {
        let ifAttr = el.getAttribute('if');
        el.removeAttribute('if');

        if (el.attributes.length) {
            context.addError(elseStatement, 'Invalid <else if> tag. Only the "if" attribute is allowed.');
            return el;
        }

        var testExpression = ifAttr.argument;
        if (!testExpression) {
            context.addError(elseStatement, 'Invalid <else if> tag. Invalid "if" attribute. Expected: <else if(<test>)>');
            return el;
        }
        var elseIfStatement = context.builder.elseIfStatement(testExpression);
        return elseIfStatement;
    }

    if (el.attributes.length) {
        context.addError(elseStatement, 'Invalid <else> tag. Attributes not allowed.');
        return el;
    }

    return elseStatement;
};
});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/for-tag",function(r,o,a,e,t){var i=r("/marko$4.0.0-rc.12/taglibs/core/util/createLoopNode");a.exports=function(r,o){var a=r.argument;if(!a)return o.addError("Invalid <for> tag. Argument is missing. Example: <for(color in colors)>"),r;var e=o.builder;try{var t=i(a,r.body,e);return t}catch(r){if("INVALID_FOR"!==r.code)throw r;o.addError(r.message)}}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/function-tag",function(n,r,t,o,e){t.exports=function(n,r){return r.builder.expression(n.tagString)}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/if-tag",function(r,t,e,i,a){e.exports=function(r,t){var e=r.argument;if(!e)return t.addError("Invalid <if> tag. Argument is missing. Example; <if(foo === true)>"),r;var i=r.attributes;if(i.length)return void t.addError("Invalid <if> tag. Attributes not allowed.");var a;try{a=t.builder.parseExpression(e)}catch(r){a=t.builder.literalFalse(),t.addError("Invalid expression for if statement:\n"+r.message)}return t.builder.ifStatement(a)}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/util/parseImport", function(require, exports, module, __filename, __dirname) { "use strict";

function getSpecifiers(importDeclaration) {
    var match = /^(.+)\bfrom\s*(("|')(.*?)("|'))$/.exec(importDeclaration);
    if(!match) {
        return { moduleSpecifier: importDeclaration.replace(/\"|\'/g, "").trim() };
    }

    return {
        importSpecifierSet: match[1].trim(),
        moduleSpecifier: match[4].trim()
    };
}

function getImportSpecifierGroups(importSpecifierSet) {
    var defaultImport = importSpecifierSet;
    var decomposedImports = /(?:,\s*)?{(.*)}$/.exec(importSpecifierSet) || [];

    if(decomposedImports.length) {
        defaultImport = defaultImport.replace(decomposedImports[0], '');
        decomposedImports = decomposedImports[1].split(',').map(specifier => specifier.trim());
    }

    return {
        defaultImport: defaultImport,
        decomposedImports: decomposedImports
    };
}

function getVariableName(moduleSpecifier) {
    var withoutPath = /([^\/\\]+)$/.exec(moduleSpecifier)[1];
    var withoutExtension = withoutPath.replace(/\.[a-z0-9]+$/i, '');
    return withoutExtension.replace(/[^a-z0-9]+([a-z])/gi, (_, p1) => p1.toUpperCase())+'_module';
}

function getNames(importSpecifier) {
       var names = importSpecifier.split(/\bas\b/);

       if (names.length == 1) {
            names[1] = names[0];
       }

       return {
            exported: names[0].trim(),
            local: names[1].trim()
       };
}

module.exports = function importToAssignments(tagString) {
    var importDeclaration = tagString.replace(/^import/, '').trim();
    var specifiers = getSpecifiers(importDeclaration);
    var importSpecifierSet = specifiers.importSpecifierSet;
    var moduleSpecifier = specifiers.moduleSpecifier;

    if(!importSpecifierSet) {
        return [ { module: true, value: moduleSpecifier } ];
    }

    var importGroups = getImportSpecifierGroups(importSpecifierSet);
    var rootVariable = getNames(importGroups.defaultImport).local || getVariableName(moduleSpecifier);
    var specifierList = importGroups.decomposedImports.map(getNames).map(names => {
        return {
            name: names.local,
            value: {
                object: rootVariable,
                property: names.exported
            }
        };
    });

    return [{ name: rootVariable, value: moduleSpecifier, module: true }].concat(specifierList) ;
};
});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/import-tag", function(require, exports, module, __filename, __dirname) { var isValidJavaScriptVarName = require('/marko$4.0.0-rc.12/compiler/util/isValidJavaScriptVarName'/*'../../compiler/util/isValidJavaScriptVarName'*/);
var parseImport = require('/marko$4.0.0-rc.12/taglibs/core/util/parseImport'/*'./util/parseImport'*/);

module.exports = function codeGenerator(el, codegen) {
    var builder = codegen.builder;
    var args = parseImport(el.tagString);
    var vars = {};

    args.forEach(arg => {
        var varName = arg.name;

        if (!isValidJavaScriptVarName(varName)) {
            codegen.addError('Invalid JavaScript variable name: ' + varName, 'INVALID_VAR_NAME');
            return;
        }

        if (arg.module) {
            // needs to be require()'d
            var result = builder.require(builder.literal(arg.value));

            if (varName) {
                // saves identifier
                vars[varName] = codegen.addStaticVar(varName, result);
            } else {
                codegen.addStaticCode(result);
            }
        } else {
            // ie: { bar } from "./bar"
            var modIdentifier = vars[arg.value.object];
            if (!modIdentifier) {
                codegen.addError('Variable not found: ' + arg.value.object);
                return;
            }

            codegen.addStaticVar(varName, builder.memberExpression(
                modIdentifier,
                builder.identifier(arg.value.property)
            ));
        }
    });

    return [];
};

});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/include-html-tag-browser", function(require, exports, module, __filename, __dirname) { 'use strict';
module.exports = function codeGenerator(el, codegen) {
    let argument = el.argument;
    if (!argument) {
        return;
    }

    let builder = codegen.builder;
    let pathExpression = builder.parseExpression(argument);
    if (pathExpression.type !== 'Literal' || typeof pathExpression.value !== 'string') {
        codegen.addError('Argument to the <include-text> tag should be a string value: <include-text("./foo.txt")/>');
        return;
    }

    var path = pathExpression.value;
    return builder.text(builder.literal('<include-html> cannot be compiled in the browser (path="' + path + '")'));
};
});
$_mod.remap("/marko$4.0.0-rc.12/taglibs/core/include-html-tag","/marko$4.0.0-rc.12/taglibs/core/include-html-tag-browser");
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/include-tag-transformer", function(require, exports, module, __filename, __dirname) { 'use strict';

module.exports = function(el, context) {
    let builder = context.builder;

    if (el.argument) {
        let args = el.argument && builder.parseJavaScriptArgs(el.argument);
        el.argument = null;

        let target = args[0];
        let arg = args[1];

        if (target.type === 'Literal') {
            target = context.importTemplate(target.value);
        }

        var includeProps = {
            _target: target
        };

        if (arg) {
            includeProps._arg = arg;
        }

        el.addProps(includeProps);
    } else if (!el.hasProp('_target')) {
        context.addError(el, 'The <include(...)> tag must have an argument: <include("./target.marko")/> or <include(data.renderBody)/>');
    }
};
});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/include-tag",function(e,r,t,n,o){t.exports=function(e,r){var t=e._target,n=e._arg||e;if(t)if("function"==typeof t)t(r,n);else if("string"==typeof t)r.text(t);else{if("object"!=typeof t)throw new Error("Invalid include target: "+t);t.renderBody?t.renderBody(r,n):t.renderer?t.renderer(n,r):t.render?t.render(n,r):t.safeHTML&&r.write(t.safeHTML)}}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/include-text-tag-browser", function(require, exports, module, __filename, __dirname) { 'use strict';
module.exports = function codeGenerator(el, codegen) {
    let argument = el.argument;
    if (!argument) {
        return;
    }

    let builder = codegen.builder;
    let pathExpression = builder.parseExpression(argument);
    if (pathExpression.type !== 'Literal' || typeof pathExpression.value !== 'string') {
        codegen.addError('Argument to the <include-text> tag should be a string value: <include-text("./foo.txt")/>');
        return;
    }

    var path = pathExpression.value;
    return builder.text(builder.literal('<include-text> cannot be compiled in the browser (path="' + path + '")'));
};
});
$_mod.remap("/marko$4.0.0-rc.12/taglibs/core/include-text-tag","/marko$4.0.0-rc.12/taglibs/core/include-text-tag-browser");
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/invoke-tag",function(o,r,e,n,i){e.exports=function(o,r){var e=o.attributes[0];if(!e)return void r.addError('Invalid <invoke> tag. Missing function attribute. Expected: <invoke console.log("Hello World")');var n=e.argument;if(void 0===n)return void r.addError('Invalid <invoke> tag. Missing function arguments. Expected: <invoke console.log("Hello World")');var i=e.name,t=i+"("+n+")";return r.builder.parseExpression(t)}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/macro-body-tag",function(r,e,o,t,n){o.exports=function(r,e){var o=e.builder;return o.ifStatement(o.identifier("renderBody"),[o.functionCall("renderBody",["out"])])}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/macro-tag",function(r,a,t,e,o){t.exports=function(r,a){var t=r.attributes,e=t[0];if(!e||void 0!==e.value)return a.addError(r,"The <macro> tag must contain a name as its first attribute, example: <macro greeting()>"),r;var o,i=r.body,n=e.name,m=e.argument;o=m?m.split(/\s*,\s*/):[];var s=a.builder;return a.registerMacro(n,o),s.macro(n,o,i)}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/marko-preserve-whitespace-tag",function(e,r,o,t,a){o.exports=function(e,r){return e.body}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/static-tag",function(t,e,a,r,d){a.exports=function(t,e){"TemplateRoot"!==t.parentNode.type&&e.addError("static is a static tag and can only be declared at the template root");var a=t.tagString.replace(/^static\s*/,"").trim();if("{"===a[0]){var r=a.slice(1,-1);e.addStaticCode(e.builder.code(r))}else e.addStaticCode(e.builder.expression(a));return null}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/unless-tag",function(e,r,t,a,n){t.exports=function(e,r){var t=e.argument;if(!t)return r.addError("Invalid <unless> tag. Argument is missing. Example; <unless(foo === true)>"),e;var a=e.attributes;if(a.length)return void r.addError("Invalid <unless> tag. Attributes not allowed.");var n,s=r.builder;try{n=s.parseExpression(t)}catch(e){n=s.literalFalse(),r.addError("Invalid expression for unless statement:\n"+e.message)}return r.builder.ifStatement(s.negate(n))}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/var-tag", function(require, exports, module, __filename, __dirname) { var isValidJavaScriptVarName = require('/marko$4.0.0-rc.12/compiler/util/isValidJavaScriptVarName'/*'../../compiler/util/isValidJavaScriptVarName'*/);

module.exports = function nodeFactory(el, context) {
    var vars;

    try {
        vars = context.builder.parseStatement(el.tagString);
    } catch(e) {}

    if (vars) {
        return vars;
    }

    var builder = context.builder;
    var hasError = false;

    var declarations = el.attributes.map((attr) => {
        var varName = attr.name;

        if (!isValidJavaScriptVarName(varName)) {
            context.addError('Invalid JavaScript variable name: ' + varName, 'INVALID_VAR_NAME');
            hasError = true;
            return;
        }

        var id = builder.identifier(varName);
        var init = attr.value;

        return {
            id: id,
            init
        };
    });

    if (hasError) {
        return el;
    }

    return context.builder.vars(declarations);
};

});
$_mod.def("/marko$4.0.0-rc.12/taglibs/core/while-tag",function(r,e,i,t,a){i.exports=function(r,e){var i=r.argument;if(!i)return e.addError("Invalid <while> tag. Argument is missing. Example: <while(i < 4)>"),r;var t=e.builder;return t.whileStatement(t.parseExpression(i),r.body)}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/html/html-comment-tag",function(t,e,r,o,i){"use strict";r.exports=function(t,e){e.write&&(e.write("<!--"),t.renderBody&&t.renderBody(e),e.write("-->"))}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/layout/placeholder-tag",function(e,r,n,o,d){n.exports=function(e,r){var n=e.content,o=n?n[e.name]:null;o?o.value?r.write(o.value):o.renderBody&&o.renderBody(r):e.renderBody&&e.renderBody(r)}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/layout/put-tag",function(t,a,o,u,n){o.exports=function(t,a){var o=t.layout,u=o.handlePutTag;u(t)}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/layout/use-tag-transformer",function(e,t,a,r,u){"use strict";a.exports=function(e,t){var a=e.argument;if(!a)return void t.addError("Invalid <layout-use> tag. Expected: <layout-use(template[, data]) ...>");t.deprecate("The <layout-use> tag is deprecated. Please use <include> instead. See: https://github.com/marko-js/marko/issues/452");var r=t.builder,u=r.parseJavaScriptArgs(a),s=u[0];"Literal"===s.type&&(s=t.importTemplate(s.value)),u[1]&&e.setAttributeValue("__data",u[1]),e.argument=null,e.setAttributeValue("__template",s)}});
$_mod.def("/marko$4.0.0-rc.12/taglibs/layout/use-tag",function(t,n,a,e,o){a.exports=function(t,n){var a={};t.getContent&&t.getContent({handlePutTag:function(t){a[t.into]=t}});var e=t.__data,o=t["*"]||{};if(e)for(var r in e)e.hasOwnProperty(r)&&!o.hasOwnProperty(r)&&(o[r]=e[r]);o.layoutContent=a,t.__template.render(o,n)}});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/body-transformer", function(require, exports, module, __filename, __dirname) { 'use strict';

module.exports = function transform(el, context) {
    // Make <await-reorderer> optional. Automatically insert it before the
    // body tag.
    let awaitReorderer = context.createNodeForEl('await-reorderer');
    el.appendChild(awaitReorderer);

    let initWidgetsNode = context.createNodeForEl('init-widgets');
    el.appendChild(initWidgetsNode);
};
});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/getRequirePath-browser",function(e,t,r,i,o){r.exports=function(e,t){return t.getRequirePath(e)}});
$_mod.remap("/marko$4.0.0-rc.12/widgets/taglib/getRequirePath","/marko$4.0.0-rc.12/widgets/taglib/getRequirePath-browser");
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/include-tag",function(e,t,r,i,o){var a=e("/marko$4.0.0-rc.12/taglibs/core/include-tag"),d=e("/marko$4.0.0-rc.12/widgets/WidgetsContext"),g=e("/marko$4.0.0-rc.12/widgets/util-browser").$__getElementById;r.exports=function(e,t){var r=e._target;if(null!=r)a(e,t);else if(g){var i=e._elId,o=g(t.$__document,i);if(o){var n=d.$__getWidgetsContext(t);n.$__preserveDOMNode(i,!0)}}}});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/init-widgets-tag",function(t,e,i,n,o){const a=Symbol();var r=t("/marko$4.0.0-rc.12/widgets/index-browser").writeInitWidgetsCode,d=t("/marko$4.0.0-rc.12/widgets/WidgetsContext");i.exports=function(t,e){var i=e.global;if(!i[a])if(i[a]=!0,e.on("await:beforeRender",function(t){if(t.clientReorder){var e=t.out;e.data.widgets=new d(e)}}),e.on("await:finish",function(t){var e=t.out,i=e.data.widgets||e.global.widgets;i&&r(i,e)}),e.isSync()){var n=d.$__getWidgetsContext(e);r(n,e)}else{var o=e.beginAsync({last:!0,timeout:-1});e.onLast(function(t){var i=d.$__getWidgetsContext(e);r(i,o),o.end(),t()})}}});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/preserve-tag",function(e,r,t,d,i){var o=e("/marko$4.0.0-rc.12/widgets/WidgetsContext"),a=e("/marko$4.0.0-rc.12/widgets/util-browser").$__getElementById;t.exports=function(e,r){var t=r.global;if(void 0!==t.$w){var d=e.id,i=e.if;if(i!==!1){var n=a(r.$__document,d);if(n){var g=o.$__getWidgetsContext(r),v=e.bodyOnly===!0;if(!v){var s=n.tagName;r.element(s,{id:d})}return void g.$__preserveDOMNode(d,v)}}}e.renderBody&&e.renderBody(r)}});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/widget-tag",function(t,i,e,a,d){"use strict";var r=Symbol();e.exports=function(t,i){var e=i.builder,a=i.context,d=e.renderBodyFunction(t.body,[e.identifierOut(),e.identifier("widget"),e.identifier("state")]),n=t.getAttributeValue("props"),o=a.addStaticVar("marko_bindWidget",e.require(e.literal("marko/widgets/taglib/helpers/bindWidget")));null==a.data[r]&&(a.data[r]=0);var l=a.addStaticVar("marko_bindWidget"+a.data[r]++,e.functionCall(o,[n]));return e.functionCall(l,[d,e.identifierOut()])}});
$_mod.main("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper","");
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/WidgetArgs", function(require, exports, module, __filename, __dirname) { 'use strict';

class WidgetArgs {

    constructor() {
        this.id = null;
        this.customEvents = null;
        this.empty = true;
    }

    setId(id) {
        this.empty = false;
        this.id = id;
    }

    getId() {
        return this.id;
    }

    addCustomEvent(eventType, targetMethod, extraArgs) {
        this.empty = false;

        if (!this.customEvents) {
            this.customEvents = [];
        }

        this.customEvents.push(eventType);
        this.customEvents.push(targetMethod);
        this.customEvents.push(extraArgs);
    }

    compile(transformHelper) {
        if (this.empty) {
            return;
        }

        var el = transformHelper.el;

        var builder = transformHelper.builder;

        var id = this.id;
        var customEvents = this.customEvents;

        // Make sure the nested widget has access to the ID of the containing
        // widget if it is needed
        var shouldProvideScope = id || customEvents;

        var args = [];

        if (shouldProvideScope) {
            args.push(builder.identifier('widget'));
        } else {
            args.push(builder.literalNull());
        }

        if (id != null) {
            args.push(id);
        } else {
            args.push(builder.literalNull());
        }

        if (customEvents) {
            args.push(builder.literal(customEvents));
        }

        if (el.tagDef && el.tagDef.template) {
            el.setAttributeValue('$w', builder.literal(args));
        } else {
            let widgetArgsVar = transformHelper.context.addStaticVar('marko_widgetArgs',
                builder.require(builder.literal('marko/widgets/taglib/helpers/widgetArgs')));

            let widgetArgsFunctionCall = builder.functionCall(widgetArgsVar, [
                builder.identifierOut(),
                builder.literal(args)
            ]);
            let cleanupWidgetArgsFunctionCall = this.buildCleanupWidgetArgsFunctionCall(transformHelper);

            el.onBeforeGenerateCode((event) => {
                event.insertCode(widgetArgsFunctionCall);
            });

            el.onAfterGenerateCode((event) => {
                event.insertCode(cleanupWidgetArgsFunctionCall);
            });
        }
    }

    buildCleanupWidgetArgsFunctionCall(transformHelper) {
        var context = transformHelper.context;
        var builder = transformHelper.builder;

        var cleanupWidgetArgsVar = context.addStaticVar('marko_cleanupWidgetArgs',
            'marko_widgetArgs.cleanup');

        return builder.functionCall(cleanupWidgetArgsVar, [builder.identifierOut()]);
    }
}

module.exports = WidgetArgs;
});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/util/buildWidgetTypeNode",function(e,r,t,i,a){var o=e("/try-require$1.2.1/index"),n=o("lasso-modules-client/transport",e),d=o("resolve-from",e),s=e("/assert$1.3.0/assert").ok;t.exports=function(e,r,t,i){s("string"==typeof e,'"path" should be a string'),s("string"==typeof r,'"from" should be a string');var a,o=i.context,l=o.builder,f=o.addStaticVar("marko_registerWidget",l.memberExpression(i.markoWidgetsVar,l.identifier("rw")));if(n){var u=d(r,e);if(!u)throw new Error("Widget module not found: "+e+" (from "+r+")");a=n.getClientPath(u)}else a=e;if(!t){var g=l.require(l.literal(e));if(i.isLegacyWidget){var m=o.addStaticVar("marko_defineWidget",l.memberExpression(i.markoWidgetsVar,l.identifier("w")));g=l.functionCall(m,[g])}t=l.functionDeclaration(null,[],[l.returnStatement(g)])}return l.functionCall(f,[l.literal(a),t])}});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/assignWidgetId", function(require, exports, module, __filename, __dirname) { 'use strict';

module.exports = function assignWidgetId(isRepeated) {

    // First check if we have already assigned an ID to thie element
    var widgetIdInfo = this.widgetIdInfo;

    if (widgetIdInfo) {
        return this.widgetIdInfo;
    }

    var el = this.el;
    var context = this.context;
    var builder = this.builder;

    let widgetRef;
    var nestedIdExpression;
    var idExpression;

    if (!this.hasBoundWidgetForTemplate()) {
        // We are assigning a widget ID to a nested widget in a template that does not have a widget.
        // That means we do not have access to the parent widget variable as part of a closure. We
        // need to look it up out of the `out.data` map
        if (!context.isFlagSet('hasWidgetVar')) {
            context.setFlag('hasWidgetVar');

            var getCurrentWidgetVar = context.importModule('marko_getCurrentWidget',
                this.getMarkoWidgetsRequirePath('marko/widgets/taglib/helpers/getCurrentWidget'));

            context.addVar('widget', builder.functionCall(getCurrentWidgetVar, [builder.identifierOut()]));
        }
    }

    // In order to attach a DOM event listener directly we need to make sure
    // the target HTML element has an ID that we can use to get a reference
    // to the element during initialization. We generate this unique ID
    // at compile-time to allow consistent IDs during rendering.
    // We need to handle the following scenarios:
    //
    // 1) The HTML element already has an "id" attribute
    // 2) The HTML element has a "ref" or "w-id" attribute (we already converted this
    //    to an "id" attribute above)
    // 3) The HTML does not have an "id" or "ref" attribute. We must add
    //    an "id" attribute with a unique ID.

    var isCustomTag = el.type !== 'HtmlElement';



    if (el.hasAttribute('ref')) {
        widgetRef = el.getAttributeValue('ref');
        el.removeAttribute('ref');
    }

    if (el.hasAttribute('w-id')) {
        context.deprecate('The "w-id" attribute is deprecated. Please use "ref" instead.');

        if (widgetRef) {
            this.addError('The "w-id attribute cannot be used in conjuction with the "ref" attribute.');
            return;
        }

        widgetRef = el.getAttributeValue('w-id');

        el.removeAttribute('w-id');
    }

    if (widgetRef) {
        idExpression = this.buildWidgetElIdFunctionCall(widgetRef);

        nestedIdExpression = widgetRef;

        if (isCustomTag) {
            // The element is a custom tag
            this.getWidgetArgs().setId(nestedIdExpression);
        } else {
            if (el.hasAttribute('id')) {
                this.addError('The "ref" and "w-id" attributes cannot be used in conjuction with the "id" attribute.');
                return;
            }
            el.setAttributeValue('id', idExpression);
        }
    } else if (el.hasAttribute('id')) {
        idExpression = el.getAttributeValue('id');

        if (el.isFlagSet('hasWidgetBind')) {
            // We have to attach a listener to the root element of the widget
            // We will use an empty string as an indicator that it is the root widget
            // element.
            nestedIdExpression = builder.literal('');
        } else {
            // Convert the raw String to a JavaScript expression. we need to prefix
            // with '#' to make it clear this is a fully resolved element ID
            nestedIdExpression = builder.concat(
                builder.literal('#'),
                idExpression);
        }
    } else {
        // Case 3 - We need to add a unique "id" attribute
        let uniqueElId = this.nextUniqueId();

        nestedIdExpression = isRepeated ? builder.literal(uniqueElId + '[]') : builder.literal(uniqueElId);

        idExpression = this.buildWidgetElIdFunctionCall(nestedIdExpression);

        if (isCustomTag) {
            this.getWidgetArgs().setId(nestedIdExpression);
        } else {
            el.setAttributeValue('id', idExpression);
        }
    }

    var transformHelper = this;

    this.widgetIdInfo = {
        idExpression: idExpression,
        nestedIdExpression: nestedIdExpression,
        idVarNode: null,
        createIdVarNode: function() {
            if (this.idVarNode) {
                return this.idVarNode;
            }

            let uniqueElId = transformHelper.nextUniqueId();
            let idVarName = '__widgetId' + uniqueElId;
            let idVar = builder.identifier(idVarName);

            this.idVarNode = builder.vars([
                {
                    id: idVarName,
                    init: idExpression
                }
            ]);

            this.idExpression = idExpression = idVar;

            this.nestedIdExpression = nestedIdExpression = builder.concat(
                builder.literal('#'),
                idVar);

            if (isCustomTag) {
                transformHelper.getWidgetArgs().setId(nestedIdExpression);
            } else {
                el.setAttributeValue('id', idExpression);
            }

            return this.idVarNode;
        }
    };

    return this.widgetIdInfo;
};
});
$_mod.installed("marko$4.0.0-rc.12","estraverse","4.2.0");
$_mod.main("/estraverse$4.2.0","estraverse");
$_mod.def("/estraverse$4.2.0/package",{_args:[[{raw:"estraverse@^4.2.0",scope:null,escapedName:"estraverse",name:"estraverse",rawSpec:"^4.2.0",spec:">=4.2.0 <5.0.0",type:"range"},"/Users/mirawlings/code/marko"]],_from:"estraverse@>=4.2.0 <5.0.0",_id:"estraverse@4.2.0",_inCache:!0,_installable:!0,_location:"/estraverse",_nodeVersion:"0.12.9",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/estraverse-4.2.0.tgz_1457646738925_0.7118953282479197"},_npmUser:{name:"nzakas",email:"nicholas@nczconsulting.com"},_npmVersion:"2.14.9",_phantomChildren:{},_requested:{raw:"estraverse@^4.2.0",scope:null,escapedName:"estraverse",name:"estraverse",rawSpec:"^4.2.0",spec:">=4.2.0 <5.0.0",type:"range"},_requiredBy:["/","/lasso-require"],_resolved:"https://registry.npmjs.org/estraverse/-/estraverse-4.2.0.tgz",_shasum:"0dee3fed31fcd469618ce7342099fc1afa0bdb13",_shrinkwrap:null,_spec:"estraverse@^4.2.0",_where:"/Users/mirawlings/code/marko",bugs:{url:"https://github.com/estools/estraverse/issues"},dependencies:{},description:"ECMAScript JS AST traversal functions",devDependencies:{"babel-preset-es2015":"^6.3.13","babel-register":"^6.3.13",chai:"^2.1.1",espree:"^1.11.0",gulp:"^3.8.10","gulp-bump":"^0.2.2","gulp-filter":"^2.0.0","gulp-git":"^1.0.1","gulp-tag-version":"^1.2.1",jshint:"^2.5.6",mocha:"^2.1.0"},directories:{},dist:{shasum:"0dee3fed31fcd469618ce7342099fc1afa0bdb13",tarball:"https://registry.npmjs.org/estraverse/-/estraverse-4.2.0.tgz"},engines:{node:">=0.10.0"},gitHead:"6f6a4e99653908e859c7c10d04d9518bf4844ede",homepage:"https://github.com/estools/estraverse",license:"BSD-2-Clause",main:"estraverse.js",maintainers:[{name:"constellation",email:"utatane.tea@gmail.com"},{name:"michaelficarra",email:"npm@michael.ficarra.me"},{name:"nzakas",email:"nicholas@nczconsulting.com"}],name:"estraverse",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/estools/estraverse.git"},scripts:{lint:"jshint estraverse.js",test:"npm run-script lint && npm run-script unit-test","unit-test":"mocha --compilers js:babel-register"},version:"4.2.0"});
$_mod.def("/estraverse$4.2.0/estraverse",function(e,t,n,r,i){!function t(n){"use strict";function r(){}function i(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],"object"==typeof n&&null!==n?r[t]=i(n):r[t]=n);return r}function o(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function a(e,t){var n,r,i,o;for(r=e.length,i=0;r;)n=r>>>1,o=i+n,t(e[o])?r=n:(i=o+1,r-=n+1);return i}function s(e,t){var n,r,i,o;for(r=e.length,i=0;r;)n=r>>>1,o=i+n,t(e[o])?(i=o+1,r-=n+1):r=n;return i}function l(e,t){var n,r,i,o=v(t);for(r=0,i=o.length;r<i;r+=1)n=o[r],e[n]=t[n];return e}function p(e,t){this.parent=e,this.key=t}function c(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function u(){}function f(e){return null!=e&&("object"==typeof e&&"string"==typeof e.type)}function h(e,t){return(e===g.ObjectExpression||e===g.ObjectPattern)&&"properties"===t}function m(e,t){var n=new u;return n.traverse(e,t)}function d(e,t){var n=new u;return n.replace(e,t)}function y(e,t){var n;return n=a(t,function(t){return t.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[n].range[0]),n-=1,n>=0&&(e.extendedRange[0]=t[n].range[1]),e}function _(e,t,n){var r,o,a,s,l=[];if(!e.range)throw new Error("attachComments needs range information");if(!n.length){if(t.length){for(a=0,o=t.length;a<o;a+=1)r=i(t[a]),r.extendedRange=[0,e.range[0]],l.push(r);e.leadingComments=l}return e}for(a=0,o=t.length;a<o;a+=1)l.push(y(i(t[a]),n));return s=0,m(e,{enter:function(e){for(var t;s<l.length&&(t=l[s],!(t.extendedRange[1]>e.range[0]));)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),l.splice(s,1)):s+=1;return s===l.length?E.Break:l[s].extendedRange[0]>e.range[1]?E.Skip:void 0}}),s=0,m(e,{leave:function(e){for(var t;s<l.length&&(t=l[s],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),l.splice(s,1)):s+=1;return s===l.length?E.Break:l[s].extendedRange[0]>e.range[1]?E.Skip:void 0}}),e}var g,x,E,S,b,v,k,w,C;return x=Array.isArray,x||(x=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),r(o),r(s),b=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),v=Object.keys||function(e){var t,n=[];for(t in e)n.push(t);return n},g={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},S={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},k={},w={},C={},E={Break:k,Skip:w,Remove:C},p.prototype.replace=function(e){this.parent[this.key]=e},p.prototype.remove=function(){return x(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},u.prototype.path=function(){function e(e,t){if(x(t))for(r=0,i=t.length;r<i;++r)e.push(t[r]);else e.push(t)}var t,n,r,i,o,a;if(!this.__current.path)return null;for(o=[],t=2,n=this.__leavelist.length;t<n;++t)a=this.__leavelist[t],e(o,a.path);return e(o,this.__current.path),o},u.prototype.type=function(){var e=this.current();return e.type||this.__current.wrap},u.prototype.parents=function(){var e,t,n;for(n=[],e=1,t=this.__leavelist.length;e<t;++e)n.push(this.__leavelist[e].node);return n},u.prototype.current=function(){return this.__current.node},u.prototype.__execute=function(e,t){var n,r;return r=void 0,n=this.__current,this.__current=t,this.__state=null,e&&(r=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=n,r},u.prototype.notify=function(e){this.__state=e},u.prototype.skip=function(){this.notify(w)},u.prototype.break=function(){this.notify(k)},u.prototype.remove=function(){this.notify(C)},u.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===t.fallback?this.__fallback=v:"function"==typeof t.fallback&&(this.__fallback=t.fallback),this.__keys=S,t.keys&&(this.__keys=l(b(this.__keys),t.keys))},u.prototype.traverse=function(e,t){var n,r,i,o,a,s,l,p,u,m,d,y;for(this.__initialize(e,t),y={},n=this.__worklist,r=this.__leavelist,n.push(new c(e,null,null,null)),r.push(new c(null,null,null,null));n.length;)if(i=n.pop(),i!==y){if(i.node){if(s=this.__execute(t.enter,i),this.__state===k||s===k)return;if(n.push(y),r.push(i),this.__state===w||s===w)continue;if(o=i.node,a=o.type||i.wrap,m=this.__keys[a],!m){if(!this.__fallback)throw new Error("Unknown node type "+a+".");m=this.__fallback(o)}for(p=m.length;(p-=1)>=0;)if(l=m[p],d=o[l])if(x(d)){for(u=d.length;(u-=1)>=0;)if(d[u]){if(h(a,m[p]))i=new c(d[u],[l,u],"Property",null);else{if(!f(d[u]))continue;i=new c(d[u],[l,u],null,null)}n.push(i)}}else f(d)&&n.push(new c(d,l,null,null))}}else if(i=r.pop(),s=this.__execute(t.leave,i),this.__state===k||s===k)return},u.prototype.replace=function(e,t){function n(e){var t,n,i,o;if(e.ref.remove())for(n=e.ref.key,o=e.ref.parent,t=r.length;t--;)if(i=r[t],i.ref&&i.ref.parent===o){if(i.ref.key<n)break;--i.ref.key}}var r,i,o,a,s,l,u,m,d,y,_,g,E;for(this.__initialize(e,t),_={},r=this.__worklist,i=this.__leavelist,g={root:e},l=new c(e,null,null,new p(g,"root")),r.push(l),i.push(l);r.length;)if(l=r.pop(),l!==_){if(s=this.__execute(t.enter,l),void 0!==s&&s!==k&&s!==w&&s!==C&&(l.ref.replace(s),l.node=s),this.__state!==C&&s!==C||(n(l),l.node=null),this.__state===k||s===k)return g.root;if(o=l.node,o&&(r.push(_),i.push(l),this.__state!==w&&s!==w)){if(a=o.type||l.wrap,d=this.__keys[a],!d){if(!this.__fallback)throw new Error("Unknown node type "+a+".");d=this.__fallback(o)}for(u=d.length;(u-=1)>=0;)if(E=d[u],y=o[E])if(x(y)){for(m=y.length;(m-=1)>=0;)if(y[m]){if(h(a,d[u]))l=new c(y[m],[E,m],"Property",new p(y,m));else{if(!f(y[m]))continue;l=new c(y[m],[E,m],null,new p(y,m))}r.push(l)}}else f(y)&&r.push(new c(y,E,null,new p(o,E)))}}else if(l=i.pop(),s=this.__execute(t.leave,l),void 0!==s&&s!==k&&s!==w&&s!==C&&l.ref.replace(s),this.__state!==C&&s!==C||n(l),this.__state===k||s===k)return g.root;return g.root},n.version=e("/estraverse$4.2.0/package").version,n.Syntax=g,n.traverse=m,n.replace=d,n.attachComments=_,n.VisitorKeys=S,n.VisitorOption=E,n.Controller=u,n.cloneEnvironment=function(){return t({})},n}(t)});
$_mod.installed("marko$4.0.0-rc.12","escodegen","1.8.1");
$_mod.main("/escodegen$1.8.1","escodegen");
$_mod.installed("escodegen$1.8.1","estraverse","1.9.3");
$_mod.main("/estraverse$1.9.3","estraverse");
$_mod.def("/estraverse$1.9.3/estraverse",function(e,t,n,r,i){!function(e,n){"use strict";"function"==typeof define&&define.amd?define(["exports"],n):n("undefined"!=typeof t?t:e.estraverse={})}(this,function e(t){"use strict";function n(){}function r(e){var t,n,i={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],"object"==typeof n&&null!==n?i[t]=r(n):i[t]=n);return i}function i(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function o(e,t){var n,r,i,o;for(r=e.length,i=0;r;)n=r>>>1,o=i+n,t(e[o])?r=n:(i=o+1,r-=n+1);return i}function s(e,t){var n,r,i,o;for(r=e.length,i=0;r;)n=r>>>1,o=i+n,t(e[o])?(i=o+1,r-=n+1):r=n;return i}function a(e,t){var n,r,i,o=b(t);for(r=0,i=o.length;r<i;r+=1)n=o[r],e[n]=t[n];return e}function l(e,t){this.parent=e,this.key=t}function p(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function u(){}function c(e){return null!=e&&("object"==typeof e&&"string"==typeof e.type)}function f(e,t){return(e===x.ObjectExpression||e===x.ObjectPattern)&&"properties"===t}function h(e,t){var n=new u;return n.traverse(e,t)}function m(e,t){var n=new u;return n.replace(e,t)}function d(e,t){var n;return n=o(t,function(t){return t.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[n].range[0]),n-=1,n>=0&&(e.extendedRange[0]=t[n].range[1]),e}function y(e,t,n){var i,o,s,a,l=[];if(!e.range)throw new Error("attachComments needs range information");if(!n.length){if(t.length){for(s=0,o=t.length;s<o;s+=1)i=r(t[s]),i.extendedRange=[0,e.range[0]],l.push(i);e.leadingComments=l}return e}for(s=0,o=t.length;s<o;s+=1)l.push(d(r(t[s]),n));return a=0,h(e,{enter:function(e){for(var t;a<l.length&&(t=l[a],!(t.extendedRange[1]>e.range[0]));)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),l.splice(a,1)):a+=1;return a===l.length?_.Break:l[a].extendedRange[0]>e.range[1]?_.Skip:void 0}}),a=0,h(e,{leave:function(e){for(var t;a<l.length&&(t=l[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),l.splice(a,1)):a+=1;return a===l.length?_.Break:l[a].extendedRange[0]>e.range[1]?_.Skip:void 0}}),e}var x,g,_,S,E,b,v,w,k;return g=Array.isArray,g||(g=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),n(i),n(s),E=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),b=Object.keys||function(e){var t,n=[];for(t in e)n.push(t);return n},x={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},S={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportBatchSpecifier:[],ExportDeclaration:["declaration","specifiers","source"],ExportSpecifier:["id","name"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["id"],ImportNamespaceSpecifier:["id"],ImportSpecifier:["id","name"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},v={},w={},k={},_={Break:v,Skip:w,Remove:k},l.prototype.replace=function(e){this.parent[this.key]=e},l.prototype.remove=function(){return g(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},u.prototype.path=function(){function e(e,t){if(g(t))for(r=0,i=t.length;r<i;++r)e.push(t[r]);else e.push(t)}var t,n,r,i,o,s;if(!this.__current.path)return null;for(o=[],t=2,n=this.__leavelist.length;t<n;++t)s=this.__leavelist[t],e(o,s.path);return e(o,this.__current.path),o},u.prototype.type=function(){var e=this.current();return e.type||this.__current.wrap},u.prototype.parents=function(){var e,t,n;for(n=[],e=1,t=this.__leavelist.length;e<t;++e)n.push(this.__leavelist[e].node);return n},u.prototype.current=function(){return this.__current.node},u.prototype.__execute=function(e,t){var n,r;return r=void 0,n=this.__current,this.__current=t,this.__state=null,e&&(r=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=n,r},u.prototype.notify=function(e){this.__state=e},u.prototype.skip=function(){this.notify(w)},u.prototype.break=function(){this.notify(v)},u.prototype.remove=function(){this.notify(k)},u.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback="iteration"===t.fallback,this.__keys=S,t.keys&&(this.__keys=a(E(this.__keys),t.keys))},u.prototype.traverse=function(e,t){var n,r,i,o,s,a,l,u,h,m,d,y;for(this.__initialize(e,t),y={},n=this.__worklist,r=this.__leavelist,n.push(new p(e,null,null,null)),r.push(new p(null,null,null,null));n.length;)if(i=n.pop(),i!==y){if(i.node){if(a=this.__execute(t.enter,i),this.__state===v||a===v)return;if(n.push(y),r.push(i),this.__state===w||a===w)continue;if(o=i.node,s=i.wrap||o.type,m=this.__keys[s],!m){if(!this.__fallback)throw new Error("Unknown node type "+s+".");m=b(o)}for(u=m.length;(u-=1)>=0;)if(l=m[u],d=o[l])if(g(d)){for(h=d.length;(h-=1)>=0;)if(d[h]){if(f(s,m[u]))i=new p(d[h],[l,h],"Property",null);else{if(!c(d[h]))continue;i=new p(d[h],[l,h],null,null)}n.push(i)}}else c(d)&&n.push(new p(d,l,null,null))}}else if(i=r.pop(),a=this.__execute(t.leave,i),this.__state===v||a===v)return},u.prototype.replace=function(e,t){function n(e){var t,n,i,o;if(e.ref.remove())for(n=e.ref.key,o=e.ref.parent,t=r.length;t--;)if(i=r[t],i.ref&&i.ref.parent===o){if(i.ref.key<n)break;--i.ref.key}}var r,i,o,s,a,u,h,m,d,y,x,_,S;for(this.__initialize(e,t),x={},r=this.__worklist,i=this.__leavelist,_={root:e},u=new p(e,null,null,new l(_,"root")),r.push(u),i.push(u);r.length;)if(u=r.pop(),u!==x){if(a=this.__execute(t.enter,u),void 0!==a&&a!==v&&a!==w&&a!==k&&(u.ref.replace(a),u.node=a),this.__state!==k&&a!==k||(n(u),u.node=null),this.__state===v||a===v)return _.root;if(o=u.node,o&&(r.push(x),i.push(u),this.__state!==w&&a!==w)){if(s=u.wrap||o.type,d=this.__keys[s],!d){if(!this.__fallback)throw new Error("Unknown node type "+s+".");d=b(o)}for(h=d.length;(h-=1)>=0;)if(S=d[h],y=o[S])if(g(y)){for(m=y.length;(m-=1)>=0;)if(y[m]){if(f(s,d[h]))u=new p(y[m],[S,m],"Property",new l(y,m));else{if(!c(y[m]))continue;u=new p(y[m],[S,m],null,new l(y,m))}r.push(u)}}else c(y)&&r.push(new p(y,S,null,new l(o,S)))}}else if(u=i.pop(),a=this.__execute(t.leave,u),void 0!==a&&a!==v&&a!==w&&a!==k&&u.ref.replace(a),this.__state!==k&&a!==k||n(u),this.__state===v||a===v)return _.root;return _.root},t.version="1.8.1-dev",t.Syntax=x,t.traverse=h,t.replace=m,t.attachComments=y,t.VisitorKeys=S,t.VisitorOption=_,t.Controller=u,t.cloneEnvironment=function(){return e({})},t})});
$_mod.installed("escodegen$1.8.1","esutils","2.0.2");
$_mod.main("/esutils$2.0.2","lib/utils");
$_mod.def("/esutils$2.0.2/lib/ast",function(e,t,n,a,s){!function(){"use strict";function e(e){if(null==e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function t(e){if(null==e)return!1;switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function a(e){if(null==e)return!1;switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function s(e){return a(e)||null!=e&&"FunctionDeclaration"===e.type}function r(e){switch(e.type){case"IfStatement":return null!=e.alternate?e.alternate:e.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return e.body}return null}function c(e){var t;if("IfStatement"!==e.type)return!1;if(null==e.alternate)return!1;t=e.consequent;do{if("IfStatement"===t.type&&null==t.alternate)return!0;t=r(t)}while(t);return!1}n.exports={isExpression:e,isStatement:a,isIterationStatement:t,isSourceElement:s,isProblematicIfStatement:c,trailingStatement:r}}()});
$_mod.def("/esutils$2.0.2/lib/code",function(u,D,A,F,C){!function(){"use strict";function u(u){return 48<=u&&u<=57}function D(u){return 48<=u&&u<=57||97<=u&&u<=102||65<=u&&u<=70}function F(u){return u>=48&&u<=55}function C(u){return 32===u||9===u||11===u||12===u||160===u||u>=5760&&o.indexOf(u)>=0}function E(u){return 10===u||13===u||8232===u||8233===u}function B(u){if(u<=65535)return String.fromCharCode(u);var D=String.fromCharCode(Math.floor((u-65536)/1024)+55296),A=String.fromCharCode((u-65536)%1024+56320);return D+A}function i(u){return u<128?f[u]:x.NonAsciiIdentifierStart.test(B(u))}function t(u){return u<128?s[u]:x.NonAsciiIdentifierPart.test(B(u))}function r(u){return u<128?f[u]:e.NonAsciiIdentifierStart.test(B(u))}function n(u){return u<128?s[u]:e.NonAsciiIdentifierPart.test(B(u))}var e,x,o,f,s,c;for(x={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},o=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],f=new Array(128),c=0;c<128;++c)f[c]=c>=97&&c<=122||c>=65&&c<=90||36===c||95===c;for(s=new Array(128),c=0;c<128;++c)s[c]=c>=97&&c<=122||c>=65&&c<=90||c>=48&&c<=57||36===c||95===c;A.exports={isDecimalDigit:u,isHexDigit:D,isOctalDigit:F,isWhiteSpace:C,isLineTerminator:E,isIdentifierStartES5:i,isIdentifierPartES5:t,isIdentifierStartES6:r,isIdentifierPartES6:n}}()});
$_mod.def("/esutils$2.0.2/lib/keyword",function(e,r,t,n,i){!function(){"use strict";function r(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function n(e,r){return!(!r&&"yield"===e)&&i(e,r)}function i(e,t){if(t&&r(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function u(e,r){return"null"===e||"true"===e||"false"===e||n(e,r)}function s(e,r){return"null"===e||"true"===e||"false"===e||i(e,r)}function c(e){return"eval"===e||"arguments"===e}function a(e){var r,t,n;if(0===e.length)return!1;if(n=e.charCodeAt(0),!h.isIdentifierStartES5(n))return!1;for(r=1,t=e.length;r<t;++r)if(n=e.charCodeAt(r),!h.isIdentifierPartES5(n))return!1;return!0}function f(e,r){return 1024*(e-55296)+(r-56320)+65536}function o(e){var r,t,n,i,u;if(0===e.length)return!1;for(u=h.isIdentifierStartES6,r=0,t=e.length;r<t;++r){if(n=e.charCodeAt(r),55296<=n&&n<=56319){if(++r,r>=t)return!1;if(i=e.charCodeAt(r),!(56320<=i&&i<=57343))return!1;n=f(n,i)}if(!u(n))return!1;u=h.isIdentifierPartES6}return!0}function d(e,r){return a(e)&&!u(e,r)}function l(e,r){return o(e)&&!s(e,r)}var h=e("/esutils$2.0.2/lib/code");t.exports={isKeywordES5:n,isKeywordES6:i,isReservedWordES5:u,isReservedWordES6:s,isRestrictedWord:c,isIdentifierNameES5:a,isIdentifierNameES6:o,isIdentifierES5:d,isIdentifierES6:l}}()});
$_mod.def("/esutils$2.0.2/lib/utils",function(s,i,t,e,l){!function(){"use strict";i.ast=s("/esutils$2.0.2/lib/ast"),i.code=s("/esutils$2.0.2/lib/code"),i.keyword=s("/esutils$2.0.2/lib/keyword")}()});
$_mod.installed("escodegen$1.8.1","source-map","0.2.0");
$_mod.main("/source-map$0.2.0","lib/source-map");
$_mod.installed("source-map$0.2.0","amdefine","1.0.1");
$_mod.main("/amdefine$1.0.1","amdefine");
$_mod.installed("amdefine$1.0.1","process","0.10.1");
$_mod.def("/amdefine$1.0.1/amdefine",function(r,n,e,t,i){"use strict";function o(n,e){function i(r){var n,e;for(n=0;r[n];n+=1)if(e=r[n],"."===e)r.splice(n,1),n-=1;else if(".."===e){if(1===n&&(".."===r[2]||".."===r[0]))break;n>0&&(r.splice(n-1,2),n-=2)}}function o(r,n){var e;return r&&"."===r.charAt(0)&&n&&(e=n.split("/"),e=e.slice(0,e.length-1),e=e.concat(r.split("/")),i(e),r=e.join("/")),r}function u(r){return function(n){return o(n,r)}}function f(r){function n(n){m[r]=n}return n.fromText=function(r,n){throw new Error("amdefine does not implement load.fromText")},n}function a(r,i,o){var u,f,a,l;if(r)f=m[r]={},a={id:r,uri:t,exports:f},u=c(e,f,a,r);else{if(x)throw new Error("amdefine with no module ID cannot be called more than once per file.");x=!0,f=n.exports,a=n,u=c(e,f,a,n.id)}i&&(i=i.map(function(r){return u(r)})),l="function"==typeof o?o.apply(a.exports,i):o,void 0!==l&&(a.exports=l,r&&(m[r]=a.exports))}function l(r,n,e){Array.isArray(r)?(e=n,n=r,r=void 0):"string"!=typeof r&&(e=r,r=n=void 0),n&&!Array.isArray(n)&&(e=n,n=void 0),n||(n=["require","exports","module"]),r?d[r]=[r,n,e]:a(r,n,e)}var c,p,s=r("process"),d={},m={},x=!1,y=r("/path-browserify$0.0.0/index");return c=function(r,n,e,t){function i(i,o){return"string"==typeof i?p(r,n,e,i,t):(i=i.map(function(i){return p(r,n,e,i,t)}),void(o&&s.nextTick(function(){o.apply(null,i)})))}return i.toUrl=function(r){return 0===r.indexOf(".")?o(r,y.dirname(e.filename)):r},i},e=e||function(){return n.require.apply(n,arguments)},p=function(r,n,e,t,i){var l,s,x=t.indexOf("!"),y=t;if(x===-1){if(t=o(t,i),"require"===t)return c(r,n,e,i);if("exports"===t)return n;if("module"===t)return e;if(m.hasOwnProperty(t))return m[t];if(d[t])return a.apply(null,d[t]),m[t];if(r)return r(y);throw new Error("No module with ID: "+t)}return l=t.substring(0,x),t=t.substring(x+1,t.length),s=p(r,n,e,l,i),t=s.normalize?s.normalize(t,u(i)):o(t,i),m[t]?m[t]:(s.load(t,c(r,n,e,i),f(t),{}),m[t])},l.require=function(r){return m[r]?m[r]:d[r]?(a.apply(null,d[r]),m[r]):void 0},l.amd={},l}e.exports=o});
$_mod.def("/source-map$0.2.0/lib/source-map/source-map-generator",function(e,n,o,t,i){if("function"!=typeof r)var r=e("/amdefine$1.0.1/amdefine")(o,e);r(function(e,n,o){function t(e){e||(e={}),this._file=r.getArg(e,"file",null),this._sourceRoot=r.getArg(e,"sourceRoot",null),this._skipValidation=r.getArg(e,"skipValidation",!1),this._sources=new s,this._names=new s,this._mappings=new l,this._sourcesContents=null}var i=e("./base64-vlq"),r=e("./util"),s=e("./array-set").ArraySet,l=e("./mapping-list").MappingList;t.prototype._version=3,t.fromSourceMap=function(e){var n=e.sourceRoot,o=new t({file:e.file,sourceRoot:n});return e.eachMapping(function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=n&&(t.source=r.relative(n,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(t.name=e.name)),o.addMapping(t)}),e.sources.forEach(function(n){var t=e.sourceContentFor(n);null!=t&&o.setSourceContent(n,t)}),o},t.prototype.addMapping=function(e){var n=r.getArg(e,"generated"),o=r.getArg(e,"original",null),t=r.getArg(e,"source",null),i=r.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,o,t,i),null==t||this._sources.has(t)||this._sources.add(t),null==i||this._names.has(i)||this._names.add(i),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:null!=o&&o.line,originalColumn:null!=o&&o.column,source:t,name:i})},t.prototype.setSourceContent=function(e,n){var o=e;null!=this._sourceRoot&&(o=r.relative(this._sourceRoot,o)),null!=n?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[r.toSetString(o)]=n):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(o)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},t.prototype.applySourceMap=function(e,n,o){var t=n;if(null==n){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');t=e.file}var i=this._sourceRoot;null!=i&&(t=r.relative(i,t));var l=new s,u=new s;this._mappings.unsortedForEach(function(n){if(n.source===t&&null!=n.originalLine){var s=e.originalPositionFor({line:n.originalLine,column:n.originalColumn});null!=s.source&&(n.source=s.source,null!=o&&(n.source=r.join(o,n.source)),null!=i&&(n.source=r.relative(i,n.source)),n.originalLine=s.line,n.originalColumn=s.column,null!=s.name&&(n.name=s.name))}var a=n.source;null==a||l.has(a)||l.add(a);var c=n.name;null==c||u.has(c)||u.add(c)},this),this._sources=l,this._names=u,e.sources.forEach(function(n){var t=e.sourceContentFor(n);null!=t&&(null!=o&&(n=r.join(o,n)),null!=i&&(n=r.relative(i,n)),this.setSourceContent(n,t))},this)},t.prototype._validateMapping=function(e,n,o,t){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||n||o||t)&&!(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&o))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:o,original:n,name:t}))},t.prototype._serializeMappings=function(){for(var e,n=0,o=1,t=0,s=0,l=0,u=0,a="",c=this._mappings.toArray(),p=0,g=c.length;p<g;p++){if(e=c[p],e.generatedLine!==o)for(n=0;e.generatedLine!==o;)a+=";",o++;else if(p>0){if(!r.compareByGeneratedPositions(e,c[p-1]))continue;a+=","}a+=i.encode(e.generatedColumn-n),n=e.generatedColumn,null!=e.source&&(a+=i.encode(this._sources.indexOf(e.source)-u),u=this._sources.indexOf(e.source),a+=i.encode(e.originalLine-1-s),s=e.originalLine-1,a+=i.encode(e.originalColumn-t),t=e.originalColumn,null!=e.name&&(a+=i.encode(this._names.indexOf(e.name)-l),l=this._names.indexOf(e.name)))}return a},t.prototype._generateSourcesContent=function(e,n){return e.map(function(e){if(!this._sourcesContents)return null;null!=n&&(e=r.relative(n,e));var o=r.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)},t.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},t.prototype.toString=function(){return JSON.stringify(this)},n.SourceMapGenerator=t})});
$_mod.def("/source-map$0.2.0/lib/source-map/source-map-consumer",function(e,n,r,i,o){if("function"!=typeof a)var a=e("/amdefine$1.0.1/amdefine")(r,e);a(function(e,n,r){function i(n){var r=n;if("string"==typeof n&&(r=JSON.parse(n.replace(/^\)\]\}'/,""))),null!=r.sections){var i=e("./indexed-source-map-consumer");return new i.IndexedSourceMapConsumer(r)}var o=e("./basic-source-map-consumer");return new o.BasicSourceMapConsumer(r)}var o=e("./util");i.fromSourceMap=function(n){var r=e("./basic-source-map-consumer");return r.BasicSourceMapConsumer.fromSourceMap(n)},i.prototype._version=3,i.prototype.__generatedMappings=null,Object.defineProperty(i.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),i.prototype.__originalMappings=null,Object.defineProperty(i.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),i.prototype._nextCharIsMappingSeparator=function(e){var n=e.charAt(0);return";"===n||","===n},i.prototype._parseMappings=function(e,n){throw new Error("Subclasses must implement _parseMappings")},i.GENERATED_ORDER=1,i.ORIGINAL_ORDER=2,i.prototype.eachMapping=function(e,n,r){var a,t=n||null,s=r||i.GENERATED_ORDER;switch(s){case i.GENERATED_ORDER:a=this._generatedMappings;break;case i.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var p=this.sourceRoot;a.map(function(e){var n=e.source;return null!=n&&null!=p&&(n=o.join(p,n)),{source:n,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}}).forEach(e,t)},i.prototype.allGeneratedPositionsFor=function(e){var n={source:o.getArg(e,"source"),originalLine:o.getArg(e,"line"),originalColumn:1/0};null!=this.sourceRoot&&(n.source=o.relative(this.sourceRoot,n.source));var r=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",o.compareByOriginalPositions);if(i>=0)for(var a=this._originalMappings[i];a&&a.originalLine===n.originalLine;)r.push({line:o.getArg(a,"generatedLine",null),column:o.getArg(a,"generatedColumn",null),lastColumn:o.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[--i];return r.reverse()},n.SourceMapConsumer=i})});
$_mod.def("/source-map$0.2.0/lib/source-map/source-node",function(n,e,t,r,o){if("function"!=typeof i)var i=n("/amdefine$1.0.1/amdefine")(t,n);i(function(n,e,t){function r(n,e,t,r,o){this.children=[],this.sourceContents={},this.line=null==n?null:n,this.column=null==e?null:e,this.source=null==t?null:t,this.name=null==o?null:o,this[c]=!0,null!=r&&this.add(r)}var o=n("./source-map-generator").SourceMapGenerator,i=n("./util"),l=/(\r?\n)/,u=10,c="$$$isSourceNode$$$";r.fromStringWithSourceMap=function(n,e,t){function o(n,e){if(null===n||void 0===n.source)u.add(e);else{var o=t?i.join(t,n.source):n.source;u.add(new r(n.originalLine,n.originalColumn,o,e,n.name))}}var u=new r,c=n.split(l),s=function(){var n=c.shift(),e=c.shift()||"";return n+e},a=1,h=0,d=null;return e.eachMapping(function(n){if(null!==d){if(!(a<n.generatedLine)){var e=c[0],t=e.substr(0,n.generatedColumn-h);return c[0]=e.substr(n.generatedColumn-h),h=n.generatedColumn,o(d,t),void(d=n)}var t="";o(d,s()),a++,h=0}for(;a<n.generatedLine;)u.add(s()),a++;if(h<n.generatedColumn){var e=c[0];u.add(e.substr(0,n.generatedColumn)),c[0]=e.substr(n.generatedColumn),h=n.generatedColumn}d=n},this),c.length>0&&(d&&o(d,s()),u.add(c.join(""))),e.sources.forEach(function(n){var r=e.sourceContentFor(n);null!=r&&(null!=t&&(n=i.join(t,n)),u.setSourceContent(n,r))}),u},r.prototype.add=function(n){if(Array.isArray(n))n.forEach(function(n){this.add(n)},this);else{if(!n[c]&&"string"!=typeof n)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+n);n&&this.children.push(n)}return this},r.prototype.prepend=function(n){if(Array.isArray(n))for(var e=n.length-1;e>=0;e--)this.prepend(n[e]);else{if(!n[c]&&"string"!=typeof n)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+n);this.children.unshift(n)}return this},r.prototype.walk=function(n){for(var e,t=0,r=this.children.length;t<r;t++)e=this.children[t],e[c]?e.walk(n):""!==e&&n(e,{source:this.source,line:this.line,column:this.column,name:this.name})},r.prototype.join=function(n){var e,t,r=this.children.length;if(r>0){for(e=[],t=0;t<r-1;t++)e.push(this.children[t]),e.push(n);e.push(this.children[t]),this.children=e}return this},r.prototype.replaceRight=function(n,e){var t=this.children[this.children.length-1];return t[c]?t.replaceRight(n,e):"string"==typeof t?this.children[this.children.length-1]=t.replace(n,e):this.children.push("".replace(n,e)),this},r.prototype.setSourceContent=function(n,e){this.sourceContents[i.toSetString(n)]=e},r.prototype.walkSourceContents=function(n){for(var e=0,t=this.children.length;e<t;e++)this.children[e][c]&&this.children[e].walkSourceContents(n);for(var r=Object.keys(this.sourceContents),e=0,t=r.length;e<t;e++)n(i.fromSetString(r[e]),this.sourceContents[r[e]])},r.prototype.toString=function(){var n="";return this.walk(function(e){n+=e}),n},r.prototype.toStringWithSourceMap=function(n){var e={code:"",line:1,column:0},t=new o(n),r=!1,i=null,l=null,c=null,s=null;return this.walk(function(n,o){e.code+=n,null!==o.source&&null!==o.line&&null!==o.column?(i===o.source&&l===o.line&&c===o.column&&s===o.name||t.addMapping({source:o.source,original:{line:o.line,column:o.column},generated:{line:e.line,column:e.column},name:o.name}),i=o.source,l=o.line,c=o.column,s=o.name,r=!0):r&&(t.addMapping({generated:{line:e.line,column:e.column}}),i=null,r=!1);for(var a=0,h=n.length;a<h;a++)n.charCodeAt(a)===u?(e.line++,e.column=0,a+1===h?(i=null,r=!1):r&&t.addMapping({source:o.source,original:{line:o.line,column:o.column},generated:{line:e.line,column:e.column},name:o.name})):e.column++}),this.walkSourceContents(function(n,e){t.setSourceContent(n,e)}),{code:e.code,map:t}},e.SourceNode=r})});
$_mod.def("/source-map$0.2.0/lib/source-map",function(e,o,r,u,c){o.SourceMapGenerator=e("/source-map$0.2.0/lib/source-map/source-map-generator").SourceMapGenerator,o.SourceMapConsumer=e("/source-map$0.2.0/lib/source-map/source-map-consumer").SourceMapConsumer,o.SourceNode=e("/source-map$0.2.0/lib/source-map/source-node").SourceNode});
$_mod.def("/escodegen$1.8.1/package",{_args:[[{raw:"escodegen@^1.8.1",scope:null,escapedName:"escodegen",name:"escodegen",rawSpec:"^1.8.1",spec:">=1.8.1 <2.0.0",type:"range"},"/Users/mirawlings/code/marko"]],_from:"escodegen@>=1.8.1 <2.0.0",_id:"escodegen@1.8.1",_inCache:!0,_installable:!0,_location:"/escodegen",_nodeVersion:"6.3.0",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/escodegen-1.8.1.tgz_1470506723009_0.12818681285716593"},_npmUser:{name:"michaelficarra",email:"npm@michael.ficarra.me"},_npmVersion:"3.10.3",_phantomChildren:{},_requested:{raw:"escodegen@^1.8.1",scope:null,escapedName:"escodegen",name:"escodegen",rawSpec:"^1.8.1",spec:">=1.8.1 <2.0.0",type:"range"},_requiredBy:["/","/jsdom","/lasso-require"],_resolved:"https://registry.npmjs.org/escodegen/-/escodegen-1.8.1.tgz",_shasum:"5a5b53af4693110bebb0867aa3430dd3b70a1018",_shrinkwrap:null,_spec:"escodegen@^1.8.1",_where:"/Users/mirawlings/code/marko",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},bugs:{url:"https://github.com/estools/escodegen/issues"},dependencies:{esprima:"^2.7.1",estraverse:"^1.9.1",esutils:"^2.0.2",optionator:"^0.8.1","source-map":"~0.2.0"},description:"ECMAScript code generator",devDependencies:{acorn:"^2.7.0",bluebird:"^2.3.11","bower-registry-client":"^0.2.1",chai:"^1.10.0","commonjs-everywhere":"^0.9.7",gulp:"^3.8.10","gulp-eslint":"^0.2.0","gulp-mocha":"^2.0.0",semver:"^5.1.0"},directories:{},dist:{shasum:"5a5b53af4693110bebb0867aa3430dd3b70a1018",tarball:"https://registry.npmjs.org/escodegen/-/escodegen-1.8.1.tgz"},engines:{node:">=0.12.0"},files:["LICENSE.BSD","LICENSE.source-map","README.md","bin","escodegen.js","package.json"],gitHead:"ba4faabb224b2d5e0080c8e4f964702b699c7d1f",homepage:"http://github.com/estools/escodegen",license:"BSD-2-Clause",main:"escodegen.js",maintainers:[{name:"constellation",email:"utatane.tea@gmail.com"},{name:"michaelficarra",email:"npm@michael.ficarra.me"}],name:"escodegen",optionalDependencies:{"source-map":"~0.2.0"},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/estools/escodegen.git"},scripts:{build:"cjsify -a path: tools/entry-point.js > escodegen.browser.js","build-min":"cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",lint:"gulp lint",release:"node tools/release.js",test:"gulp travis","unit-test":"gulp test"},version:"1.8.1"});
$_mod.def("/escodegen$1.8.1/escodegen",function(e,t,n,r,i){!function(){"use strict";function n(e){return I.Expression.hasOwnProperty(e.type)}function r(e){return I.Statement.hasOwnProperty(e.type)}function i(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function s(e,t){var n="";for(t|=0;t>0;t>>>=1,e+=e)1&t&&(n+=e);return n}function o(e){return/[\r\n]/g.test(e)}function a(e){var t=e.length;return t&&$.code.isLineTerminator(e.charCodeAt(t-1))}function u(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function c(e,t){function n(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}var r,i;for(r in t)t.hasOwnProperty(r)&&(i=t[r],n(i)?n(e[r])?c(e[r],i):e[r]=c({},i):e[r]=i);return e}function p(e){var t,n,r,i,s;if(e!==e)throw new Error("Numeric literal whose value is NaN");if(e<0||0===e&&1/e<0)throw new Error("Numeric literal whose value is negative");if(e===1/0)return H?"null":Y?"1e400":"1e+400";if(t=""+e,!Y||t.length<3)return t;for(n=t.indexOf("."),H||48!==t.charCodeAt(0)||1!==n||(n=0,t=t.slice(1)),r=t,t=t.replace("e+","e"),i=0,(s=r.indexOf("e"))>0&&(i=+r.slice(s+1),r=r.slice(0,s)),n>=0&&(i-=r.length-n-1,r=+(r.slice(0,n)+r.slice(n+1))+""),s=0;48===r.charCodeAt(r.length+s-1);)--s;return 0!==s&&(i-=s,r=r.slice(0,s)),0!==i&&(r+="e"+i),(r.length<t.length||X&&e>1e12&&Math.floor(e)===e&&(r="0x"+e.toString(16)).length<t.length)&&+r===e&&(t=r),t}function l(e,t){return 8232===(e&-2)?(t?"u":"\\u")+(8232===e?"2028":"2029"):10===e||13===e?(t?"":"\\")+(10===e?"n":"r"):String.fromCharCode(e)}function h(e){var t,n,r,i,s,o,a,u;if(n=e.toString(),e.source){if(t=n.match(/\/([^\/]*)$/),!t)return n;for(r=t[1],n="",a=!1,u=!1,i=0,s=e.source.length;i<s;++i)o=e.source.charCodeAt(i),u?(n+=l(o,u),u=!1):(a?93===o&&(a=!1):47===o?n+="\\":91===o&&(a=!0),n+=l(o,u),u=92===o);return"/"+n+"/"+r}return n}function g(e,t){var n;return 8===e?"\\b":12===e?"\\f":9===e?"\\t":(n=e.toString(16).toUpperCase(),H||e>255?"\\u"+"0000".slice(n.length)+n:0!==e||$.code.isDecimalDigit(t)?11===e?"\\x0B":"\\x"+"00".slice(n.length)+n:"\\0")}function f(e){if(92===e)return"\\\\";if(10===e)return"\\n";if(13===e)return"\\r";if(8232===e)return"\\u2028";if(8233===e)return"\\u2029";throw new Error("Incorrectly classified character")}function m(e){var t,n,r,i;for(i="double"===_?'"':"'",t=0,n=e.length;t<n;++t){if(r=e.charCodeAt(t),39===r){i='"';break}if(34===r){i="'";break}92===r&&++t}return i+e+i}function d(e){var t,n,r,i,s,o="",a=0,u=0;for(t=0,n=e.length;t<n;++t){if(r=e.charCodeAt(t),39===r)++a;else if(34===r)++u;else if(47===r&&H)o+="\\";else{if($.code.isLineTerminator(r)||92===r){o+=f(r);continue}if(!$.code.isIdentifierPartES5(r)&&(H&&r<32||!H&&!J&&(r<32||r>126))){o+=g(r,e.charCodeAt(t+1));continue}}o+=String.fromCharCode(r)}if(i=!("double"===_||"auto"===_&&u<a),s=i?"'":'"',!(i?a:u))return s+o+s;for(e=o,o=s,t=0,n=e.length;t<n;++t)r=e.charCodeAt(t),(39===r&&i||34===r&&!i)&&(o+="\\"),o+=String.fromCharCode(r);return o+s}function y(e){var t,n,r,i="";for(t=0,n=e.length;t<n;++t)r=e[t],i+=K(r)?y(r):r;return i}function S(e,t){if(!oe)return K(e)?y(e):e;if(null==t){if(e instanceof z)return e;t={}}return null==t.loc?new z(null,null,oe,e,t.name||null):new z(t.loc.start.line,t.loc.start.column,oe===!0?t.loc.source||null:oe,e,t.name||null)}function x(){return Z?Z:" "}function b(e,t){var n,r,i,s;return n=S(e).toString(),0===n.length?[t]:(r=S(t).toString(),0===r.length?[e]:(i=n.charCodeAt(n.length-1),s=r.charCodeAt(0),(43===i||45===i)&&i===s||$.code.isIdentifierPartES5(i)&&$.code.isIdentifierPartES5(s)||47===i&&105===s?[e,x(),t]:$.code.isWhiteSpace(i)||$.code.isLineTerminator(i)||$.code.isWhiteSpace(s)||$.code.isLineTerminator(s)?[e,t]:[e,Z,t]))}function v(e){return[V,e]}function E(e){var t;t=V,V+=G,e(V),V=t}function C(e){var t;for(t=e.length-1;t>=0&&!$.code.isLineTerminator(e.charCodeAt(t));--t);return e.length-1-t}function A(e,t){var n,r,i,s,o,a,u,c;for(n=e.split(/\r\n|[\r\n]/),a=Number.MAX_VALUE,r=1,i=n.length;r<i;++r){for(s=n[r],o=0;o<s.length&&$.code.isWhiteSpace(s.charCodeAt(o));)++o;a>o&&(a=o)}for("undefined"!=typeof t?(u=V,"*"===n[1][a]&&(t+=" "),V=t):(1&a&&--a,u=V),r=1,i=n.length;r<i;++r)c=S(v(n[r].slice(a))),n[r]=oe?c.join(""):c;return V=u,n.join("\n")}function w(e,t){if("Line"===e.type){if(a(e.value))return"//"+e.value;var n="//"+e.value;return ue||(n+="\n"),n}return ie.format.indent.adjustMultilineComment&&/[\n\r]/.test(e.value)?A("/*"+e.value+"*/",t):"/*"+e.value+"*/"}function q(e,t){var n,r,i,o,u,c,p,l,h,g,f,m,d,y;if(e.leadingComments&&e.leadingComments.length>0){if(o=t,ue){for(i=e.leadingComments[0],t=[],l=i.extendedRange,h=i.range,f=ae.substring(l[0],h[0]),y=(f.match(/\n/g)||[]).length,y>0?(t.push(s("\n",y)),t.push(v(w(i)))):(t.push(f),t.push(w(i))),g=h,n=1,r=e.leadingComments.length;n<r;n++)i=e.leadingComments[n],h=i.range,m=ae.substring(g[1],h[0]),y=(m.match(/\n/g)||[]).length,t.push(s("\n",y)),t.push(v(w(i))),g=h;d=ae.substring(h[1],l[1]),y=(d.match(/\n/g)||[]).length,t.push(s("\n",y))}else for(i=e.leadingComments[0],t=[],ne&&e.type===N.Program&&0===e.body.length&&t.push("\n"),t.push(w(i)),a(S(t).toString())||t.push("\n"),n=1,r=e.leadingComments.length;n<r;++n)i=e.leadingComments[n],p=[w(i)],a(S(p).toString())||p.push("\n"),t.push(v(p));t.push(v(o))}if(e.trailingComments)if(ue)i=e.trailingComments[0],l=i.extendedRange,h=i.range,f=ae.substring(l[0],h[0]),y=(f.match(/\n/g)||[]).length,y>0?(t.push(s("\n",y)),t.push(v(w(i)))):(t.push(f),t.push(w(i)));else for(u=!a(S(t).toString()),c=s(" ",C(S([V,t,G]).toString())),n=0,r=e.trailingComments.length;n<r;++n)i=e.trailingComments[n],u?(t=0===n?[t,G]:[t,c],t.push(w(i,c))):t=[t,v(w(i))],n===r-1||a(S(t).toString())||(t=[t,"\n"]);return t}function k(e,t,n){var r,i=0;for(r=e;r<t;r++)"\n"===ae[r]&&i++;for(r=1;r<i;r++)n.push(Q)}function B(e,t,n){return t<n?["(",e,")"]:e}function P(e){var t,n,r;for(r=e.split(/\r\n|\n/),t=1,n=r.length;t<n;t++)r[t]=Q+V+r[t];return r}function F(e,t){var n,r,i;return n=e[ie.verbatim],"string"==typeof n?r=B(P(n),W.Sequence,t):(r=P(n.content),i=null!=n.precedence?n.precedence:W.Sequence,r=B(r,i,t)),S(r,e)}function I(){}function M(e){return S(e.name,e)}function D(e,t){return e.async?"async"+(t?x():Z):""}function L(e){var t=e.generator&&!ie.moz.starlessGenerator;return t?"*"+Z:""}function R(e){var t=e.value;return t.async?D(t,!e.computed):L(t)?"*":""}function T(e){var t;if(t=new I,r(e))return t.generateStatement(e,Ce);if(n(e))return t.generateExpression(e,W.Sequence,xe);throw new Error("Unknown node type: "+e.type)}function O(n,r){var o,a,u=i();return null!=r?("string"==typeof r.indent&&(u.format.indent.style=r.indent),"number"==typeof r.base&&(u.format.indent.base=r.base),r=c(u,r),G=r.format.indent.style,V="string"==typeof r.base?r.base:s(G,r.format.indent.base)):(r=u,G=r.format.indent.style,V=s(G,r.format.indent.base)),H=r.format.json,Y=r.format.renumber,X=!H&&r.format.hexadecimal,_=H?"double":r.format.quotes,J=r.format.escapeless,Q=r.format.newline,Z=r.format.space,r.format.compact&&(Q=Z=G=V=""),ee=r.format.parentheses,te=r.format.semicolons,ne=r.format.safeConcatenation,re=r.directive,se=H?null:r.parse,oe=r.sourceMap,ae=r.sourceCode,ue=r.format.preserveBlankLines&&null!==ae,ie=r,oe&&(z=t.browser?global.sourceMap.SourceNode:e("/source-map$0.2.0/lib/source-map").SourceNode),o=T(n),oe?(a=o.toStringWithSourceMap({file:r.file,sourceRoot:r.sourceMapRoot}),r.sourceContent&&a.map.setSourceContent(r.sourceMap,r.sourceContent),r.sourceMapWithCode?a:a.map.toString()):(a={code:o.toString(),map:null},r.sourceMapWithCode?a:a.code)}var N,W,j,z,U,$,K,V,G,H,Y,X,_,J,Q,Z,ee,te,ne,re,ie,se,oe,ae,ue,ce,pe;U=e("/estraverse$1.9.3/estraverse"),$=e("/esutils$2.0.2/lib/utils"),N=U.Syntax,W={Sequence:0,Yield:1,Await:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19},j={"||":W.LogicalOR,"&&":W.LogicalAND,"|":W.BitwiseOR,"^":W.BitwiseXOR,"&":W.BitwiseAND,"==":W.Equality,"!=":W.Equality,"===":W.Equality,"!==":W.Equality,is:W.Equality,isnt:W.Equality,"<":W.Relational,">":W.Relational,"<=":W.Relational,">=":W.Relational,in:W.Relational,instanceof:W.Relational,"<<":W.BitwiseSHIFT,">>":W.BitwiseSHIFT,">>>":W.BitwiseSHIFT,"+":W.Additive,"-":W.Additive,"*":W.Multiplicative,"%":W.Multiplicative,"/":W.Multiplicative};var le=1,he=2,ge=4,fe=8,me=16,de=32,ye=he|ge,Se=le|he,xe=le|he|ge,be=le,ve=ge,Ee=le|ge,Ce=le,Ae=le|de,we=0,qe=le|me,ke=le|fe;K=Array.isArray,K||(K=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),I.prototype.maybeBlock=function(e,t){var n,r,i=this;return r=!ie.comment||!e.leadingComments,e.type===N.BlockStatement&&r?[Z,this.generateStatement(e,t)]:e.type===N.EmptyStatement&&r?";":(E(function(){n=[Q,v(i.generateStatement(e,t))]}),n)},I.prototype.maybeBlockSuffix=function(e,t){var n=a(S(t).toString());return e.type!==N.BlockStatement||ie.comment&&e.leadingComments||n?n?[t,V]:[t,Q,V]:[t,Z]},I.prototype.generatePattern=function(e,t,n){return e.type===N.Identifier?M(e):this.generateExpression(e,t,n)},I.prototype.generateFunctionParams=function(e){var t,n,r,i;if(i=!1,e.type!==N.ArrowFunctionExpression||e.rest||e.defaults&&0!==e.defaults.length||1!==e.params.length||e.params[0].type!==N.Identifier){for(r=e.type===N.ArrowFunctionExpression?[D(e,!1)]:[],r.push("("),e.defaults&&(i=!0),t=0,n=e.params.length;t<n;++t)i&&e.defaults[t]?r.push(this.generateAssignment(e.params[t],e.defaults[t],"=",W.Assignment,xe)):r.push(this.generatePattern(e.params[t],W.Assignment,xe)),t+1<n&&r.push(","+Z);e.rest&&(e.params.length&&r.push(","+Z),r.push("..."),r.push(M(e.rest))),r.push(")")}else r=[D(e,!0),M(e.params[0])];return r},I.prototype.generateFunctionBody=function(e){var t,n;return t=this.generateFunctionParams(e),e.type===N.ArrowFunctionExpression&&(t.push(Z),t.push("=>")),e.expression?(t.push(Z),n=this.generateExpression(e.body,W.Assignment,xe),"{"===n.toString().charAt(0)&&(n=["(",n,")"]),t.push(n)):t.push(this.maybeBlock(e.body,ke)),t},I.prototype.generateIterationForStatement=function(e,t,n){var r=["for"+Z+"("],i=this;return E(function(){t.left.type===N.VariableDeclaration?E(function(){r.push(t.left.kind+x()),r.push(i.generateStatement(t.left.declarations[0],we))}):r.push(i.generateExpression(t.left,W.Call,xe)),r=b(r,e),r=[b(r,i.generateExpression(t.right,W.Sequence,xe)),")"]}),r.push(this.maybeBlock(t.body,n)),r},I.prototype.generatePropertyKey=function(e,t,n){var r=[];return t&&r.push("["),"AssignmentPattern"===n.type?r.push(this.AssignmentPattern(n,W.Sequence,xe)):r.push(this.generateExpression(e,W.Sequence,xe)),t&&r.push("]"),r},I.prototype.generateAssignment=function(e,t,n,r,i){return W.Assignment<r&&(i|=le),B([this.generateExpression(e,W.Call,i),Z+n+Z,this.generateExpression(t,W.Assignment,i)],W.Assignment,r)},I.prototype.semicolon=function(e){return!te&&e&de?"":";"},I.Statement={BlockStatement:function(e,t){var n,r,i=["{",Q],s=this;return E(function(){0===e.body.length&&ue&&(n=e.range,n[1]-n[0]>2&&(r=ae.substring(n[0]+1,n[1]-1),"\n"===r[0]&&(i=["{"]),i.push(r)));var o,u,c,p;for(p=Ce,t&fe&&(p|=me),o=0,u=e.body.length;o<u;++o)ue&&(0===o&&(e.body[0].leadingComments&&(n=e.body[0].leadingComments[0].extendedRange,r=ae.substring(n[0],n[1]),"\n"===r[0]&&(i=["{"])),e.body[0].leadingComments||k(e.range[0],e.body[0].range[0],i)),o>0&&(e.body[o-1].trailingComments||e.body[o].leadingComments||k(e.body[o-1].range[1],e.body[o].range[0],i))),o===u-1&&(p|=de),c=e.body[o].leadingComments&&ue?s.generateStatement(e.body[o],p):v(s.generateStatement(e.body[o],p)),i.push(c),a(S(c).toString())||(ue&&o<u-1?e.body[o+1].leadingComments||i.push(Q):i.push(Q)),ue&&o===u-1&&(e.body[o].trailingComments||k(e.body[o].range[1],e.range[1],i))}),i.push(v("}")),i},BreakStatement:function(e,t){return e.label?"break "+e.label.name+this.semicolon(t):"break"+this.semicolon(t)},ContinueStatement:function(e,t){return e.label?"continue "+e.label.name+this.semicolon(t):"continue"+this.semicolon(t)},ClassBody:function(e,t){var n=["{",Q],r=this;return E(function(t){var i,s;for(i=0,s=e.body.length;i<s;++i)n.push(t),n.push(r.generateExpression(e.body[i],W.Sequence,xe)),i+1<s&&n.push(Q)}),a(S(n).toString())||n.push(Q),n.push(V),n.push("}"),n},ClassDeclaration:function(e,t){var n,r;return n=["class"],e.id&&(n=b(n,this.generateExpression(e.id,W.Sequence,xe))),e.superClass&&(r=b("extends",this.generateExpression(e.superClass,W.Assignment,xe)),n=b(n,r)),n.push(Z),n.push(this.generateStatement(e.body,Ae)),n},DirectiveStatement:function(e,t){return ie.raw&&e.raw?e.raw+this.semicolon(t):m(e.directive)+this.semicolon(t)},DoWhileStatement:function(e,t){var n=b("do",this.maybeBlock(e.body,Ce));return n=this.maybeBlockSuffix(e.body,n),b(n,["while"+Z+"(",this.generateExpression(e.test,W.Sequence,xe),")"+this.semicolon(t)])},CatchClause:function(e,t){var n,r=this;return E(function(){var t;n=["catch"+Z+"(",r.generateExpression(e.param,W.Sequence,xe),")"],e.guard&&(t=r.generateExpression(e.guard,W.Sequence,xe),n.splice(2,0," if ",t))}),n.push(this.maybeBlock(e.body,Ce)),n},DebuggerStatement:function(e,t){return"debugger"+this.semicolon(t)},EmptyStatement:function(e,t){return";"},ExportDefaultDeclaration:function(e,t){var n,i=["export"];return n=t&de?Ae:Ce,i=b(i,"default"),i=r(e.declaration)?b(i,this.generateStatement(e.declaration,n)):b(i,this.generateExpression(e.declaration,W.Assignment,xe)+this.semicolon(t))},ExportNamedDeclaration:function(e,t){var n,r=["export"],i=this;return n=t&de?Ae:Ce,e.declaration?b(r,this.generateStatement(e.declaration,n)):(e.specifiers&&(0===e.specifiers.length?r=b(r,"{"+Z+"}"):e.specifiers[0].type===N.ExportBatchSpecifier?r=b(r,this.generateExpression(e.specifiers[0],W.Sequence,xe)):(r=b(r,"{"),E(function(t){var n,s;for(r.push(Q),n=0,s=e.specifiers.length;n<s;++n)r.push(t),r.push(i.generateExpression(e.specifiers[n],W.Sequence,xe)),n+1<s&&r.push(","+Q)}),a(S(r).toString())||r.push(Q),r.push(V+"}")),e.source?r=b(r,["from"+Z,this.generateExpression(e.source,W.Sequence,xe),this.semicolon(t)]):r.push(this.semicolon(t))),r)},ExportAllDeclaration:function(e,t){return["export"+Z,"*"+Z,"from"+Z,this.generateExpression(e.source,W.Sequence,xe),this.semicolon(t)]},ExpressionStatement:function(e,t){function n(e){var t;return"class"===e.slice(0,5)&&(t=e.charCodeAt(5),123===t||$.code.isWhiteSpace(t)||$.code.isLineTerminator(t))}function r(e){var t;return"function"===e.slice(0,8)&&(t=e.charCodeAt(8),40===t||$.code.isWhiteSpace(t)||42===t||$.code.isLineTerminator(t))}function i(e){var t,n,r;if("async"!==e.slice(0,5))return!1;if(!$.code.isWhiteSpace(e.charCodeAt(5)))return!1;for(n=6,r=e.length;n<r&&$.code.isWhiteSpace(e.charCodeAt(n));++n);return n!==r&&("function"===e.slice(n,n+8)&&(t=e.charCodeAt(n+8),40===t||$.code.isWhiteSpace(t)||42===t||$.code.isLineTerminator(t)))}var s,o;return s=[this.generateExpression(e.expression,W.Sequence,xe)],o=S(s).toString(),123===o.charCodeAt(0)||n(o)||r(o)||i(o)||re&&t&me&&e.expression.type===N.Literal&&"string"==typeof e.expression.value?s=["(",s,")"+this.semicolon(t)]:s.push(this.semicolon(t)),s},ImportDeclaration:function(e,t){var n,r,i=this;return 0===e.specifiers.length?["import",Z,this.generateExpression(e.source,W.Sequence,xe),this.semicolon(t)]:(n=["import"],r=0,e.specifiers[r].type===N.ImportDefaultSpecifier&&(n=b(n,[this.generateExpression(e.specifiers[r],W.Sequence,xe)]),++r),e.specifiers[r]&&(0!==r&&n.push(","),e.specifiers[r].type===N.ImportNamespaceSpecifier?n=b(n,[Z,this.generateExpression(e.specifiers[r],W.Sequence,xe)]):(n.push(Z+"{"),e.specifiers.length-r===1?(n.push(Z),n.push(this.generateExpression(e.specifiers[r],W.Sequence,xe)),n.push(Z+"}"+Z)):(E(function(t){var s,o;for(n.push(Q),s=r,o=e.specifiers.length;s<o;++s)n.push(t),n.push(i.generateExpression(e.specifiers[s],W.Sequence,xe)),s+1<o&&n.push(","+Q)}),a(S(n).toString())||n.push(Q),n.push(V+"}"+Z)))),n=b(n,["from"+Z,this.generateExpression(e.source,W.Sequence,xe),this.semicolon(t)]))},VariableDeclarator:function(e,t){var n=t&le?xe:ye;return e.init?[this.generateExpression(e.id,W.Assignment,n),Z,"=",Z,this.generateExpression(e.init,W.Assignment,n)]:this.generatePattern(e.id,W.Assignment,n)},VariableDeclaration:function(e,t){function n(){for(o=e.declarations[0],ie.comment&&o.leadingComments?(r.push("\n"),r.push(v(u.generateStatement(o,a)))):(r.push(x()),r.push(u.generateStatement(o,a))),i=1,s=e.declarations.length;i<s;++i)o=e.declarations[i],ie.comment&&o.leadingComments?(r.push(","+Q),r.push(v(u.generateStatement(o,a)))):(r.push(","+Z),r.push(u.generateStatement(o,a)))}var r,i,s,o,a,u=this;return r=[e.kind],a=t&le?Ce:we,e.declarations.length>1?E(n):n(),r.push(this.semicolon(t)),r},ThrowStatement:function(e,t){return[b("throw",this.generateExpression(e.argument,W.Sequence,xe)),this.semicolon(t)]},TryStatement:function(e,t){var n,r,i,s;if(n=["try",this.maybeBlock(e.block,Ce)],n=this.maybeBlockSuffix(e.block,n),e.handlers)for(r=0,i=e.handlers.length;r<i;++r)n=b(n,this.generateStatement(e.handlers[r],Ce)),(e.finalizer||r+1!==i)&&(n=this.maybeBlockSuffix(e.handlers[r].body,n));else{for(s=e.guardedHandlers||[],r=0,i=s.length;r<i;++r)n=b(n,this.generateStatement(s[r],Ce)),(e.finalizer||r+1!==i)&&(n=this.maybeBlockSuffix(s[r].body,n));if(e.handler)if(K(e.handler))for(r=0,i=e.handler.length;r<i;++r)n=b(n,this.generateStatement(e.handler[r],Ce)),(e.finalizer||r+1!==i)&&(n=this.maybeBlockSuffix(e.handler[r].body,n));else n=b(n,this.generateStatement(e.handler,Ce)),e.finalizer&&(n=this.maybeBlockSuffix(e.handler.body,n))}return e.finalizer&&(n=b(n,["finally",this.maybeBlock(e.finalizer,Ce)])),n},SwitchStatement:function(e,t){var n,r,i,s,o,u=this;if(E(function(){n=["switch"+Z+"(",u.generateExpression(e.discriminant,W.Sequence,xe),")"+Z+"{"+Q]}),e.cases)for(o=Ce,i=0,s=e.cases.length;i<s;++i)i===s-1&&(o|=de),r=v(this.generateStatement(e.cases[i],o)),n.push(r),a(S(r).toString())||n.push(Q);return n.push(v("}")),n},SwitchCase:function(e,t){var n,r,i,s,o,u=this;return E(function(){for(n=e.test?[b("case",u.generateExpression(e.test,W.Sequence,xe)),":"]:["default:"],i=0,s=e.consequent.length,s&&e.consequent[0].type===N.BlockStatement&&(r=u.maybeBlock(e.consequent[0],Ce),n.push(r),i=1),i===s||a(S(n).toString())||n.push(Q),o=Ce;i<s;++i)i===s-1&&t&de&&(o|=de),r=v(u.generateStatement(e.consequent[i],o)),n.push(r),i+1===s||a(S(r).toString())||n.push(Q)}),n},IfStatement:function(e,t){var n,r,i,s=this;return E(function(){n=["if"+Z+"(",s.generateExpression(e.test,W.Sequence,xe),")"]}),i=t&de,r=Ce,i&&(r|=de),e.alternate?(n.push(this.maybeBlock(e.consequent,Ce)),n=this.maybeBlockSuffix(e.consequent,n),n=e.alternate.type===N.IfStatement?b(n,["else ",this.generateStatement(e.alternate,r)]):b(n,b("else",this.maybeBlock(e.alternate,r)))):n.push(this.maybeBlock(e.consequent,r)),n},ForStatement:function(e,t){var n,r=this;return E(function(){n=["for"+Z+"("],e.init?e.init.type===N.VariableDeclaration?n.push(r.generateStatement(e.init,we)):(n.push(r.generateExpression(e.init,W.Sequence,ye)),n.push(";")):n.push(";"),e.test?(n.push(Z),n.push(r.generateExpression(e.test,W.Sequence,xe)),n.push(";")):n.push(";"),e.update?(n.push(Z),n.push(r.generateExpression(e.update,W.Sequence,xe)),n.push(")")):n.push(")")}),n.push(this.maybeBlock(e.body,t&de?Ae:Ce)),n},ForInStatement:function(e,t){return this.generateIterationForStatement("in",e,t&de?Ae:Ce)},ForOfStatement:function(e,t){return this.generateIterationForStatement("of",e,t&de?Ae:Ce)},LabeledStatement:function(e,t){return[e.label.name+":",this.maybeBlock(e.body,t&de?Ae:Ce)]},Program:function(e,t){var n,r,i,s,o;for(s=e.body.length,n=[ne&&s>0?"\n":""],o=qe,i=0;i<s;++i)ne||i!==s-1||(o|=de),ue&&(0===i&&(e.body[0].leadingComments||k(e.range[0],e.body[i].range[0],n)),i>0&&(e.body[i-1].trailingComments||e.body[i].leadingComments||k(e.body[i-1].range[1],e.body[i].range[0],n))),r=v(this.generateStatement(e.body[i],o)),n.push(r),i+1<s&&!a(S(r).toString())&&(ue?e.body[i+1].leadingComments||n.push(Q):n.push(Q)),ue&&i===s-1&&(e.body[i].trailingComments||k(e.body[i].range[1],e.range[1],n));return n},FunctionDeclaration:function(e,t){return[D(e,!0),"function",L(e)||x(),e.id?M(e.id):"",this.generateFunctionBody(e)]},ReturnStatement:function(e,t){return e.argument?[b("return",this.generateExpression(e.argument,W.Sequence,xe)),this.semicolon(t)]:["return"+this.semicolon(t)]},WhileStatement:function(e,t){var n,r=this;return E(function(){n=["while"+Z+"(",r.generateExpression(e.test,W.Sequence,xe),")"]}),n.push(this.maybeBlock(e.body,t&de?Ae:Ce)),n},WithStatement:function(e,t){var n,r=this;return E(function(){n=["with"+Z+"(",r.generateExpression(e.object,W.Sequence,xe),")"]}),n.push(this.maybeBlock(e.body,t&de?Ae:Ce)),n}},u(I.prototype,I.Statement),I.Expression={SequenceExpression:function(e,t,n){var r,i,s;for(W.Sequence<t&&(n|=le),r=[],i=0,s=e.expressions.length;i<s;++i)r.push(this.generateExpression(e.expressions[i],W.Assignment,n)),i+1<s&&r.push(","+Z);return B(r,W.Sequence,t)},AssignmentExpression:function(e,t,n){return this.generateAssignment(e.left,e.right,e.operator,t,n)},ArrowFunctionExpression:function(e,t,n){return B(this.generateFunctionBody(e),W.ArrowFunction,t)},ConditionalExpression:function(e,t,n){return W.Conditional<t&&(n|=le),B([this.generateExpression(e.test,W.LogicalOR,n),Z+"?"+Z,this.generateExpression(e.consequent,W.Assignment,n),Z+":"+Z,this.generateExpression(e.alternate,W.Assignment,n)],W.Conditional,t)},LogicalExpression:function(e,t,n){return this.BinaryExpression(e,t,n)},BinaryExpression:function(e,t,n){var r,i,s,o;return i=j[e.operator],i<t&&(n|=le),s=this.generateExpression(e.left,i,n),o=s.toString(),r=47===o.charCodeAt(o.length-1)&&$.code.isIdentifierPartES5(e.operator.charCodeAt(0))?[s,x(),e.operator]:b(s,e.operator),s=this.generateExpression(e.right,i+1,n),"/"===e.operator&&"/"===s.toString().charAt(0)||"<"===e.operator.slice(-1)&&"!--"===s.toString().slice(0,3)?(r.push(x()),r.push(s)):r=b(r,s),"in"!==e.operator||n&le?B(r,i,t):["(",r,")"]},CallExpression:function(e,t,n){var r,i,s;for(r=[this.generateExpression(e.callee,W.Call,Se)],r.push("("),i=0,s=e.arguments.length;i<s;++i)r.push(this.generateExpression(e.arguments[i],W.Assignment,xe)),i+1<s&&r.push(","+Z);return r.push(")"),n&he?B(r,W.Call,t):["(",r,")"]},NewExpression:function(e,t,n){var r,i,s,o,a;if(i=e.arguments.length,a=n&ge&&!ee&&0===i?Ee:be,r=b("new",this.generateExpression(e.callee,W.New,a)),!(n&ge)||ee||i>0){for(r.push("("),s=0,o=i;s<o;++s)r.push(this.generateExpression(e.arguments[s],W.Assignment,xe)),s+1<o&&r.push(","+Z);r.push(")")}return B(r,W.New,t)},MemberExpression:function(e,t,n){var r,i;return r=[this.generateExpression(e.object,W.Call,n&he?Se:be)],e.computed?(r.push("["),r.push(this.generateExpression(e.property,W.Sequence,n&he?xe:Ee)),r.push("]")):(e.object.type===N.Literal&&"number"==typeof e.object.value&&(i=S(r).toString(),i.indexOf(".")<0&&!/[eExX]/.test(i)&&$.code.isDecimalDigit(i.charCodeAt(i.length-1))&&!(i.length>=2&&48===i.charCodeAt(0))&&r.push(".")),r.push("."),r.push(M(e.property))),B(r,W.Member,t)},MetaProperty:function(e,t,n){var r;return r=[],r.push(e.meta),r.push("."),r.push(e.property),B(r,W.Member,t)},UnaryExpression:function(e,t,n){var r,i,s,o,a;return i=this.generateExpression(e.argument,W.Unary,xe),""===Z?r=b(e.operator,i):(r=[e.operator],e.operator.length>2?r=b(r,i):(o=S(r).toString(),a=o.charCodeAt(o.length-1),s=i.toString().charCodeAt(0),(43===a||45===a)&&a===s||$.code.isIdentifierPartES5(a)&&$.code.isIdentifierPartES5(s)?(r.push(x()),r.push(i)):r.push(i))),B(r,W.Unary,t)},YieldExpression:function(e,t,n){var r;return r=e.delegate?"yield*":"yield",e.argument&&(r=b(r,this.generateExpression(e.argument,W.Yield,xe))),B(r,W.Yield,t)},AwaitExpression:function(e,t,n){var r=b(e.all?"await*":"await",this.generateExpression(e.argument,W.Await,xe));return B(r,W.Await,t)},UpdateExpression:function(e,t,n){return e.prefix?B([e.operator,this.generateExpression(e.argument,W.Unary,xe)],W.Unary,t):B([this.generateExpression(e.argument,W.Postfix,xe),e.operator],W.Postfix,t)},FunctionExpression:function(e,t,n){var r=[D(e,!0),"function"];return e.id?(r.push(L(e)||x()),r.push(M(e.id))):r.push(L(e)||Z),r.push(this.generateFunctionBody(e)),r},ArrayPattern:function(e,t,n){return this.ArrayExpression(e,t,n,!0)},ArrayExpression:function(e,t,n,r){var i,s,o=this;return e.elements.length?(s=!r&&e.elements.length>1,i=["[",s?Q:""],E(function(t){var n,r;for(n=0,r=e.elements.length;n<r;++n)e.elements[n]?(i.push(s?t:""),i.push(o.generateExpression(e.elements[n],W.Assignment,xe))):(s&&i.push(t),n+1===r&&i.push(",")),n+1<r&&i.push(","+(s?Q:Z))}),s&&!a(S(i).toString())&&i.push(Q),i.push(s?V:""),i.push("]"),i):"[]"},RestElement:function(e,t,n){return"..."+this.generatePattern(e.argument)},ClassExpression:function(e,t,n){var r,i;return r=["class"],e.id&&(r=b(r,this.generateExpression(e.id,W.Sequence,xe))),e.superClass&&(i=b("extends",this.generateExpression(e.superClass,W.Assignment,xe)),r=b(r,i)),r.push(Z),r.push(this.generateStatement(e.body,Ae)),r},MethodDefinition:function(e,t,n){var r,i;return r=e.static?["static"+Z]:[],i="get"===e.kind||"set"===e.kind?[b(e.kind,this.generatePropertyKey(e.key,e.computed,e.value)),this.generateFunctionBody(e.value)]:[R(e),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody(e.value)],b(r,i)},Property:function(e,t,n){return"get"===e.kind||"set"===e.kind?[e.kind,x(),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody(e.value)]:e.shorthand?this.generatePropertyKey(e.key,e.computed,e.value):e.method?[R(e),this.generatePropertyKey(e.key,e.computed,e.value),this.generateFunctionBody(e.value)]:[this.generatePropertyKey(e.key,e.computed,e.value),":"+Z,this.generateExpression(e.value,W.Assignment,xe)]},ObjectExpression:function(e,t,n){var r,i,s,u=this;return e.properties.length?(r=e.properties.length>1,E(function(){s=u.generateExpression(e.properties[0],W.Sequence,xe)}),r||o(S(s).toString())?(E(function(t){var n,o;if(i=["{",Q,t,s],r)for(i.push(","+Q),n=1,o=e.properties.length;n<o;++n)i.push(t),i.push(u.generateExpression(e.properties[n],W.Sequence,xe)),n+1<o&&i.push(","+Q)}),a(S(i).toString())||i.push(Q),i.push(V),i.push("}"),i):["{",Z,s,Z,"}"]):"{}"},AssignmentPattern:function(e,t,n){return this.generateAssignment(e.left,e.right,"=",t,n)},ObjectPattern:function(e,t,n){var r,i,s,o,u,c=this;if(!e.properties.length)return"{}";if(o=!1,1===e.properties.length)u=e.properties[0],u.value.type!==N.Identifier&&(o=!0);else for(i=0,s=e.properties.length;i<s;++i)if(u=e.properties[i],!u.shorthand){o=!0;break}return r=["{",o?Q:""],E(function(t){var n,i;for(n=0,i=e.properties.length;n<i;++n)r.push(o?t:""),r.push(c.generateExpression(e.properties[n],W.Sequence,xe)),n+1<i&&r.push(","+(o?Q:Z))}),o&&!a(S(r).toString())&&r.push(Q),r.push(o?V:""),r.push("}"),r},ThisExpression:function(e,t,n){return"this"},Super:function(e,t,n){return"super"},Identifier:function(e,t,n){return M(e)},ImportDefaultSpecifier:function(e,t,n){return M(e.id||e.local)},ImportNamespaceSpecifier:function(e,t,n){var r=["*"],i=e.id||e.local;return i&&r.push(Z+"as"+x()+M(i)),r},ImportSpecifier:function(e,t,n){var r=e.imported,i=[r.name],s=e.local;return s&&s.name!==r.name&&i.push(x()+"as"+x()+M(s)),i},ExportSpecifier:function(e,t,n){var r=e.local,i=[r.name],s=e.exported;return s&&s.name!==r.name&&i.push(x()+"as"+x()+M(s)),i},Literal:function(e,t,n){var r;if(e.hasOwnProperty("raw")&&se&&ie.raw)try{if(r=se(e.raw).body[0].expression,r.type===N.Literal&&r.value===e.value)return e.raw}catch(e){}return null===e.value?"null":"string"==typeof e.value?d(e.value):"number"==typeof e.value?p(e.value):"boolean"==typeof e.value?e.value?"true":"false":h(e.value)},GeneratorExpression:function(e,t,n){return this.ComprehensionExpression(e,t,n)},ComprehensionExpression:function(e,t,n){var r,i,s,o,a=this;return r=e.type===N.GeneratorExpression?["("]:["["],ie.moz.comprehensionExpressionStartsWithAssignment&&(o=this.generateExpression(e.body,W.Assignment,xe),r.push(o)),e.blocks&&E(function(){for(i=0,s=e.blocks.length;i<s;++i)o=a.generateExpression(e.blocks[i],W.Sequence,xe),i>0||ie.moz.comprehensionExpressionStartsWithAssignment?r=b(r,o):r.push(o)}),e.filter&&(r=b(r,"if"+Z),o=this.generateExpression(e.filter,W.Sequence,xe),r=b(r,["(",o,")"])),ie.moz.comprehensionExpressionStartsWithAssignment||(o=this.generateExpression(e.body,W.Assignment,xe),r=b(r,o)),r.push(e.type===N.GeneratorExpression?")":"]"),r},ComprehensionBlock:function(e,t,n){var r;return r=e.left.type===N.VariableDeclaration?[e.left.kind,x(),this.generateStatement(e.left.declarations[0],we)]:this.generateExpression(e.left,W.Call,xe),r=b(r,e.of?"of":"in"),r=b(r,this.generateExpression(e.right,W.Sequence,xe)),["for"+Z+"(",r,")"]},SpreadElement:function(e,t,n){return["...",this.generateExpression(e.argument,W.Assignment,xe)]},TaggedTemplateExpression:function(e,t,n){var r=Se;n&he||(r=be);var i=[this.generateExpression(e.tag,W.Call,r),this.generateExpression(e.quasi,W.Primary,ve)];return B(i,W.TaggedTemplate,t)},TemplateElement:function(e,t,n){return e.value.raw},TemplateLiteral:function(e,t,n){var r,i,s;for(r=["`"],i=0,s=e.quasis.length;i<s;++i)r.push(this.generateExpression(e.quasis[i],W.Primary,xe)),i+1<s&&(r.push("${"+Z),r.push(this.generateExpression(e.expressions[i],W.Sequence,xe)),r.push(Z+"}"));return r.push("`"),r},ModuleSpecifier:function(e,t,n){return this.Literal(e,t,n)}},u(I.prototype,I.Expression),I.prototype.generateExpression=function(e,t,n){var r,i;return i=e.type||N.Property,ie.verbatim&&e.hasOwnProperty(ie.verbatim)?F(e,t):(r=this[i](e,t,n),ie.comment&&(r=q(e,r)),S(r,e))},I.prototype.generateStatement=function(e,t){var n,r;return n=this[e.type](e,t),ie.comment&&(n=q(e,n)),r=S(n).toString(),e.type!==N.Program||ne||""!==Q||"\n"!==r.charAt(r.length-1)||(n=oe?S(n).replaceRight(/\s+$/,""):r.replace(/\s+$/,"")),S(n,e)},ce={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},pe=i().format,t.version=e("/escodegen$1.8.1/package").version,t.generate=O,t.attachComments=U.attachComments,t.Precedence=c({},W),t.browser=!1,t.FORMAT_MINIFY=ce,t.FORMAT_DEFAULTS=pe}()});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleRootNodes", function(require, exports, module, __filename, __dirname) { 'use strict';

var path = require('/path-browserify$0.0.0/index'/*'path'*/);
var fs = require('/markojs-website$1.0.0/browser-shims/fs/index'/*'fs'*/);

function getFileNameNoExt(context) {
    let filename = path.basename(context.filename);
    let ext = path.extname(filename);

    if (ext === '.js') {
        return false;
    }

    if (ext) {
        filename = filename.slice(0, 0 - ext.length);
    }

    return filename;
}

const esprima = require('/esprima$3.1.3/dist/esprima'/*'esprima'*/);
const estraverse = require('/estraverse$4.2.0/estraverse'/*'estraverse'*/);
const escodegen = require('/escodegen$1.8.1/escodegen'/*'escodegen'*/);

function isModuleExports(node) {
    return node.type === 'AssignmentExpression' &&
           node.operator === '=' &&
           node.left.type === 'MemberExpression' &&
           node.left.object.type === 'Identifier' &&
           node.left.object.name === 'module' &&
           node.left.property.type === 'Identifier' &&
           node.left.property.name === 'exports';
}

function isModuleExportsStatement(node) {
    return node.type === 'ExpressionStatement' &&
           isModuleExports(node.expression);
}

function handleScriptElement(scriptEl, transformHelper) {
    let builder = transformHelper.builder;

    let hasExport = false;
    let needsComponentVar;

    var scriptCode = scriptEl.bodyText;

    let tree = esprima.parse(scriptCode, { sourceType:'module' });
    let updatedTree = estraverse.replace(tree, {
        enter: function(node) {
            if (isModuleExports(node)) {
                hasExport = true;
                needsComponentVar = true;
                node.left = {
                    type: 'Identifier',
                    name: 'marko_component'
                };
                this.break();
            } else if (isModuleExportsStatement(node)) {
                hasExport = true;
                return createComponentDeclaration(node.expression.right);
            } else if (node.type === 'ExportDefaultDeclaration') {
                hasExport = true;
                return createComponentDeclaration(node.declaration);
            }
        }
    });

    function createComponentDeclaration(value) {
        return {
            type: 'VariableDeclaration',
            declarations: [
                {
                    type: 'VariableDeclarator',
                    id: {
                        type: 'Identifier',
                        name: 'marko_component'
                    },
                    init: value
                }
            ],
            kind: 'var'
        };
    }

    if (hasExport) {
        transformHelper.context.deprecate('Using <script> with an export to create a single file component will be removed in the next release candidate.  Use class instead. \nSee https://github.com/marko-js/marko/issues/547');

        let componentVar;

        if (needsComponentVar) {
            componentVar = transformHelper.context.addStaticVar('marko_component');
        } else {
            componentVar = builder.identifier('marko_component');
        }

        transformHelper.setHasBoundWidgetForTemplate();
        transformHelper.setInlineComponent(componentVar);
        transformHelper.context.addStaticCode(escodegen.generate(updatedTree));
        scriptEl.detach();
    }
}

function handleStyleElement(styleEl, transformHelper) {
    if (styleEl.bodyText) {
        return;
    }

    var attrs = styleEl.attributes;

    var styleCode;
    var lang = 'css';

    var hasStyleBlock = false;

    for (var i=attrs.length-1; i>=0; i--) {
        var attr = attrs[i];
        var name = attr.name;
        if (name.startsWith('{')) {
            hasStyleBlock = true;

            styleCode = name.slice(1, -1);
        } else if (name === 'class') {
            if (attr.value.type !== 'Literal' || typeof attr.value.value !== 'string') {
                return;
            }

            lang = attr.value.value;
        } else {
            if (hasStyleBlock) {
                transformHelper.context.addError(styleEl, 'Unsupported attribute on the component style tag: ' + attr.name);
                return;
            }
        }
    }

    if (styleCode == null) {
        return;
    }

    var context = transformHelper.context;
    context.addDependency({
        type: lang,
        code: styleCode.trim(),
        virtualPath: './'+path.basename(context.filename)+'.'+lang,
        path: './'+path.basename(context.filename)
    });

    styleEl.detach();
}

function methodToProperty(method) {
    return {
        type: 'Property',
        key: method.key,
        computed: false,
        value: method.value,
        kind: 'init',
        method: false,
        shorthand: false
    };
}

function classToObject(cls, transformHelper) {
    return {
        type: 'ObjectExpression',
        properties: cls.body.body.map((method) => {
            if(method.type != 'MethodDefinition') {
                throw Error('Only methods are allowed on single file component class definitions.');
            }

            if (method.kind === 'method') {
                return methodToProperty(method);
            } else if (method.kind === 'constructor') {
                let converted = methodToProperty(method);
                converted.key.name = 'onCreate';
                return converted;
            } else {
                return method;
            }
        })
    };
}

function handleClassDeclaration(classEl, transformHelper) {
    if(!/^class\s*\{/.test(classEl.tagString)) return;

    let tree;
    var wrappedSrc = '('+classEl.tagString+'\n)';

    try {
        tree = esprima.parse(wrappedSrc);
    } catch(err) {
        var message = 'Unable to parse JavaScript for componnet class. Error: ' + err;

        if (err.index != null) {
            var errorIndex = err.index;
            // message += '\n' + err.description;
            if (errorIndex != null && errorIndex >= 0) {
                transformHelper.context.addError({
                    pos: classEl.pos + errorIndex,
                    message: message
                });
                return;
            }
        }

        transformHelper.context.addError(classEl, message);
        return;
    }
    let expression = tree.body[0].expression;
    let object = classToObject(expression);
    let componentVar = transformHelper.context.addStaticVar('marko_component', escodegen.generate(object));

    transformHelper.setHasBoundWidgetForTemplate();
    transformHelper.setInlineComponent(componentVar);
    classEl.detach();
}

module.exports = function handleRootNodes() {
    var context = this.context;
    var builder = this.builder;
    var filename = getFileNameNoExt(context);
    var isEntry = 'index' === filename;

    if(!filename) {
        return; // inline component
    }

    var filematch = '('+filename.replace(/\./g, '\\.') + '\\.' + (isEntry ? '|' : '') + ')';
    var stylematch = new RegExp('^'+filematch+'style\\.\\w+$');
    var componentmatch = new RegExp('^'+filematch+'component\\.\\w+$');
    var widgetmatch = new RegExp('^'+filematch+'widget\\.\\w+$');

    var templateRoot = this.el;

    var dirname = this.dirname;
    var hasBindTarget = false;

    fs.readdirSync(dirname).forEach(file => {
        if(stylematch.test(file)) {
            context.addDependency('./' + file);
        } else if(componentmatch.test(file) || widgetmatch.test(file)) {
            hasBindTarget = true;
        }
    });

    var rootNodes = [];
    var hasExplicitBind = false;
    var hasIdCount = 0;
    var nodeWithAssignedId;
    var assignedId;
    var transformHelper = this;

    let walker = context.createWalker({
        enter(node) {
            var tagName = node.tagName && node.tagName.toLowerCase();

            if (node.type === 'TemplateRoot' || !node.type) {
                // Don't worry about the TemplateRoot or an Container node
            } else if (node.type === 'HtmlElement') {
                if (node.hasAttribute('w-bind')) {
                    transformHelper.setHasBoundWidgetForTemplate();
                    hasExplicitBind = true;
                } else {
                    if (node.hasAttribute('id')) {
                        hasIdCount++;
                        nodeWithAssignedId = node;
                        assignedId = node.getAttributeValue('id');
                    }

                    if (isEntry && tagName === 'script') {
                        handleScriptElement(node, transformHelper);
                    } else if (tagName === 'style') {
                        handleStyleElement(node, transformHelper);
                    } else {
                        rootNodes.push(node);
                    }
                }
                walker.skip();

                return;
            } else if (node.type === 'CustomTag') {
                rootNodes.push(node);

                walker.skip();
                return;
            } else {
                if (tagName === 'class') {
                    handleClassDeclaration(node, transformHelper);
                }

                walker.skip();
                return;
            }
        }
    });

    walker.walk(templateRoot);

    if (this.hasInlineComponent()) {
        hasBindTarget = true;
    }

    if (hasExplicitBind) {
        //There is an explicit bind so nothing to do
        return;
    }

    if (!hasBindTarget) {
        return;
    }

    if (rootNodes.length === 0) {
        return;
    }

    if (rootNodes.length > 1 && hasIdCount > 0) {
        // We can only bind a widget to multiple top-level elements if we can assign
        // all of the IDs
        return;
    }

    transformHelper.setHasBoundWidgetForTemplate();

    var nextRef = 0;

    rootNodes.forEach((curNode, i) => {
        curNode.setAttributeValue('_widgetbind');

        if (!curNode.hasAttribute('ref')) {
            if (curNode.type === 'CustomTag' || rootNodes.length > 1) {
                curNode.setAttributeValue('ref', builder.literal('_r' + (nextRef++)));
            }
        }
    });
};
});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleIncludeNode", function(require, exports, module, __filename, __dirname) { 'use strict';

var includeTagForWidgets = require.resolve('/marko$4.0.0-rc.12/widgets/taglib/include-tag'/*'../include-tag'*/);

module.exports = function(includeNode) {
    var builder = this.builder;
    var context = this.context;

    if (!this.hasBoundWidgetForTemplate()) {
        return;
    }

    var parentNode = includeNode.parentNode;

    if (!parentNode.hasAttribute) {
        return;
    }

    parentNode._normalizeChildTextNodes(context, true /* force trim */);

    if (parentNode.childCount === 1) {
        if (includeNode.hasAttribute('ref')) {
            this.assignWidgetId();
        }

        let parentTransformHelper = this.getTransformHelper(parentNode);

        if (includeNode.data.bodySlot) {
            parentTransformHelper.assignWidgetId(false /* not repeated */);
            var widgetProps = this.getWidgetProps();
            widgetProps.body = parentTransformHelper.getNestedIdExpression();
        } else {
            let widgetIdInfo = parentTransformHelper.assignWidgetId(true /* repeated */);
            if (!widgetIdInfo.idVarNode) {
                let idVarNode = widgetIdInfo.createIdVarNode();
                parentNode.onBeforeGenerateCode((event) => {
                    event.insertCode(idVarNode);
                });
            }
        }

        includeNode.setRendererPath(includeTagForWidgets);

        includeNode.onBeforeGenerateCode(function() {
            includeNode.addProp('_elId', parentTransformHelper.getIdExpression());
            includeNode.addProp('_arg', builder.identifier('widget'));
        });
    }



    // includeNode.generateCodeForDynamicInclude = (options, codegen) => {
    //     var target = options.target;
    //     var data = options.data;
    //
    //     if (!data) {
    //         data = builder.literal(null);
    //     }
    //
    //     let includeVar = context.importModule('marko_widget_include', this.getMarkoWidgetsRequirePath('marko/widgets/taglib/helpers/include'));
    //
    //     let includeArgs = [
    //         target,
    //         builder.identifierOut(),
    //         data
    //     ];
    //
    //     if (parentTransformHelper) {
    //         includeArgs = includeArgs.concat([
    //             parentTransformHelper.getIdExpression(),
    //
    //         ]);
    //     }
    //
    //     return builder.functionCall(includeVar, includeArgs);
    // };
};

});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleWidgetEvents", function(require, exports, module, __filename, __dirname) { 'use strict';

var bubbleEventsLookup = {};

require('/marko$4.0.0-rc.12/widgets/bubble'/*'../../bubble'*/).forEach(function(eventType) {
    bubbleEventsLookup[eventType] = true;
});

function isBubbleEvent(eventType) {
    return bubbleEventsLookup.hasOwnProperty(eventType);
}

function isUpperCase(c) {
    return c == c.toUpperCase();
}

function addBubblingEventListener(transformHelper, eventType, targetMethod, extraArgs) {
    var el = transformHelper.el;

    if (transformHelper.hasBoundWidgetForTemplate() === false) {
        transformHelper.addError('Unable to handle event ' + eventType + '. HTML element is not nested within a widget.');
        return;
    }

    var builder = transformHelper.builder;
    var attrValue;
    var widgetIdExpression = builder.memberExpression(
        builder.identifier('widget'),
        builder.identifier('id'));

    // The event handler method is conditional and it may resolve to a null method name. Therefore,
    // we need to use a runtime helper to set the value correctly.
    var markoWidgetsEventFuncId = transformHelper.context.importModule('markoWidgets_event',
        transformHelper.getMarkoWidgetsRequirePath('marko/widgets/taglib/helpers/event'));

    var helperArgs = [
            targetMethod,
            widgetIdExpression
        ];

    if (extraArgs) {
        helperArgs.push(builder.arrayExpression(extraArgs));
    }

    attrValue = builder.functionCall(markoWidgetsEventFuncId, helperArgs);

    el.setAttributeValue('data-_on' + eventType.value, attrValue);
}

function addDirectEventListener(transformHelper, eventType, targetMethod, extraArgs) {
    var builder = transformHelper.builder;
    var el = transformHelper.el;

    var addDomEvent = builder.memberExpression(
        builder.identifier('widget'),
        builder.identifier('e'));

    let widgetIdInfo = transformHelper.assignWidgetId(true /* repeated */);
    let idVarNode = widgetIdInfo.idVarNode ? null : widgetIdInfo.createIdVarNode();

    var helperArgs = [
        eventType,
        targetMethod,
        widgetIdInfo.idExpression
    ];

    if (extraArgs) {
        helperArgs.push(builder.arrayExpression(extraArgs));
    }

    var addDomEventFunctionCall = builder.functionCall(addDomEvent, helperArgs);

    el.onBeforeGenerateCode((event) => {
        event.insertCode([
            idVarNode,
            addDomEventFunctionCall
        ]);
    });
}

function addCustomEventListener(transformHelper, eventType, targetMethod, extraArgs) {
    var builder = transformHelper.builder;

    // Make sure the widget has an assigned scope ID so that we can bind the custom event listener
    var widgetArgs = transformHelper.getWidgetArgs();

    if (extraArgs) {
        extraArgs = builder.arrayExpression(extraArgs);
    }

    widgetArgs.addCustomEvent(eventType, targetMethod, extraArgs);
}

module.exports = function handleWidgetEvents() {
    var el = this.el;
    var builder = this.builder;
    var context = this.context;
    var isCustomTag = el.type !== 'HtmlElement';
    // We configured the Marko compiler to attach a flag to nodes that
    // have one or more attributes that match the "w-on*" pattern.
    // We still need to loop over the properties to find and handle
    // the properties corresponding to those attributes.
    var hasWidgetEvents = this.el.isFlagSet('hasWidgetEvents') === true;

    if (hasWidgetEvents) {
        var attrs = el.getAttributes().concat([]);

        attrs.forEach((attr) => {
            var eventType;
            var targetMethod;
            var attrName = attr.name;
            var argument = attr.argument;
            var parsedArgs;
            var extraArgs;

            if (!attrName) {
                return;
            }

            if (attrName.startsWith('on') && argument) {
                eventType = attrName.substring(2); // Chop off "on"
                try {
                    parsedArgs = builder.parseJavaScriptArgs(argument);
                } catch (err) {
                    this.addError('Invalid Javascript Expression for "' + attrName + '": ' + err);
                    return;
                }

                targetMethod = builder.replacePlaceholderEscapeFuncs(parsedArgs[0], context);



                if (parsedArgs.length > 1) {
                    extraArgs = parsedArgs.slice(1);
                }
            } else if (attrName.startsWith('w-on')) {
                context.deprecate('"w-on*" attributes are deprecated. Please use "on*()" instead.');
                eventType = attrName.substring(4); // Chop off "w-on"
                targetMethod = attr.value;
            }

            if (!eventType || !targetMethod) {
                return;
            }

            el.removeAttribute(attrName);

            if (isCustomTag) {
                this.assignWidgetId(true /* repeated */);

                // We are adding an event listener for a custom event (not a DOM event)
                if (eventType.startsWith('-')) {
                    // Remove the leading dash.
                    // Example: w-on-before-show → before-show
                    eventType = eventType.substring(1);
                } else if (isUpperCase(eventType.charAt(0))) {
                    // Convert first character to lower case:
                    // Example: w-onBeforeShow → beforeShow
                    eventType = eventType.charAt(0).toLowerCase() + eventType.substring(1);
                }

                eventType = builder.literal(eventType);

                // Node is for a custom tag
                addCustomEventListener(this, eventType, targetMethod, extraArgs);
            } else {
                // We are adding an event listener for a DOM event (not a custom event)
                //
                if (eventType.startsWith('-')) {
                    // Remove the leading dash.
                    // Example: w-on-before-show → before-show
                    eventType = eventType.substring(1);
                }

                // Normalize DOM event types to be all lower case
                eventType = eventType.toLowerCase();

                // Node is for an HTML element so treat the event as a DOM event
                var willBubble = isBubbleEvent(eventType);

                eventType = builder.literal(eventType);

                if (willBubble) {
                    // The event is white listed for bubbling so we know that
                    // we have already attached a listener on document.body
                    // that can be used to handle the event. We will add
                    // a "data-w-on{eventType}" attribute to the output HTML
                    // for this element that will be used to map the event
                    // to a method on the containing widget.
                    addBubblingEventListener(this, eventType, targetMethod, extraArgs);
                } else {
                    // The event does not bubble so we must attach a DOM
                    // event listener directly to the target element.
                    addDirectEventListener(this, eventType, targetMethod, extraArgs);
                }
            }
        });

    }
};

});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleWidgetPreserve", function(require, exports, module, __filename, __dirname) { 'use strict';

function addPreserve(transformHelper, bodyOnly, condition) {
    let el = transformHelper.el;
    let context = transformHelper.context;
    let builder = transformHelper.builder;

    let preserveAttrs = {};

    if (bodyOnly) {
        preserveAttrs['body-only'] = builder.literal(bodyOnly);
    }

    if (condition) {
        preserveAttrs['if'] = condition;
    }

    let widgetIdInfo = transformHelper.assignWidgetId(true /* repeated */);
    let idVarNode = widgetIdInfo.idVarNode ? null : widgetIdInfo.createIdVarNode();

    preserveAttrs.id = transformHelper.getIdExpression();

    let preserveNode = context.createNodeForEl('w-preserve', preserveAttrs);
    let idVarNodeTarget;

    if (bodyOnly) {
        el.moveChildrenTo(preserveNode);
        el.appendChild(preserveNode);
        idVarNodeTarget = el;
    } else {
        el.wrapWith(preserveNode);
        idVarNodeTarget = preserveNode;
    }

    if (idVarNode) {
        idVarNodeTarget.onBeforeGenerateCode((event) => {
            event.insertCode(idVarNode);
        });
    }

    return preserveNode;
}

function deprecatedWarning(preserveType, transformHelper, el) {
    let attribute = preserveType.attribute;
    let suffix = preserveType.suffix;
    let context = transformHelper.getCompileContext();

    let newAttributeName = 'no-update';
    if (suffix) {
        newAttributeName += suffix;
    }

    context.deprecate(`The '${attribute}' attribute is deprecated. Please use '${newAttributeName}' instead.`);
}

function preserveHandler(transformHelper, preserveType, el) {
    if (preserveType.deprecated) {
        deprecatedWarning(preserveType, transformHelper, el);
    }

    el.removeAttribute(preserveType.attribute);
    addPreserve(transformHelper, false);
}

function preserveIfHandler(transformHelper, preserveType, el) {
    if (preserveType.deprecated) {
        deprecatedWarning(preserveType, transformHelper, el);
    }

    let attribute = preserveType.attribute;
    let preserveIfAttr = el.getAttribute(attribute);
    let preserveIfCondition = preserveIfAttr.argument;

    if (!preserveIfCondition) {
        transformHelper.addError(`The '${attribute}' attribute should have an argument. For example: <div ${attribute}(someCondition)>`);
        return;
    }

    addPreserve(transformHelper, false, transformHelper.builder.expression(preserveIfCondition));
    el.removeAttribute(attribute);
}

function preserveBodyHandler(transformHelper, preserveType, el) {
    if (preserveType.deprecated) {
        deprecatedWarning(preserveType, transformHelper, el);
    }

    el.removeAttribute(preserveType.attribute);
    addPreserve(transformHelper, true);
}

function preserveBodyIfHandler(transformHelper, preserveType, el) {
    if (preserveType.deprecated) {
        deprecatedWarning(preserveType, transformHelper, el);
    }

    let attribute = preserveType.attribute;
    let preserveBodyIfAttr = el.getAttribute(attribute);
    let preserveBodyIfCondition = preserveBodyIfAttr.argument;

    if (!preserveBodyIfCondition) {
        transformHelper.addError(`The '${attribute}' attribute should have an argument. For example: <div ${attribute}(someCondition)>`);
        return;
    }

    addPreserve(transformHelper, true, transformHelper.builder.expression(preserveBodyIfCondition));
    el.removeAttribute('w-preserve-body-if');
}

const preserveTypes = [
    // The new preserve types
    {
        attribute: 'no-update',
        handler: preserveHandler
    },
    {
        attribute: 'no-update-if',
        handler: preserveIfHandler
    },
    {
        attribute: 'no-update-body',
        handler: preserveBodyHandler
    },
    {
        attribute: 'no-update-body-if',
        handler: preserveBodyIfHandler
    },

    // The deprecated preserve types
    {
        attribute: 'w-preserve',
        handler: preserveHandler,
        deprecated: true
    },
    {
        attribute: 'w-preserve-if',
        suffix: '-if',
        handler: preserveIfHandler,
        deprecated: true
    },
    {
        attribute: 'w-preserve-body',
        suffix: '-body',
        handler: preserveBodyHandler,
        deprecated: true
    },
    {
        attribute: 'w-preserve-body-if',
        suffix: '-body-if',
        handler: preserveBodyIfHandler,
        deprecated: true
    }
];

module.exports = function handleWidgetPreserve() {
    let el = this.el;

    for (let i = 0; i < preserveTypes.length; i++) {
        let preserveType = preserveTypes[i];

        if (el.hasAttribute(preserveType.attribute)) {
            preserveType.handler(this, preserveType, el);
            return;
        }
    }
};
});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleWidgetPreserveAttrs", function(require, exports, module, __filename, __dirname) { const NO_UPDATE_ATTR_SUFFIX = ':no-update';

function handleWidgetPreserveAttrs() {
    var el = this.el;
    var context = this.context;
    var builder = context.builder;

    var noUpdateAttrs = [];

    el.forEachAttribute(function(attr) {
        var attrName = attr.name;

        if (attrName && attrName.endsWith(NO_UPDATE_ATTR_SUFFIX)) {
            var attrIndex = attrName.indexOf(NO_UPDATE_ATTR_SUFFIX);
            var attrValue = el.getAttributeValue(attrName);

            // Set the attribute value for the real attribute name without the
            // :no-update suffix, and remove the :no-update suffix attribute
            var realAttr = attrName.substr(0, attrIndex);
            el.setAttributeValue(realAttr, attrValue);
            el.removeAttribute(attrName);

            noUpdateAttrs.push(realAttr);
        } else if (attrName === 'w-preserve-attrs') {
            context.deprecate(`The 'w-preserve-attrs' attribute is deprecated. Please use the ':no-update' attribute instead.`);

            var preserveAttrsExpression = el.getAttributeValue('w-preserve-attrs');

            noUpdateAttrs.push.apply(noUpdateAttrs, preserveAttrsExpression.value.split(','));
            el.removeAttribute('w-preserve-attrs');
        }
    });

    if (noUpdateAttrs.length) {
        el.setAttributeValue('data-_noupdate', builder.literal(noUpdateAttrs));
    }
}

module.exports = handleWidgetPreserveAttrs;

});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleWidgetBind", function(require, exports, module, __filename, __dirname) { 'use strict';

const path = require('/path-browserify$0.0.0/index'/*'path'*/);
const resolveFrom = require('/resolve-from$2.0.0/index'/*'resolve-from'*/);

function isTemplateMainEntry(context) {
    let filename = path.basename(context.filename);
    let ext = path.extname(filename);
    if (ext === '.js') {
        return false;
    }

    if (ext) {
        filename = filename.slice(0, 0 - ext.length);
    }

    return filename === 'index';
}

function checkCombinedComponent(widgetModulePath) {
    let filename = path.basename(widgetModulePath);
    let ext = path.extname(filename);
    if (ext) {
        filename = filename.slice(0, 0 - ext.length);
    }

    return filename !== 'widget';
}

function checkSplitComponent(context) {
    let filename = context.filename;
    let dir = path.dirname(filename);
    let rendererPath = resolveFrom(dir, './renderer');
    return rendererPath != null;
}

function checkIsInnerBind(el) {
    var curNode = el;

    while (true) {
        if (curNode.data.hasBoundWidget) {
            return true;
        }

        curNode = curNode.parentNode;

        if (!curNode) {
            break;
        }
    }

    return false;
}

module.exports = function handleWidgetBind() {
    let el = this.el;
    let context = this.context;
    let builder = this.builder;

    let internalBindAttr = el.getAttribute('_widgetbind');
    let bindAttr = el.getAttribute('w-bind');
    let bindAttrValue;

    if (internalBindAttr == null && bindAttr == null) {
        return;
    } else if (bindAttr != null) {
        context.deprecate('Legacy widgets using w-bind and defineRenderer/defineWidget or defineComponent are deprecated. See: https://github.com/marko-js/marko/issues/421');
        this.isLegacyWidget = true;

        // Remove the w-bind attribute since we don't want it showing up in the output DOM
        el.removeAttribute('w-bind');

        // Read the value for the w-bind attribute. This will be an AST node for the parsed JavaScript
        bindAttrValue = bindAttr.value;
    } else if (internalBindAttr != null) {
        el.removeAttribute('_widgetbind');
    }

    this.setHasBoundWidgetForTemplate();

    var isInnerBind = checkIsInnerBind(el.parentNode);

    el.data.hasBoundWidget = true;

    // A widget is bound to the el...

    let modulePath;

    var widgetProps = isInnerBind ? {} : this.getWidgetProps();

    let isMain = isTemplateMainEntry(context);
    let transformHelper = this;

    let inlineComponent = this.getInlineComponent();

    let isComponentExport;
    let isRendererExport;
    let rendererPath;

    const hasWidgetTypes = context.isFlagSet('hasWidgetTypes');

    if (hasWidgetTypes) {
        context.deprecate('The <widget-types> tag is deprecated. Please remove it. See: https://github.com/marko-js/marko/issues/514');
    }

    if (bindAttrValue == null) {
        if (inlineComponent) {
            modulePath = context.filename;
        } else {
            modulePath = this.getDefaultWidgetModule();
            if (!modulePath) {
                this.addError('No corresponding JavaScript module found in the same directory (either "widget.js" or "index.js"). Actual: ' + modulePath);
                return;
            }
        }
    } else if (bindAttr.isLiteralValue()) {
        modulePath = bindAttr.literalValue; // The value of the literal value
        if (typeof modulePath !== 'string') {
            this.addError('The value for the "w-bind" attribute should be a string. Actual: ' + modulePath);
            return;
        }
    } else {
        // This is a dynamic expression. The <widget-types> should have been found.
        if (!hasWidgetTypes) {
            this.addError('The <widget-types> tag must be used to declare widgets when the value of the "w-bind" attribute is a dynamic expression.');
            return;
        }

        el.insertSiblingBefore(
            builder.functionCall(
                builder.memberExpression(builder.identifier('widget'), builder.identifier('t')),
                [
                    builder.memberExpression(
                        builder.identifier('marko_widgetTypes'),
                        bindAttrValue,
                        true /* computed */)
                ]));
    }

    var renderingLogic;

    if (inlineComponent) {
        isComponentExport = true;
    } else {
        if (isMain) {
            if (modulePath && checkCombinedComponent(modulePath)) {
                isComponentExport = true;
            } else if (checkSplitComponent(context)) {
                isRendererExport = true;
                rendererPath = './renderer';
            }
        }
    }


    if (inlineComponent) {
        renderingLogic = inlineComponent;
    } else if (isComponentExport) {
        renderingLogic = context.addStaticVar('marko_component', builder.require(builder.literal(modulePath)));
    } else if (rendererPath) {
        renderingLogic = context.addStaticVar('marko_component', builder.require(builder.literal(rendererPath)));
    }

    if (modulePath) {
        let widgetTypeNode;

        var widgetPath = modulePath;
        var widgetTypeImport;

        if (isMain && isComponentExport) {
            widgetPath = './' + path.basename(context.filename);
            widgetTypeImport = builder.functionDeclaration(null, [], [
                builder.returnStatement(builder.memberExpression(builder.identifier('module'), builder.identifier('exports')))
            ]);
        }

        context.addDependency({ type:'require', path:widgetPath });
        context.addDependency({ type:'require', path:'marko/widgets' });

        widgetTypeNode = context.addStaticVar('marko_widgetType', this.buildWidgetTypeNode(widgetPath, widgetTypeImport));

        widgetProps.type = widgetTypeNode;
    }

    if (el.hasAttribute('w-config')) {
        el.insertSiblingBefore(
            builder.functionCall(
                builder.memberExpression(builder.identifier('widget'), builder.identifier('c')),
                [
                    el.getAttributeValue('w-config')
                ]));

        el.removeAttribute('w-config');
    }

    let id = el.getAttributeValue('id');

    if (id) {
        widgetProps.id = id;
    }

    if (isInnerBind) {
        // let widgetOptionsVar = context.addStaticVar(
        //     'widgetOptions',
        //     builder.functionCall(
        //         builder.memberExpression(transformHelper.markoWidgetsVar, builder.identifier('r')),
        //         [
        //             builder.renderBodyFunction([el]),
        //             builder.literal(widgetProps)
        //         ]));
        //
        // widgetProps._ = widgetOptionsVar;

        el.setAttributeValue('id',
            builder.memberExpression(
                builder.identifier('widget'),
                builder.identifier('id')));

        // TODO Deprecation warning for inner binds
        let widgetNode = context.createNodeForEl('_widget', {
            props: builder.literal(widgetProps)
        });
        el.wrapWith(widgetNode);
        return;
    }

    if (this.firstBind) {
        this.context.on('beforeGenerateCode:TemplateRoot', function(eventArgs) {
            eventArgs.node.addRenderFunctionParam(builder.identifier('widget'));
            eventArgs.node.addRenderFunctionParam(builder.identifier('state'));
            eventArgs.node.generateAssignRenderCode = function(eventArgs) {
                let nodes = [];
                let templateVar = eventArgs.templateVar;
                let templateRendererMember = eventArgs.templateRendererMember;
                let renderFunctionVar = eventArgs.renderFunctionVar;

                var createRendererArgs = [
                    renderFunctionVar,
                    builder.literal(widgetProps)
                ];

                if (renderingLogic) {
                    createRendererArgs.push(renderingLogic);
                }

                nodes.push(builder.assignment(
                    templateRendererMember,
                    builder.functionCall(
                        builder.memberExpression(transformHelper.markoWidgetsVar, builder.identifier('r')),
                        createRendererArgs)));

                if (inlineComponent || isComponentExport) {
                    nodes.push(builder.assignment(
                        builder.memberExpression(templateVar, builder.identifier('Widget')),
                        builder.functionCall(
                            builder.memberExpression(transformHelper.markoWidgetsVar, builder.identifier('w')),
                            [
                                renderingLogic,
                                templateRendererMember
                            ])));
                }

                return nodes;
            };
        });
    }



    // let widgetNode = el.data.widgetNode;
    //
    // if (widgetNode) {
    //     widgetNode.setAttributeValues(widgetProps);
    // } else {
    //     widgetNode = context.createNodeForEl('_widget', widgetProps);
    //     el.wrapWith(widgetNode);
    // }

    var ref = el.getAttributeValue('ref');

    if (el.hasAttribute('ref')) {
        if (!widgetProps.roots) {
            widgetProps.roots = [];
        }
        widgetProps.roots.push(ref);
    } else {
        el.setAttributeValue('id',
            builder.memberExpression(
                builder.identifier('widget'),
                builder.identifier('id')));
    }

    // this.widgetStack.push({
    //     widgetNode: widgetNode,
    //     el: el,
    //     extend: false
    // });
};
});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleWidgetFor",function(t,e,r,o,i){r.exports=function(){var t,e=this.el,r=this.context;if(e.hasAttribute("for-ref")&&(t=e.getAttributeValue("for-ref"),e.removeAttribute("for-ref")),e.hasAttribute("w-for")){if(r.deprecate('The "w-for" tag is deprecated. Please use "for-ref" instead.'),t)return void this.addError('The "w-for" tag cannot be used with "for-ref".');t=e.getAttributeValue("w-for"),e.removeAttribute("w-for")}null!=t&&(e.hasAttribute("for")?this.addError('The "for-ref" and "w-for" attribute cannot be used in conjuction with the "for" attribute. ('+(e.pos?r.getPosInfo(e.pos):r.filename)+")"):e.setAttributeValue("for",this.buildWidgetElIdFunctionCall(t)))}});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/index", function(require, exports, module, __filename, __dirname) { 'use strict';
var WidgetArgs = require('/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/WidgetArgs'/*'./WidgetArgs'*/);
var getRequirePath = require('/marko$4.0.0-rc.12/widgets/taglib/getRequirePath-browser'/*'../getRequirePath'*/);
var buildWidgetTypeNode = require('/marko$4.0.0-rc.12/widgets/taglib/util/buildWidgetTypeNode'/*'../util/buildWidgetTypeNode'*/);
var resolveFrom = require('/resolve-from$2.0.0/index'/*'resolve-from'*/);
var INLINE_COMPONENT_KEY = Symbol('INLINE_COMPONENT');
var MARKO_WIDGETS_VAR_KEY = Symbol('MARKO_WIDGETS_VAR');
var WIDGET_PROPS_KEY;
var HAS_WIDGET_KEY = Symbol('HAS_WIDGET');

class TransformHelper {
    constructor(el, context) {
        this.el = el;
        this.context = context;
        this.builder = context.builder;
        this.dirname = context.dirname;

        this.widgetNextElId = 0;
        this.widgetArgs = undefined;
        this.containingWidgetNode = undefined;
        this._markoWidgetsVar = context.data.markoWidgetsVar;
        this.firstBind = false;
    }

    setHasBoundWidgetForTemplate() {
        this.context.data[HAS_WIDGET_KEY] = true;
    }

    hasBoundWidgetForTemplate() {
        return this.context.data[HAS_WIDGET_KEY] || this.context.data[WIDGET_PROPS_KEY] != null;
    }

    getWidgetProps() {
        var widgetProps = this.context.data[WIDGET_PROPS_KEY];
        if (!widgetProps) {
            this.firstBind = true;
            widgetProps = this.context.data[WIDGET_PROPS_KEY] = {};
        }
        return widgetProps;
    }

    addError(message, code) {
        this.context.addError(this.el, message, code);
    }

    getWidgetArgs() {
        return this.widgetArgs || (this.widgetArgs = new WidgetArgs());
    }

    nextUniqueId() {
        var widgetNextElId = this.context.data.widgetNextElId;
        if (widgetNextElId == null) {
            this.context.data.widgetNextElId = 0;
        }

        return (this.context.data.widgetNextElId++);
    }

    getNestedIdExpression() {
        this.assignWidgetId();
        return this.getWidgetIdInfo().nestedIdExpression;
    }

    getIdExpression() {
        this.assignWidgetId();
        return this.getWidgetIdInfo().idExpression;
    }

    set widgetIdInfo(value) {
        this.el.data.widgetIdInfo = value;
    }

    get widgetIdInfo() {
        return this.el.data.widgetIdInfo;
    }

    getWidgetIdInfo() {
        return this.widgetIdInfo;
    }

    getCompileContext() {
        return this.context;
    }

    getDefaultWidgetModule() {
        var dirname = this.dirname;
        if (resolveFrom(dirname, './component')) {
            return './component';
        } else if (resolveFrom(dirname, './widget')) {
            return './widget';
        } else if (resolveFrom(dirname, './')) {
            return './';
        } else {
            return null;
        }
    }

    getMarkoWidgetsRequirePath(target) {
        return getRequirePath(target, this.context);
    }

    set markoWidgetsVar(value) {
        this.context.data[MARKO_WIDGETS_VAR_KEY] = value;
    }

    get markoWidgetsVar() {
        if (!this.context.data[MARKO_WIDGETS_VAR_KEY]) {
            this.context.data[MARKO_WIDGETS_VAR_KEY] =
                this.context.importModule(
                    'marko_widgets',
                    this.getMarkoWidgetsRequirePath(this.isLegacyWidget ? 'marko/widgets/legacy' : 'marko/widgets'));
        }

        return this.context.data[MARKO_WIDGETS_VAR_KEY];
    }

    buildWidgetElIdFunctionCall(id) {
        var builder = this.builder;

        var widgetElId = builder.memberExpression(
            builder.identifier('widget'),
            builder.identifier('elId'));

        return builder.functionCall(widgetElId, arguments.length === 0 ? [] : [ id ]);
    }

    buildWidgetTypeNode(path, def) {
        return buildWidgetTypeNode(path, this.dirname, def, this);
    }

    getTransformHelper(el) {
        return new TransformHelper(el, this.context);
    }

    setInlineComponent(inlineComponent) {
        this.context.data[INLINE_COMPONENT_KEY] = inlineComponent;
    }

    getInlineComponent() {
        return this.context.data[INLINE_COMPONENT_KEY];
    }

    hasInlineComponent() {
        return this.context.data[INLINE_COMPONENT_KEY] != null;
    }
}

TransformHelper.prototype.assignWidgetId = require('/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/assignWidgetId'/*'./assignWidgetId'*/);
TransformHelper.prototype.handleRootNodes = require('/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleRootNodes'/*'./handleRootNodes'*/);
TransformHelper.prototype.handleIncludeNode = require('/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleIncludeNode'/*'./handleIncludeNode'*/);
TransformHelper.prototype.handleWidgetEvents = require('/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleWidgetEvents'/*'./handleWidgetEvents'*/);
TransformHelper.prototype.handleWidgetPreserve = require('/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleWidgetPreserve'/*'./handleWidgetPreserve'*/);
TransformHelper.prototype.handleWidgetPreserveAttrs = require('/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleWidgetPreserveAttrs'/*'./handleWidgetPreserveAttrs'*/);
TransformHelper.prototype.handleWidgetBind = require('/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleWidgetBind'/*'./handleWidgetBind'*/);
TransformHelper.prototype.handleWidgetFor = require('/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/handleWidgetFor'/*'./handleWidgetFor'*/);

module.exports = TransformHelper;

});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/util/getTransformHelper",function(r,e,t,n,i){var o=r("/marko$4.0.0-rc.12/widgets/taglib/TransformHelper/index");t.exports=function(r,e){return new o(r,e)}});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/widget-types-tag", function(require, exports, module, __filename, __dirname) { var getTransformHelper = require('/marko$4.0.0-rc.12/widgets/taglib/util/getTransformHelper'/*'./util/getTransformHelper'*/);

module.exports = function codeGenerator(el, codegen) {
    var context = codegen.context;
    var transformHelper = getTransformHelper(el, context);

    transformHelper.isLegacyWidget = true;

    var builder = codegen.builder;

    var attrs = el.getAttributes();

    var typesObject = {};

    attrs.forEach((attr) => {
        if (!attr.isLiteralString()) {
            codegen.addError('Widget type should be a string');
            return;
        }

        typesObject[attr.name] = transformHelper.buildWidgetTypeNode(attr.literalValue);
    });

    codegen.addStaticVar('marko_widgetTypes', builder.literal(typesObject));

    return null;
};
});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/widgets-transformer", function(require, exports, module, __filename, __dirname) { 'use strict';
var getTransformHelper = require('/marko$4.0.0-rc.12/widgets/taglib/util/getTransformHelper'/*'./util/getTransformHelper'*/);

module.exports = function transform(el, context) {
    var transformHelper = getTransformHelper(el, context);

    if (el.type === 'TemplateRoot') {
        transformHelper.handleRootNodes();
        return;
    }

    if (el.hasAttribute('w-body')) {
        context.deprecate('The "w-body" attribute is deprecated. Please use "<include(...)" instead. See: https://github.com/marko-js/marko/issues/492');
        let builder = context.builder;
        let bodyValue = el.getAttributeValue('w-body');
        el.removeAttribute('w-body');

        let includeNode = context.createNodeForEl('include');

        if (!bodyValue) {
            bodyValue = builder.memberExpression(
                builder.identifier('widget'),
                builder.identifier('b'));

            includeNode.data.bodySlot = true;
        }

        includeNode.addProp('_target', bodyValue);
        el.appendChild(includeNode);
    }

    if (el.tagName === 'widget-types') {
        context.setFlag('hasWidgetTypes');
    } else if (el.tagName === 'include') {
        transformHelper.handleIncludeNode(el);
        transformHelper.getWidgetArgs().compile(transformHelper);
        return;
    }

    if (el.hasAttribute('w-el-id')) {
        transformHelper.addError('"w-el-id" attribute is no longer allowed. Use "w-id" instead.');
        return;
    }

    if (el.hasAttribute('_widgetbind') || el.hasAttribute('w-bind')) {
        el.setFlag('hasWidgetBind');
        transformHelper.handleWidgetBind();
    }

    if (/* New preserve attributes */
        el.hasAttribute('no-update') ||
        el.hasAttribute('no-update-body') ||
        el.hasAttribute('no-update-if') ||
        el.hasAttribute('no-update-body-if') ||
        /* Old preserve attributes */
        el.hasAttribute('w-preserve') ||
        el.hasAttribute('w-preserve-body') ||
        el.hasAttribute('w-preserve-if') ||
        el.hasAttribute('w-preserve-body-if')) {
        transformHelper.handleWidgetPreserve();
    }

    if (el.hasAttribute('ref') || el.hasAttribute('w-id')) {
        transformHelper.assignWidgetId();
    }

    if (el.hasAttribute('for-ref') || el.hasAttribute('w-for')) {
        transformHelper.handleWidgetFor();
    }

    if (el.hasAttribute('w-body')) {
        transformHelper.handleWidgetBody();
    }

    // Handle w-preserve-attrs and :no-update attributes
    transformHelper.handleWidgetPreserveAttrs();

    // Handle w-on* properties
    transformHelper.handleWidgetEvents();

    // If we need to pass any information to a nested widget then
    // we start that information in the "out" so that it can be picked
    // up later by the nested widget. We call this "widget args" and
    // we generate compiled code that stores the widget args in the out
    // for the next widget and then we also insert cleanup code to remove
    // the data out of the out
    transformHelper.getWidgetArgs().compile(transformHelper);
};

});
$_mod.def("/marko$4.0.0-rc.12/compiler/index", function(require, exports, module, __filename, __dirname) { 'use strict';

var Compiler = require('/marko$4.0.0-rc.12/compiler/Compiler'/*'./Compiler'*/);
var Walker = require('/marko$4.0.0-rc.12/compiler/Walker'/*'./Walker'*/);
var Parser = require('/marko$4.0.0-rc.12/compiler/Parser'/*'./Parser'*/);
var HtmlJsParser = require('/marko$4.0.0-rc.12/compiler/HtmlJsParser'/*'./HtmlJsParser'*/);
var Builder = require('/marko$4.0.0-rc.12/compiler/Builder'/*'./Builder'*/);
var extend = require('/raptor-util$3.1.0/extend'/*'raptor-util/extend'*/);
var CompileContext = require('/marko$4.0.0-rc.12/compiler/CompileContext'/*'./CompileContext'*/);
var globalConfig = require('/marko$4.0.0-rc.12/compiler/config'/*'./config'*/);
var CompileContext = require('/marko$4.0.0-rc.12/compiler/CompileContext'/*'./CompileContext'*/);
var InlineCompiler = require('/marko$4.0.0-rc.12/compiler/InlineCompiler'/*'./InlineCompiler'*/);
var ok = require('/assert$1.3.0/assert'/*'assert'*/).ok;
var fs = require('/markojs-website$1.0.0/browser-shims/fs/index'/*'fs'*/);

var defaults = extend({}, globalConfig);

Object.defineProperty(exports, 'defaultOptions', {
    get: function() { return globalConfig;  },
    enumerable: true,
    configurable: false
});

Object.defineProperty(exports, 'config', {
    get: function() { return globalConfig;  },
    enumerable: true,
    configurable: false
});

var defaultParser = new Parser(new HtmlJsParser());
var rawParser = new Parser(
    new HtmlJsParser({
        ignorePlaceholders: true
    }),
    {
        raw: true
    });

function configure(newConfig) {
    if (!newConfig) {
        newConfig = {};
    }

    extend(globalConfig, defaults);
    extend(globalConfig, newConfig);
}

var defaultCompiler = new Compiler({
    parser: defaultParser,
    builder: Builder.DEFAULT_BUILDER
});

function createBuilder(options) {
    return new Builder(options);
}

function createWalker(options) {
    return new Walker(options);
}

function _compile(src, filename, userOptions, callback) {
    ok(filename, '"filename" argument is required');
    ok(typeof filename === 'string', '"filename" argument should be a string');

    var options = {};

    extend(options, globalConfig);

    if (userOptions) {
        extend(options, userOptions);
    }

    var compiler = defaultCompiler;

    var context = new CompileContext(src, filename, compiler.builder, options);

    if (callback) {
        let compiled;

        try {
            compiled = compiler.compile(src, context);
        } catch(e) {
            return callback(e);
        }

        callback(null, userOptions.sourceOnly ? compiled.code : compiled);
    } else {
        let compiled = compiler.compile(src, context);
        return userOptions.sourceOnly ? compiled.code : compiled;
    }
}

function compile(src, filename, options, callback) {
    if (typeof options === 'function') {
        callback = options;
        options = null;
    }

    options = options || {};
    options.sourceOnly = options.sourceOnly !== false;

    return _compile(src, filename, options, callback);
}

function compileForBrowser(src, filename, options, callback) {
    if (typeof options === 'function') {
        callback = options;
        options = null;
    }

    options = extend({output: 'vdom', browser: true, sourceOnly: false}, options);

    return compile(src, filename, options, callback);
}

function compileFile(filename, options, callback) {
    if (typeof options === 'function') {
        callback = options;
        options = null;
    }

    options = options || {};
    options.sourceOnly = options.sourceOnly !== false;

    if (callback) {
        fs.readFile(filename, {encoding: 'utf8'}, function(err, templateSrc) {
            if (err) {
                return callback(err);
            }

            _compile(templateSrc, filename, options, callback);
        });
    } else {
        let templateSrc = fs.readFileSync(filename, {encoding: 'utf8'});
        return _compile(templateSrc, filename, options, callback);
    }
}

function compileFileForBrowser(filename, options, callback) {
    if (typeof options === 'function') {
        callback = options;
        options = null;
    }

    options = extend({output: 'vdom', browser: true, sourceOnly: false}, options);
    return compileFile(filename, options, callback);
}


function createInlineCompiler(filename, userOptions) {
    var options = {};

    extend(options, globalConfig);

    if (userOptions) {
        extend(options, userOptions);
    }

    var compiler = defaultCompiler;
    var context = new CompileContext('', filename, compiler.builder, options);
    return new InlineCompiler(context, compiler);
}

function checkUpToDate(templateFile, templateJsFile) {
    return false; // TODO Implement checkUpToDate
}

function getLastModified(path, options, callback) {
    if (typeof options === 'function') {
        callback = options;
        options = null;
    }

    callback(null, -1); // TODO Implement getLastModified
}

function clearCaches() {
    exports.taglibLookup.clearCache();
    exports.taglibFinder.clearCache();
    exports.taglibLoader.clearCache();
}

function parseRaw(templateSrc, filename) {
    var context = new CompileContext(templateSrc, filename, Builder.DEFAULT_BUILDER);
    var parsed = rawParser.parse(templateSrc, context);

    if (context.hasErrors()) {
        var errors = context.getErrors();

        var message = 'An error occurred while trying to compile template at path "' + filename + '". Error(s) in template:\n';
        for (var i = 0, len = errors.length; i < len; i++) {
            let error = errors[i];
            message += (i + 1) + ') ' + error.toString() + '\n';
        }
        var error = new Error(message);
        error.errors = errors;
        throw error;
    }

    return parsed;
}

exports.createBuilder = createBuilder;
exports.compileFile = compileFile;
exports.compile = compile;
exports.compileForBrowser = compileForBrowser;
exports.compileFileForBrowser = compileFileForBrowser;
exports.parseRaw = parseRaw;
exports.createInlineCompiler = createInlineCompiler;

exports.checkUpToDate = checkUpToDate;
exports.getLastModified = getLastModified;
exports.createWalker = createWalker;
exports.builder = Builder.DEFAULT_BUILDER;
exports.configure = configure;
exports.clearCaches = clearCaches;

var taglibLookup = require('/marko$4.0.0-rc.12/compiler/taglib-lookup/index'/*'./taglib-lookup'*/);
exports.taglibLookup = taglibLookup;
exports.taglibLoader = require('/marko$4.0.0-rc.12/compiler/taglib-loader/index'/*'./taglib-loader'*/);
exports.taglibFinder = require('/marko$4.0.0-rc.12/compiler/taglib-finder/index-browser'/*'./taglib-finder'*/);

function buildTaglibLookup(dirname) {
    return taglibLookup.buildLookup(dirname);
}

exports.buildTaglibLookup = buildTaglibLookup;

taglibLookup.registerTaglib(require.resolve('/marko$4.0.0-rc.12/taglibs/core/marko'/*'../taglibs/core/marko.json'*/));
taglibLookup.registerTaglib(require.resolve('/marko$4.0.0-rc.12/taglibs/layout/marko'/*'../taglibs/layout/marko.json'*/));
taglibLookup.registerTaglib(require.resolve('/marko$4.0.0-rc.12/taglibs/html/marko'/*'../taglibs/html/marko.json'*/));
taglibLookup.registerTaglib(require.resolve('/marko$4.0.0-rc.12/taglibs/async/marko'/*'../taglibs/async/marko.json'*/));
taglibLookup.registerTaglib(require.resolve('/marko$4.0.0-rc.12/taglibs/cache/marko'/*'../taglibs/cache/marko.json'*/));
taglibLookup.registerTaglib(require.resolve('/marko$4.0.0-rc.12/widgets/taglib/marko'/*'../widgets/taglib/marko.json'*/));

exports.registerTaglib = function(path) {
    taglibLookup.registerTaglib(path);
    clearCaches();
};

exports.isVDOMSupported = true;
});
$_mod.def("/markojs-website$1.0.0/routes/try-online/app/vmodules", function(require, exports, module, __filename, __dirname) { var fs = require('/markojs-website$1.0.0/browser-shims/fs/index'/*'~/browser-shims/fs'*/);
var path = require('/path-browserify$0.0.0/index'/*'path'*/);
var resolveFrom = require('/resolve-from$2.0.0/index'/*'resolve-from'*/);
var markoCompiler = require('/marko$4.0.0-rc.12/compiler/index'/*'marko/compiler'*/);

var READ_OPTIONS = { encoding: 'utf8' };
var nativeRequire = require;

var extensions = {
    '.marko': function(src, filePath) {
        var outputFile = filePath + '.marko.js';
        var compiled = markoCompiler.compileForBrowser(src, filePath, { sourceOnly: true });
        return loadSource(compiled, outputFile);
    },
    '.js': function(src, filePath) {
        return loadSource(src, filePath);
    }
};

var cache = {};

function loadFile(filePath) {
    var cached = cache[filePath];
    if (cached) {
        return cached;
    }

    var src = fs.readFileSync(filePath, READ_OPTIONS);
    var ext = path.extname(filePath);
    var compiler = extensions[ext];
    var loadedModule = compiler(src, filePath);
    return loadedModule;
}

function loadSource(src, filePath) {
    var dir = path.dirname(filePath);
    var wrappedSource = '(function(require, exports, module, __filename, __dirname) { ' + src + ' })';
    var factoryFunc = eval(wrappedSource);
    var exports = {};
    var module = {
        require: function(target) {
            var loaded;

            try {
                loaded = require(target);
            } catch(e) {}


            var resolved;

            if (target.charAt('.')) {
                resolved = resolveFrom(dir, target);
                if (!resolved) {
                    throw new Error('Module not found: ' + target + ' (from: ' + dir + ')');
                }

                return loadFile(resolved);
            } else {
                return nativeRequire(target);
            }


        },
        exports: exports,
        id: filePath
    };

    factoryFunc(require, exports, module, filePath, dir);

    cache[filePath] = module;

    module.source = src;
    return module;
}

function clearCache() {
    Object.keys(cache).forEach((cacheKey) => {
        delete cache[cacheKey];
    });
}

exports.loadFile = loadFile;
exports.cache = cache;
exports.clearCache = clearCache;
});
$_mod.def("/markojs-website$1.0.0/routes/try-online/app/Compiler", function(require, exports, module, __filename, __dirname) { var markoCompiler = require('/marko$4.0.0-rc.12/compiler/index'/*'marko/compiler'*/);

class Compiler {
    constructor(fs) {
        this.fs = fs;
    }
}

module.exports = Compiler;
});
$_mod.remap("/markojs-website$1.0.0/routes/try-online/app/readVirtualFiles",!1);
$_mod.def("/markojs-website$1.0.0/routes/try-online/app/TryOnlineApp", function(require, exports, module, __filename, __dirname) { 'use strict';

var vfs = require('/markojs-website$1.0.0/browser-shims/fs/index'/*'~/browser-shims/fs'*/);
var Compiler = require('/markojs-website$1.0.0/routes/try-online/app/Compiler'/*'./Compiler'*/);
var readVirtualFiles = {}/*require('./readVirtualFiles')*/;
var path = require('/path-browserify$0.0.0/index'/*'path'*/);
var EventEmitter = require('/events-light$1.0.5/src/index'/*'events-light'*/);
var vmodules = require('/markojs-website$1.0.0/routes/try-online/app/vmodules'/*'./vmodules'*/);

class TryOnlineApp extends EventEmitter {
    constructor() {
        super();
        if (typeof readVirtualFiles === 'function') {
            readVirtualFiles(vfs);
        }

        this.state = {
            rootDir: vfs.readTreeSync(),
            focusedDirectory: undefined,
            focusedFile: undefined,
            openFiles: [],
            previewFile: undefined
        };

        this.assignOpenFilesToPanes();

        this.compiler = new Compiler(vfs);

        vfs.on('file:modified', (file) => {
            vmodules.clearCache();
            this.emit('file:modified', file);
        });
    }

    initialize(state) {
        function addFiles(dir) {
            dir.files.forEach((file) => {
                if (file.type === 'dir') {
                    addFiles(file);
                } else {
                    vfs.writeFileSync(file.path, file.text);
                }
            });
        }

        addFiles(state.rootDir);

        this.state.rootDir = vfs.readTreeSync();
        this.state.focusedDirectory = state.focusedDirectory;
        this.state.focusedFile = state.focusedFile;
        this.state.openFiles = state.openFiles;
    }



    updateFile(filePath, text) {
        vfs.writeFileSync(filePath, text);
    }

    assignOpenFilesToPanes() {
        var state = this.state;
        var openFiles = state.openFiles;

        var panes = {
            inputTop: [],
            inputBottom: [],
            outputTop: [],
            outputBottom: [],
        };

        if (state.previewFile) {
            var previewFile = Object.create(state.previewFile);
            previewFile.preview = true;
            panes.outputTop.push(previewFile);
        }

        openFiles.forEach((openFile) => {
            var targetPane;

            if (openFile.name === 'demo.marko') {
                targetPane = 'inputTop';
            } else if (openFile.name === 'index.marko') {
                targetPane = 'inputBottom';
            } else if (openFile.name.endsWith('.marko.js')) {
                targetPane = 'outputTop';
            }

            if (!targetPane) {
                targetPane = 'inputBottom';
            }
            panes[targetPane].push(openFile);
        });

        this.state.panes = panes;
    }

    focusFile(filePath) {
        var file = vfs.getFile(filePath);
        if (!file) {
            return;
        }

        var isDirectory = file.isDirectory();
        var dirPath = filePath;

        if (isDirectory) {
            if (this.state.focusedDirectory === filePath) {
                // Directory is already focused
                return;
            }
        } else {
            if (this.state.focusedFile === filePath) {
                // Directory is already focused
                return;
            }

            dirPath = path.dirname(filePath);
            if (this.state.focusedDirectory !== dirPath) {
                this.state.openFiles = [];
            }
            this.state.focusedDirectory = dirPath;
        }

        var dir = vfs.getFile(dirPath);

        var index = {};

        dir.files.forEach((childFile) => {
            index[childFile.name] = childFile;
        });

        var addOpenFile = (file) => {
            this.state.openFiles.push(file);
        };

        if (isDirectory) {
            if (this.state.focusedDirectory === dirPath) {
                // Directory is already focused
                return;
            }

            this.state.openFiles = [];

            if (index['index.marko'] && index['demo.marko']) {
                addOpenFile(index['index.marko']);
                addOpenFile(index['demo.marko']);
                this.state.previewFile = index['demo.marko'];
            } else {
                let firstFile;

                for (let i=0; i<dir.files.length; i++) {
                    var curFile = dir.files[i];
                    if (curFile.isFile()) {
                        firstFile = curFile;
                        break;
                    }
                }

                if (firstFile) {
                    addOpenFile(firstFile);
                    this.state.previewFile = firstFile;
                } else if (dir.files.length) {
                    // Focus the first directory instead
                    this.focusFile(dir.files[0]);
                    return;
                }
            }

            this.state.focusedFile = this.state.openFiles.length ? this.state.openFiles[0].path : undefined;
            this.state.focusedDirectory = dirPath;
        } else {
            this.state.focusedFile = filePath;

            var isComponent = 'demo.marko' in index;
            if (isComponent) {
                var isOpen = false;
                var openFiles = this.state.openFiles;
                for (let i=0; i<openFiles.length; i++) {
                    let openFile = openFiles[i];
                    if (openFile.path === filePath) {
                        isOpen = true;
                        break;
                    }
                }

                if (!isOpen) {
                    this.state.openFiles = this.state.openFiles.concat(file);
                }

                if (file.name === 'demo.marko') {
                    this.state.previewFile = file;
                }
            } else {
                this.state.openFiles = [file];
                this.state.previewFile = file;
            }
        }

        this.assignOpenFilesToPanes();

        this._emitStateChange();
    }

    _emitStateChange() {
        this.emit('state:change', this.state);
    }

    onStateChange(callback) {
        this.on('state:change', callback);
    }
}


module.exports = TryOnlineApp;
});
$_mod.def("/markojs-website$1.0.0/routes/try-online/app/index",function(e,n,o,r,t){var i=e("/markojs-website$1.0.0/routes/try-online/app/TryOnlineApp");o.exports=new i});
$_mod.def("/marko$4.0.0-rc.12/runtime/vdom/helpers",function(n,r,t,e,u){"use strict";var o=n("/marko$4.0.0-rc.12/runtime/vdom/vdom"),c=o.$__VElement,i=o.$__VText,m=n("/marko$4.0.0-rc.12/runtime/helpers"),f=n("/raptor-util$3.1.0/extend"),a=m.cl;r.e=function(n,r,t,e){return new c(n,r,t,e)},r.t=function(n){return new i(n)},r.const=function(n){var r=0;return function(){return n+r++}},r.ca=function(n){return n?"string"==typeof n?n:a(n):null},f(r,m)});
$_mod.def("/markojs-website$1.0.0/routes/try-online/components/preview/index.marko", function(require, exports, module, __filename, __dirname) { var marko_template = module.exports = require('/marko$4.0.0-rc.12/vdom'/*"marko/vdom"*/).t(),
    marko_component = ({
    onInput: function (input) {
        this.state = { file: input.file };
    },
    onMount: function () {
        this.subscribeTo(app).on('file:modified', file => {
            if (file.path === this.state.file.path) {
                var template = getTemplate(file);
                template.renderSync().replaceChildrenOf(this.el);
            }
        });
    }
}),
    marko_widgets = require('/marko$4.0.0-rc.12/widgets/index-browser'/*"marko/widgets"*/),
    marko_registerWidget = marko_widgets.rw,
    marko_widgetType = marko_registerWidget("/markojs-website$1.0.0/routes/try-online/components/preview/index.marko", function() {
      return module.exports;
    }),
    vmodules = require('/markojs-website$1.0.0/routes/try-online/app/vmodules'/*"~/routes/try-online/app/vmodules"*/),
    app = require('/markojs-website$1.0.0/routes/try-online/app/index'/*"~/routes/try-online/app"*/),
    marko_helpers = require('/marko$4.0.0-rc.12/runtime/vdom/helpers'/*"marko/runtime/vdom/helpers"*/),
    marko_loadTag = marko_helpers.t,
    include_tag = marko_loadTag(require('/marko$4.0.0-rc.12/widgets/taglib/include-tag'/*"marko/widgets/taglib/include-tag"*/));

function getTemplate(file) {
    var module = vmodules.loadFile(file.path);
    return module.exports;
};

function render(input, out, widget, state) {
  var data = input;

  var file = state.file;

  var __widgetId0 = widget.id;

  out.be("div", {
      "class": "preview",
      id: __widgetId0
    });

  include_tag({
      _target: getTemplate(file),
      _elId: __widgetId0,
      _arg: widget
    }, out);

  out.ee();
}

marko_template._ = marko_widgets.r(render, {
    type: marko_widgetType
  }, marko_component);

marko_template.Widget = marko_widgets.w(marko_component, marko_template._);

marko_template.meta = {
    deps: [
      "./style.css",
      {
          type: "require",
          path: "/Users/mirawlings/code/markojs-website/routes/try-online/components/preview/index.marko"
        },
      {
          type: "require",
          path: "/Users/mirawlings/code/marko/widgets/index.js"
        }
    ],
    tags: [
      "marko/widgets/taglib/include-tag"
    ]
  };

});
$_mod.installed("markojs-website$1.0.0","codemirror","5.23.0");
$_mod.main("/codemirror$5.23.0","lib/codemirror");
$_mod.def("/codemirror$5.23.0/lib/codemirror",function(e,t,r,n,i){!function(e,n){"object"==typeof t&&"undefined"!=typeof r?r.exports=n():"function"==typeof define&&define.amd?define(n):e.CodeMirror=n()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function r(e,r){return t(e).appendChild(r)}function n(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function o(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function l(t,r){var n=t.className;e(r).test(n)||(t.className+=(n?" ":"")+r)}function s(t,r){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!e(n[i]).test(r)&&(r+=" "+n[i]);return r}function a(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function u(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function c(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=n||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}}function f(){this.id=null}function h(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function d(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);o==-1&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}}function p(e){for(;Al.length<=e;)Al.push(g(Al)+" ");return Al[e]}function g(e){return e[e.length-1]}function v(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function m(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function y(){}function b(e,t){var r;return Object.create?r=Object.create(e):(y.prototype=e,r=new y),t&&u(t,r),r}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ol.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function C(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function S(e){return e.charCodeAt(0)>=768&&Wl.test(e)}function L(e,t,r){var i=this;this.input=r,i.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=n("div",null,"CodeMirror-code"),i.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=n("div",null,"CodeMirror-cursors"),i.measure=n("div",null,"CodeMirror-measure"),i.lineMeasure=n("div",null,"CodeMirror-measure"),i.lineSpace=n("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=n("div",[n("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=n("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=n("div",null,null,"position: absolute; height: "+Ll+"px; width: 1px;"),i.gutters=n("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=n("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=n("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),rl&&nl<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),il||Jo&&hl||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,r.init(i)}function T(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function M(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function k(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function N(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function A(e){if(null==e.parent)return null;for(var t=e.parent,r=h(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function O(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l],a=s.height;if(t<a)break;t-=a}return r+l}function W(e,t){return t>=e.first&&t<e.first+e.size}function D(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function H(e,t){return this instanceof H?(this.line=e,void(this.ch=t)):new H(e,t)}function P(e,t){return e.line-t.line||e.ch-t.ch}function E(e){return H(e.line,e.ch)}function I(e,t){return P(e,t)<0?t:e}function z(e,t){return P(e,t)<0?e:t}function F(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function R(e,t){if(t.line<e.first)return H(e.first,0);var r=e.first+e.size-1;return t.line>r?H(r,T(e,r).text.length):B(t,T(e,t.line).text.length)}function B(e,t){var r=e.ch;return null==r||r>t?H(e.line,t):r<0?H(e.line,0):e}function G(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=R(e,t[n]);return r}function U(){Dl=!0}function V(){Hl=!0}function K(e,t,r){this.marker=e,this.from=t,this.to=r}function j(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function X(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Y(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function _(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var a=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new K(l,o.from,a?null:o.to))}}return n}function $(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var a=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new K(l,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}function q(e,t){if(t.full)return null;var r=W(e,t.from.line)&&T(e,t.from.line).markedSpans,n=W(e,t.to.line)&&T(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==P(t.from,t.to),s=_(r,i,l),a=$(n,o,l),u=1==t.text.length,c=g(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=j(a,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(a)for(var p=0;p<a.length;++p){var v=a[p];if(null!=v.to&&(v.to+=c),null==v.from){var m=j(s,v.marker);m||(v.from=c,u&&(s||(s=[])).push(v))}else v.from+=c,u&&(s||(s=[])).push(v)}s&&(s=Z(s)),a&&a!=s&&(a=Z(a));var y=[s];if(!u){var b,w=t.text.length-2;if(w>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(b||(b=[])).push(new K(s[x].marker,null,null));for(var C=0;C<w;++C)y.push(b);y.push(a)}return y}function Z(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Q(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&h(n,r)!=-1||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(P(u.to,s.from)<0||P(u.from,s.to)>0)){var c=[a,1],f=P(u.from,s.from),d=P(u.to,s.to);(f<0||!l.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(d>0||!l.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-1}}return i}function J(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function ee(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function te(e){return e.inclusiveLeft?-1:0}function re(e){return e.inclusiveRight?1:0}function ne(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=P(n.from,i.from)||te(e)-te(t);if(o)return-o;var l=P(n.to,i.to)||re(e)-re(t);return l?l:t.id-e.id}function ie(e,t){var r,n=Hl&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||ne(r,i.marker)<0)&&(r=i.marker);return r}function oe(e){return ie(e,!0)}function le(e){return ie(e,!1)}function se(e,t,r,n,i){var o=T(e,t),l=Hl&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=P(u.from,r)||te(a.marker)-te(i),f=P(u.to,n)||re(a.marker)-re(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?P(u.to,r)>=0:P(u.to,r)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?P(u.from,n)<=0:P(u.from,n)<0)))return!0}}}function ae(e){for(var t;t=oe(e);)e=t.find(-1,!0).line;return e}function ue(e){for(var t,r;t=le(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function ce(e,t){var r=T(e,t),n=ae(r);return r==n?t:A(n)}function fe(e,t){if(t>e.lastLine())return t;var r,n=T(e,t);if(!he(e,n))return t;for(;r=le(n);)n=r.find(1,!0).line;return A(n)+1}function he(e,t){var r=Hl&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&de(e,t,n))return!0}}function de(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return de(e,n.line,j(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&de(e,t,i))return!0}function pe(e){e=ae(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==r)break;t+=s.height}return t}function ge(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=oe(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=le(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,n=o.to.line,r+=n.text.length-o.to.ch}return r}function ve(e){var t=e.display,r=e.doc;t.maxLine=T(r,r.first),t.maxLineLength=ge(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=ge(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function me(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}function ye(e){return e.level%2?e.to:e.from}function be(e){return e.level%2?e.from:e.to}function we(e){var t=ke(e);return t?ye(t[0]):0}function xe(e){var t=ke(e);return t?be(g(t)):e.text.length}function Ce(e,t,r){var n=e[0].level;return t==n||r!=n&&t<r}function Se(e,t){var r;Pl=null;for(var n=0;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return n;if(i.from==t||i.to==t){if(null!=r)return Ce(e,i.level,e[r].level)?(i.from!=i.to&&(Pl=r),n):(i.from!=i.to&&(Pl=n),r);r=n}}return r}function Le(e,t,r,n){if(!n)return t+r;do t+=r;while(t>0&&S(e.text.charAt(t)));return t}function Te(e,t,r,n){var i=ke(e);if(!i)return Me(e,t,r,n);for(var o=Se(i,t),l=i[o],s=Le(e,t,l.level%2?-r:r,n);;){if(s>l.from&&s<l.to)return s;if(s==l.from||s==l.to)return Se(i,s)==o?s:(l=i[o+=r],r>0==l.level%2?l.to:l.from);if(l=i[o+=r],!l)return null;s=r>0==l.level%2?Le(e,l.to,-1,n):Le(e,l.from,1,n)}}function Me(e,t,r,n){var i=t+r;if(n)for(;i>0&&S(e.text.charAt(i));)i+=r;return i<0||i>e.text.length?null:i}function ke(e){var t=e.order;return null==t&&(t=e.order=El(e.text)),t}function Ne(e,t){return e._handlers&&e._handlers[t]||Il}function Ae(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=h(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Oe(e,t){var r=Ne(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function We(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Oe(e,r||t.type,e,t),ze(t)||t.codemirrorIgnore}function De(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)h(r,t[n])==-1&&r.push(t[n])}function He(e,t){return Ne(e,t).length>0}function Pe(e){e.prototype.on=function(e,t){zl(this,e,t)},e.prototype.off=function(e,t){Ae(this,e,t)}}function Ee(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ie(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ze(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Fe(e){Ee(e),Ie(e)}function Re(e){return e.target||e.srcElement}function Be(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),dl&&e.ctrlKey&&1==t&&(t=3),t}function Ge(e){if(null==Cl){var t=n("span","​");r(e,n("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Cl=t.offsetWidth<=1&&t.offsetHeight>2&&!(rl&&nl<8))}var i=Cl?n("span","​"):n("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Ue(e){if(null!=Sl)return Sl;var n=r(e,document.createTextNode("AخA")),i=ml(n,0,1).getBoundingClientRect(),o=ml(n,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(Sl=o.right-i.right<3)}function Ve(e){if(null!=Ul)return Ul;var t=r(e,n("span","x")),i=t.getBoundingClientRect(),o=ml(t,0,1).getBoundingClientRect();return Ul=Math.abs(i.left-o.left)>1}function Ke(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Vl[e]=t}function je(e,t){Kl[e]=t}function Xe(e){if("string"==typeof e&&Kl.hasOwnProperty(e))e=Kl[e];else if(e&&"string"==typeof e.name&&Kl.hasOwnProperty(e.name)){var t=Kl[e.name];"string"==typeof t&&(t={name:t}),e=b(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Xe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Xe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ye(e,t){t=Xe(t);var r=Vl[t.name];if(!r)return Ye(e,"text/plain");var n=r(e,t);if(jl.hasOwnProperty(t.name)){var i=jl[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)n[l]=t.modeProps[l];return n}function _e(e,t){var r=jl.hasOwnProperty(e)?jl[e]:jl[e]={};u(t,r)}function $e(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function qe(e,t){for(var r;e.innerMode&&(r=e.innerMode(t),r&&r.mode!=e);)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Ze(e,t,r){return!e.startState||e.startState(t,r)}function Qe(e,t,r,n){var i=[e.state.modeGen],o={};lt(e,t.text,e.doc.mode,r,function(e,t){return i.push(e,t)},o,n);for(var l=function(r){var n=e.state.overlays[r],l=1,s=0;lt(e,t.text,n.mode,!0,function(e,t){for(var r=l;s<e;){var o=i[l];o>e&&i.splice(l,1,e,i[l+1],o),l+=2,s=Math.min(e,o)}if(t)if(n.opaque)i.splice(r,l-r,e,"overlay "+t),l=r+2;else for(;r<l;r+=2){var a=i[r+1];i[r+1]=(a?a+" ":"")+"overlay "+t}},o)},s=0;s<e.state.overlays.length;++s)l(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Je(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=et(e,A(t)),i=Qe(e,t,t.text.length>e.options.maxHighlightLength?$e(e.doc.mode,n):n);t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++}return t.styles}function et(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return!0;var o=st(e,t,r),l=o>n.first&&T(n,o-1).stateAfter;return l=l?$e(n.mode,l):Ze(n.mode),n.iter(o,t,function(r){tt(e,r.text,l);var s=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;r.stateAfter=s?$e(n.mode,l):null,++o}),r&&(n.frontier=o),l}function tt(e,t,r,n){var i=e.doc.mode,o=new Xl(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&rt(i,r);!o.eol();)nt(i,o,r),o.start=o.pos}function rt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=qe(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function nt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=qe(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function it(e,t,r,n){var i,o=function(e){return{start:f.start,end:f.pos,string:f.current(),type:i||null,state:e?$e(l.mode,c):c}},l=e.doc,s=l.mode;t=R(l,t);var a,u=T(l,t.line),c=et(e,t.line,r),f=new Xl(u.text,e.options.tabSize);for(n&&(a=[]);(n||f.pos<t.ch)&&!f.eol();)f.start=f.pos,i=nt(s,f,c),n&&a.push(o(!0));return n?a:o()}function ot(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function lt(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,f=new Xl(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&ot(rt(r,n),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,l&&tt(e,t,n,f.pos),f.pos=t.length,a=null):a=ot(nt(r,f,n,h),o),h){var d=h[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<f.start;)u=Math.min(f.start,u+5e3),i(u,c);c=a}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);i(p,c),u=p}}function st(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=T(o,s-1);if(a.stateAfter&&(!r||s<=o.frontier))return s;var u=c(a.text,null,e.options.tabSize);(null==i||n>u)&&(i=s-1,n=u)}return i}function at(e,t,r){this.text=e,ee(this,t),this.height=r?r(this):1}function ut(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),J(e),ee(e,r);var i=n?n(e):1;i!=e.height&&N(e,i)}function ct(e){e.parent=null,J(e)}function ft(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?$l:_l;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function ht(e,t){var r=n("span",null,null,il?"padding-right: .1px":null),i={pre:n("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(rl||il)&&e.getOption("lineWrapping")};r.setAttribute("role","presentation"),i.pre.setAttribute("role","presentation"),t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,a=void 0;i.pos=0,i.addToken=pt,Ue(e.display.measure)&&(a=ke(l))&&(i.addToken=vt(i.addToken,a)),i.map=[];var u=t!=e.display.externalMeasured&&A(l);yt(l,i,Je(e,l,u)),l.styleClasses&&(l.styleClasses.bgClass&&(i.bgClass=s(l.styleClasses.bgClass,i.bgClass||"")),l.styleClasses.textClass&&(i.textClass=s(l.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Ge(e.display.measure))),0==o?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(il){var c=i.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Oe(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=s(i.pre.className,i.textClass||"")),i}function dt(e){var t=n("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function pt(e,t,r,i,o,l,s){if(t){var a,u=e.splitSpaces?gt(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){a=document.createDocumentFragment();for(var h=0;;){c.lastIndex=h;var d=c.exec(t),g=d?d.index-h:t.length-h;if(g){var v=document.createTextNode(u.slice(h,h+g));rl&&nl<9?a.appendChild(n("span",[v])):a.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!d)break;h+=g+1;var m=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,b=y-e.col%y;m=a.appendChild(n("span",p(b),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?(m=a.appendChild(n("span","\r"==d[0]?"␍":"␤","cm-invalidchar")),m.setAttribute("cm-text",d[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(d[0]),m.setAttribute("cm-text",d[0]),rl&&nl<9?a.appendChild(n("span",[m])):a.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,a=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,a),rl&&nl<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),r||i||o||f||s){var w=r||"";i&&(w+=i),o&&(w+=o);var x=n("span",[a],w,s);return l&&(x.title=l),e.content.appendChild(x)}e.content.appendChild(a)}}function gt(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}function vt(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var f=void 0,h=0;h<t.length&&(f=t[h],!(f.to>u&&f.from<=u));h++);if(f.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,f.to-u),i,o,null,s,a),o=null,n=n.slice(f.to-u),u=f.to}}}function mt(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function yt(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,f,h,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=f=s="",h=null,m=1/0;for(var y=[],b=void 0,w=0;w<n.length;++w){var x=n[w],C=x.marker;"bookmark"==C.type&&x.from==p&&C.widgetNode?y.push(C):x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(b||(b=[])).push(C.endStyle,x.to),C.title&&!f&&(f=C.title),C.collapsed&&(!h||ne(h.marker,C)<0)&&(h=x)):x.from>p&&m>x.from&&(m=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==m&&(u+=" "+b[S]);if(!h||h.from==p)for(var L=0;L<y.length;++L)mt(t,0,y[L]);if(h&&(h.from||0)==p){if(mt(t,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=d)break;for(var T=Math.min(d,m);;){if(v){var M=p+v.length;if(!h){var k=M>T?v.slice(0,T-p):v;t.addToken(t,k,l?l+a:a,c,p+k.length==m?u:"",f,s)}if(M>=T){v=v.slice(T-p),p=T;break}p=M,c=""}v=i.slice(o,o=r[g++]),l=ft(r[g++],t.cm.options)}}else for(var N=1;N<r.length;N+=2)t.addToken(t,i.slice(o,o=r[N]),ft(r[N+1],t.cm.options))}function bt(e,t,r){this.line=t,this.rest=ue(t),this.size=this.rest?A(g(this.rest))-r+1:1,this.node=this.text=null,this.hidden=he(e,t)}function wt(e,t,r){for(var n,i=[],o=t;o<r;o=n){var l=new bt(e.doc,T(e.doc,o),o);n=o+l.size,i.push(l)}return i}function xt(e){ql?ql.ops.push(e):e.ownsGroup=ql={ops:[e],delayedCallbacks:[]}}function Ct(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function St(e,t){var r=e.ownsGroup;if(r)try{Ct(r)}finally{ql=null,t(r)}}function Lt(e,t){var r=Ne(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);ql?n=ql.delayedCallbacks:Zl?n=Zl:(n=Zl=[],setTimeout(Tt,0));for(var o=function(e){n.push(function(){return r[e].apply(null,i)})},l=0;l<r.length;++l)o(l)}}function Tt(){var e=Zl;Zl=null;for(var t=0;t<e.length;++t)e[t]()}function Mt(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Ot(e,t):"gutter"==o?Dt(e,t,r,n):"class"==o?Wt(t):"widget"==o&&Ht(e,t,n)}t.changes=null}function kt(e){return e.node==e.text&&(e.node=n("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),rl&&nl<8&&(e.node.style.zIndex=2)),e.node}function Nt(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var r=kt(e);e.background=r.insertBefore(n("div",null,t),r.firstChild)}}function At(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):ht(e,t)}function Ot(e,t){var r=t.text.className,n=At(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Wt(t)):r&&(t.text.className=r)}function Wt(e){Nt(e),e.line.wrapClass?kt(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function Dt(e,t,r,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=kt(t);t.gutterBackground=n("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var s=kt(t),a=t.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(n("div",D(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],f=l.hasOwnProperty(c)&&l[c];f&&a.appendChild(n("div",[f],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Ht(e,t,r){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);Et(e,t,r)}function Pt(e,t,r,n){var i=At(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Wt(t),Dt(e,t,r,n),Et(e,t,n),t.node}function Et(e,t,r){if(It(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)It(e,t.rest[n],t,r,!1)}function It(e,t,r,i,o){if(t.widgets)for(var l=kt(r),s=0,a=t.widgets;s<a.length;++s){var u=a[s],c=n("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),zt(u,c,r,i),e.display.input.setUneditable(c),o&&u.above?l.insertBefore(c,r.gutter||r.text):l.appendChild(c),Lt(u,"redraw")}}function zt(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Ft(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!i(document.body,e.node)){var o="position: relative;";e.coverGutter&&(o+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(o+="width: "+t.display.wrapper.clientWidth+"px;"),r(t.display.measure,n("div",[e.node],null,o))}return e.height=e.node.parentNode.offsetHeight}function Rt(e,t){for(var r=Re(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Bt(e){return e.lineSpace.offsetTop}function Gt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ut(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=r(e.measure,n("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Vt(e){return Ll-e.display.nativeBarWidth}function Kt(e){return e.display.scroller.clientWidth-Vt(e)-e.display.barWidth}function jt(e){return e.display.scroller.clientHeight-Vt(e)-e.display.barHeight}function Xt(e,t,r){var n=e.options.lineWrapping,i=n&&Kt(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Yt(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(A(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function _t(e,t){t=ae(t);var n=A(t),i=e.display.externalMeasured=new bt(e.doc,t,n);i.lineN=n;var o=i.built=ht(e,i);return i.text=o.pre,r(e.display.lineMeasure,o.pre),i}function $t(e,t,r,n){return Qt(e,Zt(e,t),r,n)}function qt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Sr(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Zt(e,t){var r=A(t),n=qt(e,r);n&&!n.text?n=null:n&&n.changes&&(Mt(e,n,r,yr(e)),e.curOp.forceUpdate=!0),n||(n=_t(e,t));var i=Yt(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Qt(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xt(e,t.view,t.rect),t.hasHeights=!0),o=tr(e,t,r,n),o.bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Jt(e,t,r){for(var n,i,o,l,s,a,u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(i=0,o=1,l="left"):t<a?(i=t-s,o=i+1):(u==e.length-3||t==a&&e[u+3]>t)&&(o=a-s,i=o-1,t>=a&&(l="right")),null!=i){if(n=e[u+2],s==a&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[(u-=3)+2],l="left";if("right"==r&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],l="right";break}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function er(e,t){var r=Ql;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function tr(e,t,r,n){var i,o=Jt(t.map,r,n),l=o.node,s=o.start,a=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;c<4;c++){for(;s&&S(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&S(t.line.text.charAt(o.coverStart+a));)++a;
if(i=rl&&nl<9&&0==s&&a==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():er(ml(l,s,a).getClientRects(),n),i.left||i.right||0==s)break;a=s,s-=1,u="right"}rl&&nl<11&&(i=rr(e.display.measure,i))}else{s>0&&(u=n="right");var f;i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(rl&&nl<9&&!s&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+mr(e.display),top:h.top,bottom:h.bottom}:Ql}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,g=(d+p)/2,v=t.view.measure.heights,m=0;m<v.length-1&&!(g<v[m]);m++);var y=m?v[m-1]:0,b=v[m],w={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=d,w.rbottom=p),w}function rr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ve(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function nr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ir(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var r=0;r<e.display.view.length;r++)nr(e.display.view[r])}function or(e){ir(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function lr(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function sr(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ar(e,t,r,n,i){if(!i&&t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var l=Ft(t.widgets[o]);r.top+=l,r.bottom+=l}if("line"==n)return r;n||(n="local");var s=pe(t);if("local"==n?s+=Bt(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:sr());var u=a.left+("window"==n?0:lr());r.left+=u,r.right+=u}return r.top+=s,r.bottom+=s,r}function ur(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=lr(),i-=sr();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function cr(e,t,r,n,i){return n||(n=T(e.doc,t.line)),ar(e,n,$t(e,n,t.ch,i),r)}function fr(e,t,r,n,i,o){function l(t,l){var s=Qt(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,ar(e,n,s,r)}function s(e,t){var r=a[t],n=r.level%2;return e==ye(r)&&t&&r.level<a[t-1].level?(r=a[--t],e=be(r)-(r.level%2?0:1),n=!0):e==be(r)&&t<a.length-1&&r.level<a[t+1].level&&(r=a[++t],e=ye(r)-r.level%2,n=!1),n&&e==r.to&&e>r.from?l(e-1):l(e,n)}n=n||T(e.doc,t.line),i||(i=Zt(e,n));var a=ke(n),u=t.ch;if(!a)return l(u);var c=Se(a,u),f=s(u,c);return null!=Pl&&(f.other=s(u,Pl)),f}function hr(e,t){var r=0;t=R(e.doc,t),e.options.lineWrapping||(r=mr(e.display)*t.ch);var n=T(e.doc,t.line),i=pe(n)+Bt(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function dr(e,t,r,n){var i=H(e,t);return i.xRel=n,r&&(i.outside=!0),i}function pr(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,r<0)return dr(n.first,0,!0,-1);var i=O(n,r),o=n.first+n.size-1;if(i>o)return dr(n.first+n.size-1,T(n,o).text.length,!0,1);t<0&&(t=0);for(var l=T(n,i);;){var s=gr(e,l,i,t,r),a=le(l),u=a&&a.find(0,!0);if(!a||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=A(l=u.to.line)}}function gr(e,t,r,n,i){function o(n){var i=fr(e,H(r,n),"line",t,u);return s=!0,l>i.bottom?i.left-a:l<i.top?i.left+a:(s=!1,i.left)}var l=i-pe(t),s=!1,a=2*e.display.wrapper.clientWidth,u=Zt(e,t),c=ke(t),f=t.text.length,h=we(t),d=xe(t),p=o(h),g=s,v=o(d),m=s;if(n>v)return dr(r,d,m,1);for(;;){if(c?d==h||d==Te(t,h,1):d-h<=1){var y=n<p||n-p<=v-n?h:d,b=y==h?g:m,w=n-(y==h?p:v);if(m&&!c&&!/\s/.test(t.text.charAt(y))&&w>0&&y<t.text.length&&u.view.measure.heights.length>1){var x=Qt(e,u,y,"right");l<=x.bottom&&l>=x.top&&Math.abs(n-x.right)<w&&(b=!1,y++,w=n-x.right)}for(;S(t.text.charAt(y));)++y;var C=dr(r,y,b,w<-1?-1:w>1?1:0);return C}var L=Math.ceil(f/2),T=h+L;if(c){T=h;for(var M=0;M<L;++M)T=Te(t,T,1)}var k=o(T);k>n?(d=T,v=k,(m=s)&&(v+=1e3),f=L):(h=T,p=k,g=s,f-=L)}}function vr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Yl){Yl=n("pre");for(var i=0;i<49;++i)Yl.appendChild(document.createTextNode("x")),Yl.appendChild(n("br"));Yl.appendChild(document.createTextNode("x"))}r(e.measure,Yl);var o=Yl.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function mr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=n("span","xxxxxxxxxx"),i=n("pre",[t]);r(e.measure,i);var o=t.getBoundingClientRect(),l=(o.right-o.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function yr(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:br(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function br(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function wr(e){var t=vr(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/mr(e.display)-3);return function(i){if(he(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function xr(e){var t=e.doc,r=wr(e);t.iter(function(e){var t=r(e);t!=e.height&&N(e,t)})}function Cr(e,t,r,n){var i=e.display;if(!r&&"true"==Re(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(e){return null}var a,u=pr(e,o,l);if(n&&1==u.xRel&&(a=T(e.doc,u.line).text).length==u.ch){var f=c(a,a.length,e.options.tabSize)-a.length;u=H(u.line,Math.max(0,Math.round((o-Ut(e.display).left)/mr(e.display))-f))}return u}function Sr(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,t<0)return n}function Lr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Tr(e,t){for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t!==!1||l!=r.sel.primIndex){var s=r.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&Mr(e,s.head,i),a||kr(e,s,o)}}return n}function Mr(e,t,r){var i=fr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=r.appendChild(n("div"," ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var l=r.appendChild(n("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=i.other.left+"px",l.style.top=i.other.top+"px",l.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function kr(e,t,r){function i(e,t,r,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?f-e:r)+"px;\n                             height: "+(i-t)+"px"))}function o(t,r,n){function o(r,n){return cr(e,H(t,r),"div",u,n)}var l,a,u=T(s,t),h=u.text.length;return me(ke(u),r||0,null==n?h:n,function(e,t,s){var u,d,p,g=o(e,"left");if(e==t)u=g,d=p=g.left;else{if(u=o(t-1,"right"),"rtl"==s){var v=g;g=u,u=v}d=g.left,p=u.right}null==r&&0==e&&(d=c),u.top-g.top>3&&(i(d,g.top,null,g.bottom),d=c,g.bottom<u.top&&i(d,g.bottom,null,u.top)),null==n&&t==h&&(p=f),(!l||g.top<l.top||g.top==l.top&&g.left<l.left)&&(l=g),(!a||u.bottom>a.bottom||u.bottom==a.bottom&&u.right>a.right)&&(a=u),d<c+1&&(d=c),i(d,u.top,p-d,u.bottom)}),{start:l,end:a}}var l=e.display,s=e.doc,a=document.createDocumentFragment(),u=Ut(e.display),c=u.left,f=Math.max(l.sizerWidth,Kt(e)-l.sizer.offsetLeft)-u.right,h=t.from(),d=t.to();if(h.line==d.line)o(h.line,h.ch,d.ch);else{var p=T(s,h.line),g=T(s,d.line),v=ae(p)==ae(g),m=o(h.line,h.ch,v?p.text.length+1:null).end,y=o(d.line,v?0:null,d.ch).start;v&&(m.top<y.top-2?(i(m.right,m.top,null,m.bottom),i(c,y.top,y.left,y.bottom)):i(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&i(c,m.bottom,null,y.top)}r.appendChild(a)}function Nr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ar(e){e.state.focused||(e.display.input.focus(),Wr(e))}function Or(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Dr(e))},100)}function Wr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Oe(e,"focus",e,t),e.state.focused=!0,l(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),il&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Nr(e))}function Dr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Oe(e,"blur",e,t),e.state.focused=!1,wl(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Hr(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=br(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Pr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=D(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){var o=i.measure.appendChild(n("div",[n("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,s=o.offsetWidth-l;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(l,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Mn(e),!0}return!1}function Er(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=void 0;if(!i.hidden){if(rl&&nl<8){var l=i.node.offsetTop+i.node.offsetHeight;o=l-r,r=l}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var a=i.line.height-o;if(o<2&&(o=vr(t)),(a>.001||a<-.001)&&(N(i.line,o),Ir(i.line),i.rest))for(var u=0;u<i.rest.length;u++)Ir(i.rest[u])}}}function Ir(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function zr(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Bt(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=O(t,n),l=O(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;s<o?(o=s,l=O(t,pe(T(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=O(t,pe(T(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function Fr(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Jo||Ln(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),Jo&&Ln(e),bn(e,100))}function Rr(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,Hr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Br(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function Gr(e){var t=Br(e);return t.x*=es,t.y*=es,t}function Ur(e,t){var r=Br(t),n=r.x,i=r.y,o=e.display,l=o.scroller,s=l.scrollWidth>l.clientWidth,a=l.scrollHeight>l.clientHeight;if(n&&s||i&&a){if(i&&dl&&il)e:for(var u=t.target,c=o.view;u!=l;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(n&&!Jo&&!sl&&null!=es)return i&&a&&Fr(e,Math.max(0,Math.min(l.scrollTop+i*es,l.scrollHeight-l.clientHeight))),Rr(e,Math.max(0,Math.min(l.scrollLeft+n*es,l.scrollWidth-l.clientWidth))),(!i||i&&a)&&Ee(t),void(o.wheelStartX=null);if(i&&null!=es){var h=i*es,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;h<0?d=Math.max(0,d+h-50):p=Math.min(e.doc.height,p+h+50),Ln(e,{top:d,bottom:p})}Jl<20&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=l.scrollLeft-o.wheelStartX,t=l.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(es=(es*Jl+r)/(Jl+1),++Jl)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function Vr(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Gt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Vt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function Kr(e,t){t||(t=Vr(e));var r=e.display.barWidth,n=e.display.barHeight;jr(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Er(e),jr(e,Vr(e)),r=e.display.barWidth,n=e.display.barHeight}function jr(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function Xr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&wl(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ns[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),zl(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?Rr(e,t):Fr(e,t)},e),e.display.scrollbars.addClass&&l(e.display.wrapper,e.display.scrollbars.addClass)}function Yr(e,t){if(!We(e,"scrollCursorIntoView")){var r=e.display,i=r.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!cl){var l=n("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Bt(e.display))+"px;\n                         height: "+(t.bottom-t.top+Vt(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(o),e.display.lineSpace.removeChild(l)}}}function _r(e,t,r,n){null==n&&(n=0);for(var i,o=0;o<5;o++){var l=!1;i=fr(e,t);var s=r&&r!=t?fr(e,r):i,a=qr(e,Math.min(i.left,s.left),Math.min(i.top,s.top)-n,Math.max(i.left,s.left),Math.max(i.bottom,s.bottom)+n),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=a.scrollTop&&(Fr(e,a.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(l=!0)),null!=a.scrollLeft&&(Rr(e,a.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(l=!0)),!l)break}return i}function $r(e,t,r,n,i){var o=qr(e,t,r,n,i);null!=o.scrollTop&&Fr(e,o.scrollTop),null!=o.scrollLeft&&Rr(e,o.scrollLeft)}function qr(e,t,r,n,i){var o=e.display,l=vr(e.display);r<0&&(r=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,a=jt(e),u={};i-r>a&&(i=r+a);var c=e.doc.height+Gt(o),f=r<l,h=i>c-l;if(r<s)u.scrollTop=f?0:r;else if(i>s+a){var d=Math.min(r,(h?c:i)-a);d!=s&&(u.scrollTop=d)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=Kt(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),v=n-t>g;return v&&(n=t+g),t<10?u.scrollLeft=0:t<p?u.scrollLeft=Math.max(0,t-(v?0:10)):n>g+p-3&&(u.scrollLeft=n+(v?0:10)-g),u}function Zr(e,t,r){null==t&&null==r||Jr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+r)}function Qr(e){Jr(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?H(t.line,t.ch-1):t,n=H(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function Jr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=hr(e,t.from),n=hr(e,t.to),i=qr(e,Math.min(r.left,n.left),Math.min(r.top,n.top)-t.margin,Math.max(r.right,n.right),Math.max(r.bottom,n.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function en(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++is},xt(e.curOp)}function tn(e){var t=e.curOp;St(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;rn(e)})}function rn(e){for(var t=e.ops,r=0;r<t.length;r++)nn(t[r]);for(var n=0;n<t.length;n++)on(t[n]);for(var i=0;i<t.length;i++)ln(t[i]);for(var o=0;o<t.length;o++)sn(t[o]);for(var l=0;l<t.length;l++)an(t[l])}function nn(e){var t=e.cm,r=t.display;xn(t),e.updateMaxLine&&ve(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new os(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function on(e){e.updatedDisplay=e.mustUpdate&&Cn(e.cm,e.update)}function ln(e){var t=e.cm,r=t.display;e.updatedDisplay&&Er(t),e.barMeasure=Vr(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=$t(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Vt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Kt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection(e.focus))}function sn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Rr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==o()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Kr(t,e.barMeasure),e.updatedDisplay&&kn(t,e.barMeasure),e.selectionChanged&&Nr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Ar(e.cm)}function an(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&Sn(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null==e.scrollTop||r.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,e.scrollTop)),r.scrollbars.setScrollTop(n.scrollTop),r.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||r.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-r.scroller.clientWidth,e.scrollLeft)),r.scrollbars.setScrollLeft(n.scrollLeft),r.scroller.scrollLeft=n.scrollLeft,Hr(t)),e.scrollToPos){var i=_r(t,R(n,e.scrollToPos.from),R(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Yr(t,i)}var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Oe(o[s],"hide");if(l)for(var a=0;a<l.length;++a)l[a].lines.length&&Oe(l[a],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Oe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function un(e,t){if(e.curOp)return t();en(e);try{return t()}finally{tn(e)}}function cn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);en(e);try{return t.apply(e,arguments)}finally{tn(e)}}}function fn(e){return function(){if(this.curOp)return e.apply(this,arguments);en(this);try{return e.apply(this,arguments)}finally{tn(this)}}}function hn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);en(t);try{return e.apply(this,arguments)}finally{tn(t)}}}function dn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Hl&&ce(e.doc,t)<i.viewTo&&gn(e);else if(r<=i.viewFrom)Hl&&fe(e.doc,r+n)>i.viewFrom?gn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)gn(e);else if(t<=i.viewFrom){var o=vn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):gn(e)}else if(r>=i.viewTo){var l=vn(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):gn(e)}else{var s=vn(e,t,t,-1),a=vn(e,r,r+n,1);s&&a?(i.view=i.view.slice(0,s.index).concat(wt(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=n):gn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function pn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Sr(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);h(l,r)==-1&&l.push(r)}}}function gn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function vn(e,t,r,n){var i,o=Sr(e,t),l=e.display.view;if(!Hl||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,a=0;a<o;a++)s+=l[a].size;if(s!=t){if(n>0){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;ce(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function mn(e,t,r){var n=e.display,i=n.view;0==i.length||t>=n.viewTo||r<=n.viewFrom?(n.view=wt(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=wt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Sr(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(wt(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Sr(e,r)))),n.viewTo=r}function yn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function bn(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,a(wn,e))}function wn(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=$e(t.mode,et(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength,a=Qe(e,o,s?$e(t.mode,n):n,!0);o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<l.length;++h)f=l[h]!=o.styles[h];f&&i.push(t.frontier),o.stateAfter=s?n:$e(t.mode,n)}else o.text.length<=e.options.maxHighlightLength&&tt(e,o.text,n),o.stateAfter=t.frontier%5==0?$e(t.mode,n):null;if(++t.frontier,+new Date>r)return bn(e,e.options.workDelay),!0}),i.length&&un(e,function(){for(var t=0;t<i.length;t++)pn(e,i[t],"text")})}}function xn(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Vt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Vt(e)+"px",t.scrollbarsClipped=!0)}function Cn(e,r){var n=e.display,i=e.doc;if(r.editorIsHidden)return gn(e),!1;if(!r.force&&r.visible.from>=n.viewFrom&&r.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==yn(e))return!1;Pr(e)&&(gn(e),r.dims=yr(e));var l=i.first+i.size,s=Math.max(r.visible.from-e.options.viewportMargin,i.first),a=Math.min(l,r.visible.to+e.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(i.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(l,n.viewTo)),Hl&&(s=ce(e.doc,s),a=fe(e.doc,a));var u=s!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=r.wrapperHeight||n.lastWrapWidth!=r.wrapperWidth;mn(e,s,a),n.viewOffset=pe(T(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=yn(e);if(!u&&0==c&&!r.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var f=o();return c>4&&(n.lineDiv.style.display="none"),Tn(e,n.updateLineNumbers,r.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,f&&o()!=f&&f.offsetHeight&&f.focus(),t(n.cursorDiv),t(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,u&&(n.lastWrapHeight=r.wrapperHeight,n.lastWrapWidth=r.wrapperWidth,bn(e,400)),n.updateLineNumbers=null,!0}function Sn(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Kt(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Gt(e.display)-jt(e),r.top)}),t.visible=zr(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Cn(e,t);n=!1){Er(e);var i=Vr(e);Lr(e),Kr(e,i),kn(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Ln(e,t){var r=new os(e,t);if(Cn(e,r)){Er(e),Sn(e,r);var n=Vr(e);Lr(e),Kr(e,n),kn(e,n),r.finish()}}function Tn(e,r,n){function i(t){var r=t.nextSibling;return il&&dl&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var o=e.display,l=e.options.lineNumbers,s=o.lineDiv,a=s.firstChild,u=o.view,c=o.viewFrom,f=0;f<u.length;f++){var d=u[f];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;a!=d.node;)a=i(a);var p=l&&null!=r&&r<=c&&d.lineNumber;d.changes&&(h(d.changes,"gutter")>-1&&(p=!1),Mt(e,d,c,n)),p&&(t(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(D(e.options,c)))),a=d.node.nextSibling}else{var g=Pt(e,d,c,n);s.insertBefore(g,a)}c+=d.size}for(;a;)a=i(a)}function Mn(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function kn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Vt(e)+"px"}function Nn(e){var r=e.display.gutters,i=e.options.gutters;t(r);for(var o=0;o<i.length;++o){var l=i[o],s=r.appendChild(n("div",null,"CodeMirror-gutter "+l));"CodeMirror-linenumbers"==l&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}r.style.display=o?"":"none",Mn(e)}function An(e){var t=h(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function On(e,t){this.ranges=e,this.primIndex=t}function Wn(e,t){this.anchor=e,this.head=t}function Dn(e,t){var r=e[t];e.sort(function(e,t){return P(e.from(),t.from())}),t=h(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(P(o.to(),i.from())>=0){var l=z(o.from(),i.from()),s=I(o.to(),i.to()),a=o.empty()?i.from()==i.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new Wn(a?s:l,a?l:s))}}return new On(e,t)}function Hn(e,t){return new On([new Wn(e,t||e)],0)}function Pn(e){return e.text?H(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function En(e,t){if(P(e,t.from)<0)return e;if(P(e,t.to)<=0)return Pn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Pn(t).ch-t.to.ch),H(r,n)}function In(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Wn(En(i.anchor,t),En(i.head,t)))}return Dn(r,e.sel.primIndex)}function zn(e,t,r){return e.line==t.line?H(r.line,e.ch-t.ch+r.ch):H(r.line+(e.line-t.line),e.ch)}function Fn(e,t,r){for(var n=[],i=H(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=zn(s.from,i,o),u=zn(Pn(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],f=P(c.head,c.anchor)<0;n[l]=new Wn(f?u:a,f?a:u)}else n[l]=new Wn(a,a)}return new On(n,e.sel.primIndex)}function Rn(e){e.doc.mode=Ye(e.options,e.doc.modeOption),Bn(e)}function Bn(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,bn(e,100),e.state.modeGen++,e.curOp&&dn(e)}function Gn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Un(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){ut(e,r,i,n),Lt(e,"change",e,t)}function l(e,t){for(var r=[],o=e;o<t;++o)r.push(new at(u[o],i(o),n));return r}var s=t.from,a=t.to,u=t.text,c=T(e,s.line),f=T(e,a.line),h=g(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(Gn(e,t)){var v=l(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(a.ch),d);else{var m=l(1,u.length-1);m.push(new at(h+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(a.ch),d);var y=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}Lt(e,"change",e,t)}function Vn(e,t,r){function n(e,i,o){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function Kn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,xr(e),Rn(e),e.options.lineWrapping||ve(e),e.options.mode=t.modeOption,dn(e)}function jn(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Xn(e,t){var r={from:E(t.from),to:Pn(t),text:M(e,t.from,t.to)};return Jn(e,r,t.from.line,t.to.line+1),Vn(e,function(e){return Jn(e,r,t.from.line,t.to.line+1)},!0),r}function Yn(e){for(;e.length;){var t=g(e);if(!t.ranges)break;e.pop()}}function _n(e,t){return t?(Yn(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function $n(e,t,r,n){var i=e.history;i.undone.length=0;var o,l,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=_n(i,i.lastOp==n)))l=g(o.changes),
0==P(t.from,t.to)&&0==P(t.from,l.to)?l.to=Pn(t):o.changes.push(Xn(e,t));else{var a=g(i.done);for(a&&a.ranges||Qn(e.sel,i.done),o={changes:[Xn(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,l||Oe(e,"historyAdded")}function qn(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Zn(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||qn(e,o,g(i.done),t))?i.done[i.done.length-1]=t:Qn(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&n.clearRedo!==!1&&Yn(i.undone)}function Qn(e,t){var r=g(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Jn(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function ei(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function ti(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(ei(r[i]));return n}function ri(e,t){var r=ti(e,t),n=q(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function ni(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?On.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];n.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&h(t,Number(c[1]))>-1&&(g(s)[f]=u[f],delete u[f])}}}return n}function ii(e,t,r,n){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(n){var o=P(r,i)<0;o!=P(n,i)<0?(i=r,r=n):o!=P(r,n)<0&&(r=n)}return new Wn(i,r)}return new Wn(n||r,r)}function oi(e,t,r,n){fi(e,new On([ii(e,e.sel.primary(),t,r)],0),n)}function li(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=ii(e,e.sel.ranges[i],t[i],null);var o=Dn(n,e.sel.primIndex);fi(e,o,r)}function si(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,fi(e,Dn(i,e.sel.primIndex),n)}function ai(e,t,r,n){fi(e,Hn(t,r),n)}function ui(e,t,r){var n={ranges:t.ranges,update:function(t){var r=this;this.ranges=[];for(var n=0;n<t.length;n++)r.ranges[n]=new Wn(R(e,t[n].anchor),R(e,t[n].head))},origin:r&&r.origin};return Oe(e,"beforeSelectionChange",e,n),e.cm&&Oe(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Dn(n.ranges,n.ranges.length-1):t}function ci(e,t,r){var n=e.history.done,i=g(n);i&&i.ranges?(n[n.length-1]=t,hi(e,t,r)):fi(e,t,r)}function fi(e,t,r){hi(e,t,r),Zn(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function hi(e,t,r){(He(e,"beforeSelectionChange")||e.cm&&He(e.cm,"beforeSelectionChange"))&&(t=ui(e,t,r));var n=r&&r.bias||(P(t.primary().head,e.sel.primary().head)<0?-1:1);di(e,gi(e,t,n,!0)),r&&r.scroll===!1||!e.cm||Qr(e.cm)}function di(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,De(e.cm)),Lt(e,"cursorActivity",e))}function pi(e){di(e,gi(e,e.sel,null,!1),Ml)}function gi(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=mi(e,l.anchor,s&&s.anchor,r,n),u=mi(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Wn(a,u))}return i?Dn(i,t.primIndex):t}function vi(e,t,r,n,i){var o=T(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(a.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Oe(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var u=a.find(n<0?1:-1),c=void 0;if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(u=yi(e,u,-n,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=P(u,r))&&(n<0?c<0:c>0))return vi(e,u,t,n,i)}var f=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(f=yi(e,f,n,f.line==t.line?o:null)),f?vi(e,f,t,n,i):null}}return t}function mi(e,t,r,n,i){var o=n||1,l=vi(e,t,r,o,i)||!i&&vi(e,t,r,o,!0)||vi(e,t,r,-o,i)||!i&&vi(e,t,r,-o,!0);return l?l:(e.cantEdit=!0,H(e.first,0))}function yi(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?R(e,H(t.line-1)):null:r>0&&t.ch==(n||T(e,t.line)).text.length?t.line<e.first+e.size-1?H(t.line+1,0):null:new H(t.line,t.ch+r)}function bi(e){e.setSelection(H(e.firstLine(),0),H(e.lastLine()),Ml)}function wi(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=R(e,t)),r&&(n.to=R(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),Oe(e,"beforeChange",e,n),e.cm&&Oe(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function xi(e,t,r){if(e.cm){if(!e.cm.curOp)return cn(e.cm,xi)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(He(e,"beforeChange")||e.cm&&He(e.cm,"beforeChange"))||(t=wi(e,t,!0))){var n=Dl&&!r&&Q(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Ci(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else Ci(e,t)}}function Ci(e,t){if(1!=t.text.length||""!=t.text[0]||0!=P(t.from,t.to)){var r=In(e,t);$n(e,t,r,e.cm?e.cm.curOp.id:NaN),Ti(e,t,r,q(e,t));var n=[];Vn(e,function(e,r){r||h(n,e.history)!=-1||(Oi(e.history,t),n.push(e.history)),Ti(e,t,null,q(e,t))})}}function Si(e,t,r){if(!e.cm||!e.cm.state.suppressEdits||r){for(var n,i=e.history,o=e.sel,l="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,a=0;a<l.length&&(n=l[a],r?!n.ranges||n.equals(e.sel):n.ranges);a++);if(a!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;n=l.pop(),n.ranges;){if(Qn(n,s),r&&!n.equals(e.sel))return void fi(e,n,{clearRedo:!1});o=n}var u=[];Qn(o,s),s.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=He(e,"beforeChange")||e.cm&&He(e.cm,"beforeChange"),f=function(r){var i=n.changes[r];if(i.origin=t,c&&!wi(e,i,!1))return l.length=0,{};u.push(Xn(e,i));var o=r?In(e,i):g(l);Ti(e,i,o,ri(e,i)),!r&&e.cm&&e.cm.scrollIntoView({from:i.from,to:Pn(i)});var s=[];Vn(e,function(e,t){t||h(s,e.history)!=-1||(Oi(e.history,i),s.push(e.history)),Ti(e,i,null,ri(e,i))})},d=n.changes.length-1;d>=0;--d){var p=f(d);if(p)return p.v}}}}function Li(e,t){if(0!=t&&(e.first+=t,e.sel=new On(v(e.sel.ranges,function(e){return new Wn(H(e.anchor.line+t,e.anchor.ch),H(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){dn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)pn(e.cm,n,"gutter")}}function Ti(e,t,r,n){if(e.cm&&!e.cm.curOp)return cn(e.cm,Ti)(e,t,r,n);if(t.to.line<e.first)return void Li(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Li(e,i),t={from:H(e.first,0),to:H(t.to.line+i,t.to.ch),text:[g(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:H(o,T(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=M(e,t.from,t.to),r||(r=In(e,t)),e.cm?Mi(e.cm,t,n):Un(e,t,n),hi(e,r,Ml)}}function Mi(e,t,r){var n=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=A(ae(T(n,o.line))),n.iter(a,l.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),n.sel.contains(t.from,t.to)>-1&&De(e),Un(n,t,r,wr(e)),e.options.lineWrapping||(n.iter(a,o.line+t.text.length,function(e){var t=ge(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,o.line),bn(e,400);var u=t.text.length-(l.line-o.line)-1;t.full?dn(e):o.line!=l.line||1!=t.text.length||Gn(e.doc,t)?dn(e,o.line,l.line+1,u):pn(e,o.line,"text");var c=He(e,"changes"),f=He(e,"change");if(f||c){var h={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};f&&Lt(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function ki(e,t,r,n,i){if(n||(n=r),P(n,r)<0){var o=n;n=r,r=o}"string"==typeof t&&(t=e.splitLines(t)),xi(e,{from:r,to:n,text:t,origin:i})}function Ni(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Ai(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)Ni(o.ranges[s].anchor,t,r,n),Ni(o.ranges[s].head,t,r,n)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(r<u.from.line)u.from=H(u.from.line+n,u.from.ch),u.to=H(u.to.line+n,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function Oi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Ai(e.done,r,n,i),Ai(e.undone,r,n,i)}function Wi(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=T(e,F(e,t)):i=A(t),null==i?null:(n(o,i)&&e.cm&&pn(e.cm,i,r),o)}function Di(e){var t=this;this.lines=e,this.parent=null;for(var r=0,n=0;n<e.length;++n)e[n].parent=t,r+=e[n].height;this.height=r}function Hi(e){var t=this;this.children=e;for(var r=0,n=0,i=0;i<e.length;++i){var o=e[i];r+=o.chunkSize(),n+=o.height,o.parent=t}this.size=r,this.height=n,this.parent=null}function Pi(e,t,r){var n=this;if(r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);this.doc=e,this.node=t}function Ei(e,t,r){pe(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Zr(e,null,r)}function Ii(e,t,r,n){var i=new Pi(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Wi(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!he(e,t)){var n=pe(t)<e.scrollTop;N(t,t.height+Ft(i)),n&&Zr(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function zi(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ls}function Fi(e,t,r,i,o){if(i&&i.shared)return Bi(e,t,r,i,o);if(e.cm&&!e.cm.curOp)return cn(e.cm,Fi)(e,t,r,i,o);var l=new zi(e,o),s=P(t,r);if(i&&u(i,l,!1),s>0||0==s&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=n("span",[l.replacedWith],"CodeMirror-widget"),l.widgetNode.setAttribute("role","presentation"),i.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(se(e,t.line,t,r,l)||t.line!=r.line&&se(e,r.line,t,r,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");V()}l.addToHistory&&$n(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var a,c=t.line,f=e.cm;if(e.iter(c,r.line+1,function(e){f&&l.collapsed&&!f.options.lineWrapping&&ae(e)==f.display.maxLine&&(a=!0),l.collapsed&&c!=t.line&&N(e,0),Y(e,new K(l,c==t.line?t.ch:null,c==r.line?r.ch:null)),++c}),l.collapsed&&e.iter(t.line,r.line+1,function(t){he(e,t)&&N(t,0)}),l.clearOnEnter&&zl(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(U(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++ls,l.atomic=!0),f){if(a&&(f.curOp.updateMaxLine=!0),l.collapsed)dn(f,t.line,r.line+1);else if(l.className||l.title||l.startStyle||l.endStyle||l.css)for(var h=t.line;h<=r.line;h++)pn(f,h,"text");l.atomic&&pi(f.doc),Lt(f,"markerAdded",f,l)}return l}function Ri(e,t){var r=this;this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=r}function Bi(e,t,r,n,i){n=u(n),n.shared=!1;var o=[Fi(e,t,r,n,i)],l=o[0],s=n.widgetNode;return Vn(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(Fi(e,R(e,t),R(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=g(o)}),new Ri(o,l)}function Gi(e){return e.findMarks(H(e.first,0),e.clipPos(H(e.lastLine())),function(e){return e.parent})}function Ui(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(P(o,l)){var s=Fi(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function Vi(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];Vn(r.primary.doc,function(e){return n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];h(n,o.doc)==-1&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}function Ki(e){var t=this;if(Yi(t),!We(t,e)&&!Rt(t.display,e)){Ee(e),rl&&(us=+new Date);var r=Cr(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=function(e,n){if(!t.options.allowDropFileTypes||h(t.options.allowDropFileTypes,e.type)!=-1){var s=new FileReader;s.onload=cn(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++l==i){r=R(t.doc,r);var a={from:r,to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};xi(t.doc,a),ci(t.doc,Hn(r,Pn(a)))}}),s.readAsText(e)}},a=0;a<i;++a)s(n[a],a);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var c;if(t.state.draggingText&&!t.state.draggingText.copy&&(c=t.listSelections()),hi(t.doc,Hn(r,r)),c)for(var f=0;f<c.length;++f)ki(t.doc,"",c[f].anchor,c[f].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function ji(e,t){if(rl&&(!e.state.draggingText||+new Date-us<100))return void Fe(t);if(!We(e,t)&&!Rt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!al)){var r=n("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",sl&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),sl&&r.parentNode.removeChild(r)}}function Xi(e,t){var i=Cr(e,t);if(i){var o=document.createDocumentFragment();Mr(e,i,o),e.display.dragCursor||(e.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),r(e.display.dragCursor,o)}}function Yi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function _i(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function $i(){cs||(qi(),cs=!0)}function qi(){var e;zl(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,_i(Zi)},100))}),zl(window,"blur",function(){return _i(Dr)})}function Zi(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Qi(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,i,o,l=0;l<t.length-1;l++){var s=t[l];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Ji(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=v(r.split(" "),Qi),o=0;o<i.length;o++){var l=void 0,s=void 0;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e}function eo(e,t,r,n){t=no(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return eo(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=eo(e,t.fallthrough[o],r,n);if(l)return l}}}function to(e){var t="string"==typeof e?e:fs[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function ro(e,t){if(sl&&34==e.keyCode&&e.char)return!1;var r=fs[e.keyCode],n=r;return null!=n&&!e.altGraphKey&&(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(yl?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(yl?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=r&&(n="Shift-"+n),n)}function no(e){return"string"==typeof e?gs[e]:e}function io(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&P(o.from,g(n).to)<=0;){var l=n.pop();if(P(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}un(e,function(){for(var t=n.length-1;t>=0;t--)ki(e.doc,"",n[t].from,n[t].to,"+delete");Qr(e)})}function oo(e,t){var r=T(e.doc,t),n=ae(r);n!=r&&(t=A(n));var i=ke(n),o=i?i[0].level%2?xe(n):we(n):0;return H(t,o)}function lo(e,t){for(var r,n=T(e.doc,t);r=le(n);)n=r.find(1,!0).line,t=null;var i=ke(n),o=i?i[0].level%2?we(n):xe(n):n.text.length;return H(null==t?A(n):t,o)}function so(e,t){var r=oo(e,t.line),n=T(e.doc,r.line),i=ke(n);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return H(r.line,l?0:o)}return r}function ao(e,t,r){if("string"==typeof t&&(t=ys[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Tl}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function uo(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=eo(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&eo(t,e.options.extraKeys,r,e)||eo(t,e.options.keyMap,r,e)}function co(e,t,r,n){var i=e.state.keySeq;if(i){if(to(t))return"handled";bs.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=uo(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Lt(e,"keyHandled",e,t,r),"handled"!=o&&"multi"!=o||(Ee(r),Nr(e)),i&&!o&&/\'$/.test(t)?(Ee(r),!0):!!o}function fo(e,t){var r=ro(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?co(e,"Shift-"+r,t,function(t){return ao(e,t,!0)})||co(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ao(e,t)}):co(e,r,t,function(t){return ao(e,t)}))}function ho(e,t,r){return co(e,"'"+r+"'",t,function(t){return ao(e,t,!0)})}function po(e){var t=this;if(t.curOp.focus=o(),!We(t,e)){rl&&nl<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=fo(t,e);sl&&(ws=n?r:null,!n&&88==r&&!Gl&&(dl?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||go(t)}}function go(e){function t(e){18!=e.keyCode&&e.altKey||(wl(r,"CodeMirror-crosshair"),Ae(document,"keyup",t),Ae(document,"mouseover",t))}var r=e.display.lineDiv;l(r,"CodeMirror-crosshair"),zl(document,"keyup",t),zl(document,"mouseover",t)}function vo(e){16==e.keyCode&&(this.doc.sel.shift=!1),We(this,e)}function mo(e){var t=this;if(!(Rt(t.display,e)||We(t,e)||e.ctrlKey&&!e.altKey||dl&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(sl&&r==ws)return ws=null,void Ee(e);if(!sl||e.which&&!(e.which<10)||!fo(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(ho(t,e,i)||t.display.input.onKeyPress(e))}}}function yo(e){var t=this,r=t.display;if(!(We(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,Rt(r,e))return void(il||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100)));if(!So(t,e)){var n=Cr(t,e);switch(window.focus(),Be(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?bo(t,e,n):Re(e)==r.scroller&&Ee(e);break;case 2:il&&(t.state.lastMiddleDown=+new Date),n&&oi(t.doc,n),setTimeout(function(){return r.input.focus()},20),Ee(e);break;case 3:bl?Lo(t,e):Or(t)}}}}function bo(e,t,r){rl?setTimeout(a(Ar,e),0):e.curOp.focus=o();var n,i=+new Date;ms&&ms.time>i-400&&0==P(ms.pos,r)?n="triple":vs&&vs.time>i-400&&0==P(vs.pos,r)?(n="double",ms={time:i,pos:r}):(n="single",vs={time:i,pos:r});var l,s=e.doc.sel,u=dl?t.metaKey:t.ctrlKey;e.options.dragDrop&&Fl&&!e.isReadOnly()&&"single"==n&&(l=s.contains(r))>-1&&(P((l=s.ranges[l]).from(),r)<0||r.xRel>0)&&(P(l.to(),r)>0||r.xRel<0)?wo(e,t,r,u):xo(e,t,r,n,u)}function wo(e,t,r,n){var i=e.display,o=+new Date,l=cn(e,function(s){il&&(i.scroller.draggable=!1),e.state.draggingText=!1,Ae(document,"mouseup",l),Ae(i.scroller,"drop",l),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(Ee(s),!n&&+new Date-200<o&&oi(e.doc,r),il||rl&&9==nl?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});il&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=dl?t.altKey:t.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),zl(document,"mouseup",l),zl(i.scroller,"drop",l)}function xo(e,t,r,n,i){function l(t){if(0!=P(b,t))if(b=t,"rect"==n){for(var i=[],o=e.options.tabSize,l=c(T(f,r.line).text,r.ch,o),s=c(T(f,t.line).text,t.ch,o),a=Math.min(l,s),u=Math.max(l,s),v=Math.min(r.line,t.line),m=Math.min(e.lastLine(),Math.max(r.line,t.line));v<=m;v++){var y=T(f,v).text,w=d(y,a,o);a==u?i.push(new Wn(H(v,w),H(v,w))):y.length>w&&i.push(new Wn(H(v,w),H(v,d(y,u,o))))}i.length||i.push(new Wn(r,r)),fi(f,Dn(g.ranges.slice(0,p).concat(i),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x=h,C=x.anchor,S=t;if("single"!=n){var L;L="double"==n?e.findWordAt(t):new Wn(H(t.line,0),R(f,H(t.line+1,0))),P(L.anchor,C)>0?(S=L.head,C=z(x.from(),L.anchor)):(S=L.anchor,C=I(x.to(),L.head))}var M=g.ranges.slice(0);M[p]=new Wn(R(f,C),S),fi(f,Dn(M,p),kl)}}function s(t){var r=++x,i=Cr(e,t,!0,"rect"==n);if(i)if(0!=P(i,b)){e.curOp.focus=o(),l(i);var a=zr(u,f);(i.line>=a.to||i.line<a.from)&&setTimeout(cn(e,function(){x==r&&s(t)}),150)}else{var c=t.clientY<w.top?-20:t.clientY>w.bottom?20:0;c&&setTimeout(cn(e,function(){x==r&&(u.scroller.scrollTop+=c,s(t))}),50)}}function a(t){e.state.selectingText=!1,x=1/0,Ee(t),u.input.focus(),Ae(document,"mousemove",C),Ae(document,"mouseup",S),f.history.lastSelOrigin=null}var u=e.display,f=e.doc;Ee(t);var h,p,g=f.sel,v=g.ranges;if(i&&!t.shiftKey?(p=f.sel.contains(r),h=p>-1?v[p]:new Wn(r,r)):(h=f.sel.primary(),p=f.sel.primIndex),pl?t.shiftKey&&t.metaKey:t.altKey)n="rect",i||(h=new Wn(r,r)),r=Cr(e,t,!0,!0),p=-1;else if("double"==n){var m=e.findWordAt(r);h=e.display.shift||f.extend?ii(f,h,m.anchor,m.head):m}else if("triple"==n){var y=new Wn(H(r.line,0),R(f,H(r.line+1,0)));h=e.display.shift||f.extend?ii(f,h,y.anchor,y.head):y}else h=ii(f,h,r);i?p==-1?(p=v.length,fi(f,Dn(v.concat([h]),p),{scroll:!1,origin:"*mouse"})):v.length>1&&v[p].empty()&&"single"==n&&!t.shiftKey?(fi(f,Dn(v.slice(0,p).concat(v.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),g=f.sel):si(f,p,h,kl):(p=0,fi(f,new On([h],0),kl),g=f.sel);var b=r,w=u.wrapper.getBoundingClientRect(),x=0,C=cn(e,function(e){Be(e)?s(e):a(e)}),S=cn(e,a);e.state.selectingText=S,zl(document,"mousemove",C),zl(document,"mouseup",S)}function Co(e,t,r,n){var i,o;try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Ee(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!He(e,r))return ze(t);o-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i){var c=O(e.doc,o),f=e.options.gutters[a];return Oe(e,r,e,c,f,t),ze(t)}}}function So(e,t){return Co(e,t,"gutterClick",!0)}function Lo(e,t){Rt(e.display,t)||To(e,t)||We(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function To(e,t){return!!He(e,"gutterContextMenu")&&Co(e,t,"gutterContextMenu",!1)}function Mo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),or(e)}function ko(e){function t(t,n,i,o){e.defaults[t]=n,i&&(r[t]=o?function(e,t,r){r!=xs&&i(e,t,r)}:i)}var r=e.optionHandlers;e.defineOption=t,e.Init=xs,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Rn(e)},!0),t("indentUnit",2,Rn,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Bn(e),or(e),dn(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(o==-1)break;i=o+t.length,r.push(H(n,o))}n++});for(var i=r.length-1;i>=0;i--)ki(e.doc,t,r[i],H(r[i].line,r[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=xs&&e.refresh()}),t("specialCharPlaceholder",dt,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",hl?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!gl),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Mo(e),No(e)},!0),t("keyMap","default",function(e,t,r){var n=no(t),i=r!=xs&&no(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),t("extraKeys",null),t("lineWrapping",!1,Oo,!0),t("gutters",[],function(e){An(e.options),No(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?br(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return Kr(e)},!0),t("scrollbarStyle","native",function(e){Xr(e),Kr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){An(e.options),No(e)},!0),t("firstLineNumber",1,No,!0),t("lineNumberFormatter",function(e){return e},No,!0),t("showCursorWhenSelecting",!1,Lr,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("readOnly",!1,function(e,t){"nocursor"==t?(Dr(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Ao),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Lr,!0),t("singleCursorHeightPerLine",!0,Lr,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Bn,!0),t("addModeClass",!1,Bn,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Bn,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null)}function No(e){Nn(e),dn(e),Hr(e)}function Ao(e,t,r){var n=r&&r!=xs;if(!t!=!n){var i=e.display.dragFunctions,o=t?zl:Ae;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Oo(e){e.options.lineWrapping?(l(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(wl(e.display.wrapper,"CodeMirror-wrap"),ve(e)),xr(e),dn(e),or(e),setTimeout(function(){return Kr(e)},100)}function Wo(e,t){var r=this;if(!(this instanceof Wo))return new Wo(e,t);this.options=t=t?u(t):{},u(Cs,t,!1),An(t);var n=t.value;"string"==typeof n&&(n=new as(n,t.mode,null,t.lineSeparator)),this.doc=n;var i=new Wo.inputStyles[t.inputStyle](this),o=this.display=new L(e,n,i);o.wrapper.CodeMirror=this,Nn(this),Mo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Xr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new f,keySeq:null,specialChars:null},t.autofocus&&!hl&&o.input.focus(),rl&&nl<11&&setTimeout(function(){return r.display.input.reset(!0)},20),Do(this),$i(),en(this),this.curOp.forceUpdate=!0,Kn(this,n),t.autofocus&&!hl||this.hasFocus()?setTimeout(a(Wr,this),20):Dr(this);for(var l in Ss)Ss.hasOwnProperty(l)&&Ss[l](r,t[l],xs);Pr(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Ls.length;++s)Ls[s](r);tn(this),il&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Do(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),l=i.activeTouch,l.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;zl(i.scroller,"mousedown",cn(e,yo)),rl&&nl<11?zl(i.scroller,"dblclick",cn(e,function(t){if(!We(e,t)){var r=Cr(e,t);if(r&&!So(e,t)&&!Rt(e.display,t)){Ee(t);var n=e.findWordAt(r);oi(e.doc,n.anchor,n.head)}}})):zl(i.scroller,"dblclick",function(t){return We(e,t)||Ee(t)}),bl||zl(i.scroller,"contextmenu",function(t){return Lo(e,t)});var o,l={end:0};zl(i.scroller,"touchstart",function(t){if(!We(e,t)&&!r(t)){i.input.ensurePolled(),clearTimeout(o);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-l.end<=300?l:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),zl(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),zl(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Rt(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,s=e.coordsChar(i.activeTouch,"page");l=!o.prev||n(o,o.prev)?new Wn(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new Wn(H(s.line,0),R(e.doc,H(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),Ee(r)}t()}),zl(i.scroller,"touchcancel",t),zl(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Fr(e,i.scroller.scrollTop),Rr(e,i.scroller.scrollLeft,!0),Oe(e,"scroll",e))}),zl(i.scroller,"mousewheel",function(t){return Ur(e,t)}),zl(i.scroller,"DOMMouseScroll",function(t){return Ur(e,t)}),zl(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){We(e,t)||Fe(t)},over:function(t){We(e,t)||(Xi(e,t),Fe(t))},start:function(t){return ji(e,t)},drop:cn(e,Ki),leave:function(t){We(e,t)||Yi(e)}};var s=i.input.getField();zl(s,"keyup",function(t){return vo.call(e,t)}),zl(s,"keydown",cn(e,po)),zl(s,"keypress",cn(e,mo)),zl(s,"focus",function(t){return Wr(e,t)}),zl(s,"blur",function(t){return Dr(e,t)})}function Ho(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=et(e,t):r="prev");var l=e.options.tabSize,s=T(o,t),a=c(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,f=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&(u=o.mode.indent(i,s.text.slice(f.length),s.text),u==Tl||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?c(T(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var h="",d=0;if(e.options.indentWithTabs)for(var g=Math.floor(u/l);g;--g)d+=l,h+="\t";if(d<u&&(h+=p(u-d)),h!=f)return ki(o,h,H(t,0),H(t,f.length),"+input"),s.stateAfter=null,!0;for(var v=0;v<o.sel.ranges.length;v++){var m=o.sel.ranges[v];if(m.head.line==t&&m.head.ch<f.length){var y=H(t,f.length);si(o,v,new Wn(y,y));break}}}function Po(e){Ts=e}function Eo(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=e.state.pasteIncoming||"paste"==i,s=Rl(t),a=null;if(l&&n.ranges.length>1)if(Ts&&Ts.text.join("\n")==t){if(n.ranges.length%Ts.text.length==0){a=[];for(var u=0;u<Ts.text.length;u++)a.push(o.splitLines(Ts.text[u]))}}else s.length==n.ranges.length&&(a=v(s,function(e){return[e]}));for(var c,f=n.ranges.length-1;f>=0;f--){var h=n.ranges[f],d=h.from(),p=h.to();h.empty()&&(r&&r>0?d=H(d.line,d.ch-r):e.state.overwrite&&!l?p=H(p.line,Math.min(T(o,p.line).text.length,p.ch+g(s).length)):Ts&&Ts.lineWise&&Ts.text.join("\n")==t&&(d=p=H(d.line,0))),
c=e.curOp.updateInput;var m={from:d,to:p,text:a?a[f%a.length]:s,origin:i||(l?"paste":e.state.cutIncoming?"cut":"+input")};xi(e.doc,m),Lt(e,"inputRead",e,m)}t&&!l&&zo(e,t),Qr(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Io(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||un(t,function(){return Eo(t,r,0,null,"paste")}),!0}function zo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=Ho(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(T(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Ho(e,i.head.line,"smart"));l&&Lt(e,"electricInput",e,i.head.line)}}}function Fo(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:H(i,0),head:H(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function Ro(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Bo(){var e=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=n("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return il?e.style.width="1000px":e.setAttribute("wrap","off"),fl&&(e.style.border="1px solid black"),Ro(e),t}function Go(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&cn(this,t[e])(this,r,i),Oe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](no(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:fn(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(e){return e.priority}),this.state.modeGen++,dn(this)}),removeOverlay:fn(function(e){for(var t=this,r=this.state.overlays,n=0;n<r.length;++n){var i=r[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return r.splice(n,1),t.state.modeGen++,void dn(t)}}),indentLine:fn(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),W(this.doc,e)&&Ho(this,e,t,r)}),indentSelection:fn(function(e){for(var t=this,r=this.doc.sel.ranges,n=-1,i=0;i<r.length;i++){var o=r[i];if(o.empty())o.head.line>n&&(Ho(t,o.head.line,e,!0),n=o.head.line,i==t.doc.sel.primIndex&&Qr(t));else{var l=o.from(),s=o.to(),a=Math.max(n,l.line);n=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<n;++u)Ho(t,u,e);var c=t.doc.sel.ranges;0==l.ch&&r.length==c.length&&c[i].from().ch>0&&si(t.doc,i,new Wn(l,c[i].to()),Ml)}}}),getTokenAt:function(e,t){return it(this,e,t)},getLineTokens:function(e,t){return it(this,H(e),t,!0)},getTokenTypeAt:function(e){e=R(this.doc,e);var t,r=Je(this,T(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=this,i=[];if(!r.hasOwnProperty(t))return i;var o=r[t],l=this.getModeAt(e);if("string"==typeof l[t])o[l[t]]&&i.push(o[l[t]]);else if(l[t])for(var s=0;s<l[t].length;s++){var a=o[l[t][s]];a&&i.push(a)}else l.helperType&&o[l.helperType]?i.push(o[l.helperType]):o[l.name]&&i.push(o[l.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(l,n)&&h(i,c.val)==-1&&i.push(c.val)}return i},getStateAfter:function(e,t){var r=this.doc;return e=F(r,null==e?r.first+r.size-1:e),et(this,e+1,t)},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?R(this.doc,e):e?n.from():n.to(),fr(this,r,t||"page")},charCoords:function(e,t){return cr(this,R(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ur(this,e,t||"page"),pr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ur(this,{top:e,left:0},t||"page").top,O(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=T(this.doc,e)}else n=e;return ar(this,n,{top:0,left:0},t||"page",r).top+(i?this.doc.height-pe(n):0)},defaultTextHeight:function(){return vr(this.display)},defaultCharWidth:function(){return mr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=fr(this,R(this.doc,e));var l=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&$r(this,s,l,s+t.offsetWidth,l+t.offsetHeight)},triggerOnKeyDown:fn(po),triggerOnKeyPress:fn(mo),triggerOnKeyUp:vo,execCommand:function(e){if(ys.hasOwnProperty(e))return ys[e].call(null,this)},triggerElectric:fn(function(e){zo(this,e)}),findPosH:function(e,t,r,n){var i=this,o=1;t<0&&(o=-1,t=-t);for(var l=R(this.doc,e),s=0;s<t&&(l=Uo(i.doc,l,o,r,n),!l.hitSide);++s);return l},moveH:fn(function(e,t){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Uo(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},Nl)}),deleteH:fn(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):io(this,function(r){var i=Uo(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=this,o=1,l=n;t<0&&(o=-1,t=-t);for(var s=R(this.doc,e),a=0;a<t;++a){var u=fr(i,s,"div");if(null==l?l=u.left:u.left=l,s=Vo(i,u,o,r),s.hitSide)break}return s},moveV:fn(function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=fr(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=Vo(r,s,e,t);return"page"==t&&l==n.sel.primary()&&Zr(r,null,cr(r,a,"div").top-s.top),a},Nl),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=this.doc,r=T(t,e.line).text,n=e.ch,i=e.ch;if(r){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==r.length)&&n?--n:++i;for(var l=r.charAt(n),s=x(l,o)?function(e){return x(e,o)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};n>0&&s(r.charAt(n-1));)--n;for(;i<r.length&&s(r.charAt(i));)++i}return new Wn(H(e.line,n),H(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?l(this.display.cursorDiv,"CodeMirror-overwrite"):wl(this.display.cursorDiv,"CodeMirror-overwrite"),Oe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==o()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:fn(function(e,t){null==e&&null==t||Jr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Vt(this)-this.display.barHeight,width:e.scrollWidth-Vt(this)-this.display.barWidth,clientHeight:jt(this),clientWidth:Kt(this)}},scrollIntoView:fn(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:H(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Jr(this),this.curOp.scrollToPos=e;else{var r=qr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:fn(function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&ir(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){pn(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Oe(this,"refresh",this)}),operation:function(e){return un(this,e)},refresh:fn(function(){var e=this.display.cachedTextHeight;dn(this),this.curOp.forceUpdate=!0,or(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),Mn(this),(null==e||Math.abs(e-vr(this.display))>.5)&&xr(this),Oe(this,"refresh",this)}),swapDoc:fn(function(e){var t=this.doc;return t.cm=null,Kn(this,e),or(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Lt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pe(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}function Uo(e,t,r,n,i){function o(){var t=s+r;return!(t<e.first||t>=e.first+e.size)&&(s=t,c=T(e,t))}function l(e){var t=(i?Te:Me)(c,a,r,!0);if(null==t){if(e||!o())return!1;a=i?(r<0?xe:we)(c):r<0?c.text.length:0}else a=t;return!0}var s=t.line,a=t.ch,u=r,c=T(e,s);if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var f=null,h="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(r<0)||l(!p);p=!1){var g=c.text.charAt(a)||"\n",v=x(g,d)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||p||v||(v="s"),f&&f!=v){r<0&&(r=1,l());break}if(v&&(f=v),r>0&&!l(!p))break}var m=mi(e,H(s,a),t,u,!0);return P(t,m)||(m.hitSide=!0),m}function Vo(e,t,r,n){var i,o=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=Math.max(s-.5*vr(e.display),3);i=(r>0?t.bottom:t.top)+r*a}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(var u;u=pr(e,l,i),u.outside;){if(r<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*r}return u}function Ko(e,t){var r=qt(e,t.line);if(!r||r.hidden)return null;var n=T(e.doc,t.line),i=Yt(r,n,t.line),o=ke(n),l="left";if(o){var s=Se(o,t.ch);l=s%2?"right":"left"}var a=Jt(i.map,t.ch,l);return a.offset="right"==a.collapse?a.end:a.start,a}function jo(e,t){return t&&(e.bad=!0),e}function Xo(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function l(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return void(s+=""==r?t.textContent.replace(/\u200b/g,""):r);var c,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(H(n,0),H(i+1,0),o(+f));return void(h.length&&(c=h[0].find())&&(s+=M(e.doc,c.from,c.to).join(u)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)l(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;a&&(s+=u,a=!1),s+=p}}for(var s="",a=!1,u=e.doc.lineSeparator();l(t),t!=r;)t=t.nextSibling;return s}function Yo(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return jo(e.clipPos(H(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return _o(o,t,r)}}function _o(e,t,r){function n(t,r,n){for(var i=-1;i<(f?f.length:0);i++)for(var o=i<0?c.map:f[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var a=A(i<0?e.line:e.rest[i]),u=o[l]+n;return(n<0||s!=t)&&(u=o[l+(n?1:0)]),H(a,u)}}}var o=e.text.firstChild,l=!1;if(!t||!i(o,t))return jo(H(A(e.line),0),!0);if(t==o&&(l=!0,t=o.childNodes[r],r=0,!t)){var s=e.rest?g(e.rest):e.line;return jo(H(A(s),s.text.length),l)}var a=3==t.nodeType?t:null,u=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));u.parentNode!=o;)u=u.parentNode;var c=e.measure,f=c.maps,h=n(a,u,r);if(h)return jo(h,l);for(var d=u.nextSibling,p=a?a.nodeValue.length-r:0;d;d=d.nextSibling){if(h=n(d,d.firstChild,0))return jo(H(h.line,h.ch-p),l);p+=d.textContent.length}for(var v=u.previousSibling,m=r;v;v=v.previousSibling){if(h=n(v,v.firstChild,-1))return jo(H(h.line,h.ch+m),l);m+=v.textContent.length}}function $o(e,t){function r(){e.value=a.getValue()}if(t=t?u(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=o();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}var i;if(e.form&&(zl(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var l=e.form;i=l.submit;try{var s=l.submit=function(){r(),l.submit=i,l.submit(),l.submit=s}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ae(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var a=Wo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a}function qo(e){e.off=Ae,e.on=zl,e.wheelEventPixels=Gr,e.Doc=as,e.splitLines=Rl,e.countColumn=c,e.findColumn=d,e.isWordChar=w,e.Pass=Tl,e.signal=Oe,e.Line=at,e.changeEnd=Pn,e.scrollbarModel=ns,e.Pos=H,e.cmpPos=P,e.modes=Vl,e.mimeModes=Kl,e.resolveMode=Xe,e.getMode=Ye,e.modeExtensions=jl,e.extendMode=_e,e.copyState=$e,e.startState=Ze,e.innerMode=qe,e.commands=ys,e.keyMap=gs,e.keyName=ro,e.isModifierKey=to,e.lookupKey=eo,e.normalizeKeyMap=Ji,e.StringStream=Xl,e.SharedTextMarker=Ri,e.TextMarker=zi,e.LineWidget=Pi,e.e_preventDefault=Ee,e.e_stopPropagation=Ie,e.e_stop=Fe,e.addClass=l,e.contains=i,e.rmClass=wl,e.keyNames=fs}var Zo=navigator.userAgent,Qo=navigator.platform,Jo=/gecko\/\d/i.test(Zo),el=/MSIE \d/.test(Zo),tl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zo),rl=el||tl,nl=rl&&(el?document.documentMode||6:tl[1]),il=/WebKit\//.test(Zo),ol=il&&/Qt\/\d+\.\d+/.test(Zo),ll=/Chrome\//.test(Zo),sl=/Opera\//.test(Zo),al=/Apple Computer/.test(navigator.vendor),ul=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Zo),cl=/PhantomJS/.test(Zo),fl=/AppleWebKit/.test(Zo)&&/Mobile\/\w+/.test(Zo),hl=fl||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Zo),dl=fl||/Mac/.test(Qo),pl=/\bCrOS\b/.test(Zo),gl=/win/i.test(Qo),vl=sl&&Zo.match(/Version\/(\d*\.\d*)/);vl&&(vl=Number(vl[1])),vl&&vl>=15&&(sl=!1,il=!0);var ml,yl=dl&&(ol||sl&&(null==vl||vl<12.11)),bl=Jo||rl&&nl>=9,wl=function(t,r){var n=t.className,i=e(r).exec(n);if(i){var o=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(o?i[1]+o:"")}};ml=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var xl=function(e){e.select()};fl?xl=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:rl&&(xl=function(e){try{e.select()}catch(e){}}),f.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Cl,Sl,Ll=30,Tl={toString:function(){return"CodeMirror.Pass"}},Ml={scroll:!1},kl={origin:"*mouse"},Nl={origin:"+move"},Al=[""],Ol=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Wl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Dl=!1,Hl=!1,Pl=null,El=function(){function e(e){return e<=247?r.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,u="L";return function(r){if(!i.test(r))return!1;for(var n=r.length,c=[],f=0;f<n;++f)c.push(e(r.charCodeAt(f)));for(var h=0,d=u;h<n;++h){var p=c[h];"m"==p?c[h]=d:d=p}for(var v=0,m=u;v<n;++v){var y=c[v];"1"==y&&"r"==m?c[v]="n":l.test(y)&&(m=y,"r"==y&&(c[v]="R"))}for(var b=1,w=c[0];b<n-1;++b){var x=c[b];"+"==x&&"1"==w&&"1"==c[b+1]?c[b]="1":","!=x||w!=c[b+1]||"1"!=w&&"n"!=w||(c[b]=w),w=x}for(var C=0;C<n;++C){var S=c[C];if(","==S)c[C]="N";else if("%"==S){var L=void 0;for(L=C+1;L<n&&"%"==c[L];++L);for(var T=C&&"!"==c[C-1]||L<n&&"1"==c[L]?"1":"N",M=C;M<L;++M)c[M]=T;C=L-1}}for(var k=0,N=u;k<n;++k){var A=c[k];"L"==N&&"1"==A?c[k]="L":l.test(A)&&(N=A)}for(var O=0;O<n;++O)if(o.test(c[O])){var W=void 0;for(W=O+1;W<n&&o.test(c[W]);++W);for(var D="L"==(O?c[O-1]:u),H="L"==(W<n?c[W]:u),P=D||H?"L":"R",E=O;E<W;++E)c[E]=P;O=W-1}for(var I,z=[],F=0;F<n;)if(s.test(c[F])){var R=F;for(++F;F<n&&s.test(c[F]);++F);z.push(new t(0,R,F))}else{var B=F,G=z.length;for(++F;F<n&&"L"!=c[F];++F);for(var U=B;U<F;)if(a.test(c[U])){B<U&&z.splice(G,0,new t(1,B,U));var V=U;for(++U;U<F&&a.test(c[U]);++U);z.splice(G,0,new t(2,V,U)),B=U}else++U;B<F&&z.splice(G,0,new t(1,B,F))}return 1==z[0].level&&(I=r.match(/^\s+/))&&(z[0].from=I[0].length,z.unshift(new t(0,0,I[0].length))),1==g(z).level&&(I=r.match(/\s+$/))&&(g(z).to-=I[0].length,z.push(new t(0,n-I[0].length,n))),2==z[0].level&&z.unshift(new t(1,z[0].to,z[0].to)),z[0].level!=g(z).level&&z.push(new t(z[0].level,n,n)),z}}(),Il=[],zl=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Il).concat(r)}},Fl=function(){if(rl&&nl<9)return!1;var e=n("div");return"draggable"in e||"dragDrop"in e}(),Rl=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");l!=-1?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Bl=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Gl=function(){var e=n("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ul=null,Vl={},Kl={},jl={},Xl=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Xl.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t,r=this.string.charAt(this.pos);if(t="string"==typeof e?r==e:r&&(e.test?e.test(r):e(r)))return++this.pos,r},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=c(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return c(this.string,null,this.tabSize)-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}},Pe(at),at.prototype.lineNo=function(){return A(this)};var Yl,_l={},$l={},ql=null,Zl=null,Ql={left:0,right:0,top:0,bottom:0},Jl=0,es=null;rl?es=-.53:Jo?es=15:ll?es=-.7:al&&(es=-1/3);var ts=function(e,t,r){this.cm=r;var i=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),zl(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),zl(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,rl&&nl<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ts.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},ts.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},ts.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},ts.prototype.zeroWidthHack=function(){var e=dl&&!ul?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new f,this.disableVert=new f},ts.prototype.enableZeroWidthBar=function(e,t){function r(){var n=e.getBoundingClientRect(),i=document.elementFromPoint(n.left+1,n.bottom-1);i!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},ts.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var rs=function(){};rs.prototype.update=function(){return{bottom:0,right:0}},rs.prototype.setScrollLeft=function(){},rs.prototype.setScrollTop=function(){},rs.prototype.clear=function(){};var ns={native:ts,null:rs},is=0,os=function(e,t,r){var n=e.display;this.viewport=t,this.visible=zr(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Kt(e),this.force=r,this.dims=yr(e),this.events=[]};os.prototype.signal=function(e,t){He(e,t)&&this.events.push(arguments)},os.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Oe.apply(null,e.events[t])},On.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var n=t.ranges[r],i=e.ranges[r];if(0!=P(n.anchor,i.anchor)||0!=P(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=this,t=[],r=0;r<this.ranges.length;r++)t[r]=new Wn(E(e.ranges[r].anchor),E(e.ranges[r].head));return new On(t,this.primIndex)},somethingSelected:function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},contains:function(e,t){var r=this;t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=r.ranges[n];if(P(t,i.from())>=0&&P(e,i.to())<=0)return n}return-1}},Wn.prototype={from:function(){return z(this.anchor,this.head)},to:function(){return I(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}},Di.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=this,n=e,i=e+t;n<i;++n){var o=r.lines[n];r.height-=o.height,ct(o),Lt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){var n=this;this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=n},iterN:function(e,t,r){for(var n=this,i=e+t;e<i;++e)if(r(n.lines[e]))return!0}},Hi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var r=this;this.size-=t;for(var n=0;n<this.children.length;++n){var i=r.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e),s=i.height;if(i.removeInner(e,l),r.height-=s-i.height,o==l&&(r.children.splice(n--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Di))){var a=[];this.collapse(a),this.children=[new Di(a)],this.children[0].parent=this}},collapse:function(e){for(var t=this,r=0;r<this.children.length;++r)t.children[r].collapse(e)},insertInner:function(e,t,r){var n=this;this.size+=t.length,this.height+=r;for(var i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<=l){if(o.insertInner(e,t,r),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var u=new Di(o.lines.slice(a,a+=25));o.height-=u.height,n.children.splice(++i,0,u),u.parent=n}o.lines=o.lines.slice(0,s),n.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Hi(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=h(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new Hi(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=this,i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<l){var s=Math.min(t,l-e);if(o.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=l}}},Pe(Pi),Pi.prototype.clear=function(){var e=this,t=this.doc.cm,r=this.line.widgets,n=this.line,i=A(n);if(null!=i&&r){for(var o=0;o<r.length;++o)r[o]==e&&r.splice(o--,1);r.length||(n.widgets=null);var l=Ft(this);N(n,Math.max(0,n.height-l)),t&&un(t,function(){Ei(t,n,-l),pn(t,i,"widget")})}},Pi.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line;this.height=null;var n=Ft(this)-e;n&&(N(r,r.height+n),t&&un(t,function(){t.curOp.forceUpdate=!0,Ei(t,r,n)}))};var ls=0;Pe(zi),zi.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,r=t&&!t.curOp;if(r&&en(t),He(this,"clear")){var n=this.find();n&&Lt(this,"clear",n.from,n.to)}for(var i=null,o=null,l=0;l<this.lines.length;++l){var s=e.lines[l],a=j(s.markedSpans,e);t&&!e.collapsed?pn(t,A(s),"text"):t&&(null!=a.to&&(o=A(s)),null!=a.from&&(i=A(s))),s.markedSpans=X(s.markedSpans,a),null==a.from&&e.collapsed&&!he(e.doc,s)&&t&&N(s,vr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=ae(e.lines[u]),f=ge(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&dn(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&pi(t.doc)),t&&Lt(t,"markerCleared",t,this),r&&tn(t),this.parent&&this.parent.clear()}},zi.prototype.find=function(e,t){var r=this;null==e&&"bookmark"==this.type&&(e=1);for(var n,i,o=0;o<this.lines.length;++o){var l=r.lines[o],s=j(l.markedSpans,r);if(null!=s.from&&(n=H(t?l:A(l),s.from),e==-1))return n;if(null!=s.to&&(i=H(t?l:A(l),s.to),1==e))return i}return n&&{from:n,to:i}},zi.prototype.changed=function(){var e=this.find(-1,!0),t=this,r=this.doc.cm;e&&r&&un(r,function(){var n=e.line,i=A(e.line),o=qt(r,i);if(o&&(nr(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!he(t.doc,n)&&null!=t.height){var l=t.height;t.height=null;var s=Ft(t)-l;s&&N(n,n.height+s)}})},zi.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&h(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this);
}this.lines.push(e)},zi.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Pe(Ri),Ri.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();Lt(this,"clear")}},Ri.prototype.find=function(e,t){return this.primary.find(e,t)};var ss=0,as=function(e,t,r,n){if(!(this instanceof as))return new as(e,t,r,n);null==r&&(r=0),Hi.call(this,[new Di([new at("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;var i=H(r,0);this.sel=Hn(i),this.history=new jn(null),this.id=++ss,this.modeOption=t,this.lineSep=n,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Un(this,{from:i,to:i,text:e}),fi(this,Hn(i),Ml)};as.prototype=b(Hi.prototype,{constructor:as,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=k(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:hn(function(e){var t=H(this.first,0),r=this.first+this.size-1;xi(this,{from:t,to:H(r,T(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),fi(this,Hn(t))}),replaceRange:function(e,t,r,n){t=R(this,t),r=r?R(this,r):t,ki(this,e,t,r,n)},getRange:function(e,t,r){var n=M(this,R(this,e),R(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(W(this,e))return T(this,e)},getLineNumber:function(e){return A(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=T(this,e)),ae(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return R(this,e)},getCursor:function(e){var t,r=this.sel.primary();return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||"to"==e||e===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:hn(function(e,t,r){ai(this,R(this,"number"==typeof e?H(e,t||0):e),null,r)}),setSelection:hn(function(e,t,r){ai(this,R(this,e),R(this,t||e),r)}),extendSelection:hn(function(e,t,r){oi(this,R(this,e),t&&R(this,t),r)}),extendSelections:hn(function(e,t){li(this,G(this,e),t)}),extendSelectionsBy:hn(function(e,t){var r=v(this.sel.ranges,e);li(this,G(this,r),t)}),setSelections:hn(function(e,t,r){var n=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Wn(R(n,e[o].anchor),R(n,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),fi(this,Dn(i,t),r)}}),addSelection:hn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Wn(R(this,e),R(this,t||e))),fi(this,Dn(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this,n=this.sel.ranges,i=0;i<n.length;i++){var o=M(r,n[i].from(),n[i].to());t=t?t.concat(o):o}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,r=[],n=this.sel.ranges,i=0;i<n.length;i++){var o=M(t,n[i].from(),n[i].to());e!==!1&&(o=o.join(e||t.lineSeparator())),r[i]=o}return r},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:hn(function(e,t,r){for(var n=this,i=[],o=this.sel,l=0;l<o.ranges.length;l++){var s=o.ranges[l];i[l]={from:s.from(),to:s.to(),text:n.splitLines(e[l]),origin:r}}for(var a=t&&"end"!=t&&Fn(this,i,t),u=i.length-1;u>=0;u--)xi(n,i[u]);a?ci(this,a):this.cm&&Qr(this.cm)}),undo:hn(function(){Si(this,"undo")}),redo:hn(function(){Si(this,"redo")}),undoSelection:hn(function(){Si(this,"undo",!0)}),redoSelection:hn(function(){Si(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new jn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ni(this.history.done),undone:ni(this.history.undone)}},setHistory:function(e){var t=this.history=new jn(this.history.maxGeneration);t.done=ni(e.done.slice(0),null,!0),t.undone=ni(e.undone.slice(0),null,!0)},setGutterMarker:hn(function(e,t,r){return Wi(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&C(n)&&(e.gutterMarkers=null),!0})}),clearGutter:hn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Wi(t,r,"gutter",function(){return r.gutterMarkers[e]=null,C(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!W(this,e))return null;if(t=e,e=T(this,e),!e)return null}else if(t=A(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:hn(function(t,r,n){return Wi(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(t[i]){if(e(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:hn(function(t,r,n){return Wi(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==n)t[i]=null;else{var l=o.match(e(n));if(!l)return!1;var s=l.index+l[0].length;t[i]=o.slice(0,l.index)+(l.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:hn(function(e,t,r){return Ii(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Fi(this,R(this,e),R(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=R(this,e),Fi(this,e,e,r,"bookmark")},findMarksAt:function(e){e=R(this,e);var t=[],r=T(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=R(this,e),t=R(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;return o>e?(t=e,!0):(e-=o,void++r)}),R(this,H(r,t))},indexFromPos:function(e){e=R(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new as(k(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new as(k(this,t,r),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Ui(n,Gi(this)),n},unlinkDoc:function(e){var t=this;if(e instanceof Wo&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=t.linked[r];if(n.doc==e){t.linked.splice(r,1),e.unlinkDoc(t),Vi(Gi(t));break}}if(e.history==this.history){var i=[e.id];Vn(e,function(e){return i.push(e.id)},!0),e.history=new jn(null),e.history.done=ni(this.history.done,i),e.history.undone=ni(this.history.undone,i)}},iterLinkedDocs:function(e){Vn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Rl(e)},lineSeparator:function(){return this.lineSep||"\n"}}),as.prototype.eachLine=as.prototype.iter;for(var us=0,cs=!1,fs={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},hs=0;hs<10;hs++)fs[hs+48]=fs[hs+96]=String(hs);for(var ds=65;ds<=90;ds++)fs[ds]=String.fromCharCode(ds);for(var ps=1;ps<=12;ps++)fs[ps+111]=fs[ps+63235]="F"+ps;var gs={};gs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},gs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},gs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},gs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},gs.default=dl?gs.macDefault:gs.pcDefault;var vs,ms,ys={selectAll:bi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ml)},killLine:function(e){return io(e,function(t){if(t.empty()){var r=T(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:H(t.head.line+1,0)}:{from:t.head,to:H(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return io(e,function(t){return{from:H(t.from().line,0),to:R(e.doc,H(t.to().line+1,0))}})},delLineLeft:function(e){return io(e,function(e){return{from:H(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return io(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){return io(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(H(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(H(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return oo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return so(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return lo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Nl)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Nl)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?so(e,t.head):n},Nl)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=c(e.getLine(o.line),o.ch,n);t.push(p(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return un(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=T(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new H(i.line,i.ch-1)),i.ch>0)i=new H(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),H(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=T(e.doc,i.line-1).text;l&&(i=new H(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),H(i.line-1,l.length-1),i,"+transpose"))}r.push(new Wn(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return un(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Qr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},bs=new f,ws=null,xs={toString:function(){return"CodeMirror.Init"}},Cs={},Ss={};Wo.defaults=Cs,Wo.optionHandlers=Ss;var Ls=[];Wo.defineInitHook=function(e){return Ls.push(e)};var Ts=null,Ms=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new f,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ms.prototype.init=function(e){function t(e){if(!We(i,e)){if(i.somethingSelected())Po({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Fo(i);Po({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Ml),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var r=Ts.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var l=Bo(),s=l.firstChild;i.display.lineSpace.insertBefore(l,i.display.lineSpace.firstChild),s.value=Ts.text.join("\n");var a=document.activeElement;xl(s),setTimeout(function(){i.display.lineSpace.removeChild(l),a.focus(),a==o&&n.showPrimarySelection()},50)}}var r=this,n=this,i=n.cm,o=n.div=e.lineDiv;Ro(o,i.options.spellcheck),zl(o,"paste",function(e){We(i,e)||Io(e,i)||nl<=11&&setTimeout(cn(i,function(){n.pollContent()||dn(i)}),20)}),zl(o,"compositionstart",function(e){r.composing={data:e.data,done:!1}}),zl(o,"compositionupdate",function(e){r.composing||(r.composing={data:e.data,done:!1})}),zl(o,"compositionend",function(e){r.composing&&(e.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),zl(o,"touchstart",function(){return n.forceCompositionEnd()}),zl(o,"input",function(){r.composing||r.readFromDOMSoon()}),zl(o,"copy",t),zl(o,"cut",t)},Ms.prototype.prepareSelection=function(){var e=Tr(this.cm,!1);return e.focus=this.cm.state.focused,e},Ms.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ms.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=Yo(this.cm,e.anchorNode,e.anchorOffset),n=Yo(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!n||n.bad||0!=P(z(r,n),t.from())||0!=P(I(r,n),t.to())){var i=Ko(this.cm,t.from()),o=Ko(this.cm,t.to());if(i||o){var l=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var a=l[l.length-1].measure,u=a.maps?a.maps[a.maps.length-1]:a.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:l[0].measure.map[2],offset:0};var c;try{c=ml(i.node,i.offset,o.offset,o.node)}catch(e){}c&&(!Jo&&this.cm.state.focused?(e.collapse(i.node,i.offset),c.collapsed||(e.removeAllRanges(),e.addRange(c))):(e.removeAllRanges(),e.addRange(c)),s&&null==e.anchorNode?e.addRange(s):Jo&&this.startGracePeriod()),this.rememberSelection()}}},Ms.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ms.prototype.showMultipleSelections=function(e){r(this.cm.display.cursorDiv,e.cursors),r(this.cm.display.selectionDiv,e.selection)},Ms.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ms.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return i(this.div,t)},Ms.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ms.prototype.blur=function(){this.div.blur()},Ms.prototype.getField=function(){return this.div},Ms.prototype.supportsTouch=function(){return!0},Ms.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():un(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},Ms.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ms.prototype.pollSelection=function(){if(!this.composing&&null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var r=Yo(t,e.anchorNode,e.anchorOffset),n=Yo(t,e.focusNode,e.focusOffset);r&&n&&un(t,function(){fi(t.doc,Hn(r,n),Ml),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},Ms.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(0==n.ch&&n.line>e.firstLine()&&(n=H(n.line-1,T(e.doc,n.line-1).length)),i.ch==T(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=H(i.line+1,0)),n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,l,s;n.line==t.viewFrom||0==(o=Sr(e,n.line))?(l=A(t.view[0].line),s=t.view[0].node):(l=A(t.view[o].line),s=t.view[o-1].node.nextSibling);var a,u,c=Sr(e,i.line);if(c==t.view.length-1?(a=t.viewTo-1,u=t.lineDiv.lastChild):(a=A(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(Xo(e,s,u,l,a)),h=M(e.doc,H(l,0),H(a,T(e.doc,a).text.length));f.length>1&&h.length>1;)if(g(f)==g(h))f.pop(),h.pop(),a--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),l++}for(var d=0,p=0,v=f[0],m=h[0],y=Math.min(v.length,m.length);d<y&&v.charCodeAt(d)==m.charCodeAt(d);)++d;for(var b=g(f),w=g(h),x=Math.min(b.length-(1==f.length?d:0),w.length-(1==h.length?d:0));p<x&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)++p;f[f.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var C=H(l,d),S=H(a,h.length?g(h).length-p:0);return f.length>1||f[0]||P(C,S)?(ki(e.doc,f,C,S,"+input"),!0):void 0},Ms.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ms.prototype.reset=function(){this.forceCompositionEnd()},Ms.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.pollContent()||dn(this.cm),this.div.blur(),this.div.focus())},Ms.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}!e.cm.isReadOnly()&&e.pollContent()||un(e.cm,function(){return dn(e.cm)})},80))},Ms.prototype.setUneditable=function(e){e.contentEditable="false"},Ms.prototype.onKeyPress=function(e){e.preventDefault(),this.cm.isReadOnly()||cn(this.cm,Eo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},Ms.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ms.prototype.onContextMenu=function(){},Ms.prototype.resetPosition=function(){},Ms.prototype.needsContentAttribute=!0;var ks=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new f,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null};ks.prototype.init=function(e){function t(e){if(!We(i,e)){if(i.somethingSelected())Po({lineWise:!1,text:i.getSelections()}),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,l.value=Ts.text.join("\n"),xl(l));else{if(!i.options.lineWiseCopyCut)return;var t=Fo(i);Po({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Ml):(n.prevInput="",l.value=t.text.join("\n"),xl(l))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var r=this,n=this,i=this.cm,o=this.wrapper=Bo(),l=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),fl&&(l.style.width="0px"),zl(l,"input",function(){rl&&nl>=9&&r.hasSelection&&(r.hasSelection=null),n.poll()}),zl(l,"paste",function(e){We(i,e)||Io(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),zl(l,"cut",t),zl(l,"copy",t),zl(e.scroller,"paste",function(t){Rt(e,t)||We(i,t)||(i.state.pasteIncoming=!0,n.focus())}),zl(e.lineSpace,"selectstart",function(t){Rt(e,t)||Ee(t)}),zl(l,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),zl(l,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ks.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Tr(e);if(e.options.moveInputWithCursor){var i=fr(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},ks.prototype.showSelection=function(e){var t=this.cm,n=t.display;r(n.cursorDiv,e.cursors),r(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ks.prototype.reset=function(e){if(!this.contextMenuPending){var t,r,n=this.cm,i=n.doc;if(n.somethingSelected()){this.prevInput="";var o=i.sel.primary();t=Gl&&(o.to().line-o.from().line>100||(r=n.getSelection()).length>1e3);var l=t?"-":r||n.getSelection();this.textarea.value=l,n.state.focused&&xl(this.textarea),rl&&nl>=9&&(this.hasSelection=l)}else e||(this.prevInput=this.textarea.value="",rl&&nl>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},ks.prototype.getField=function(){return this.textarea},ks.prototype.supportsTouch=function(){return!1},ks.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!hl||o()!=this.textarea))try{this.textarea.focus()}catch(e){}},ks.prototype.blur=function(){this.textarea.blur()},ks.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ks.prototype.receivedFocus=function(){this.slowPoll()},ks.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},ks.prototype.fastPoll=function(){function e(){var n=r.poll();n||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},ks.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Bl(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(rl&&nl>=9&&this.hasSelection===i||dl&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(n.length,i.length);l<s&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return un(t,function(){Eo(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ks.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ks.prototype.onKeyPress=function(){rl&&nl>=9&&(this.hasSelection=null),this.fastPoll()},ks.prototype.onContextMenu=function(e){function t(){if(null!=l.selectionStart){var e=i.somethingSelected(),t="​"+(e?l.value:"");l.value="⇚",l.value=t,n.prevInput=e?"":"​",l.selectionStart=1,l.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=f,l.style.cssText=c,rl&&nl<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=l.selectionStart){(!rl||rl&&nl<9)&&t();var e=0,r=function(){o.selForContextMenu==i.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&"​"==n.prevInput?cn(i,bi)(i):e++<10?o.detectingSelectAll=setTimeout(r,500):o.input.reset()};o.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,o=i.display,l=n.textarea,s=Cr(i,e),a=o.scroller.scrollTop;if(s&&!sl){var u=i.options.resetSelectionOnContextMenu;u&&i.doc.sel.contains(s)==-1&&cn(i,fi)(i.doc,Hn(s),Ml);var c=l.style.cssText,f=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var h=n.wrapper.getBoundingClientRect();l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(rl?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var d;if(il&&(d=window.scrollY),o.input.focus(),il&&window.scrollTo(null,d),o.input.reset(),i.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),rl&&nl>=9&&t(),bl){Fe(e);var p=function(){Ae(window,"mouseup",p),setTimeout(r,20)};zl(window,"mouseup",p)}else setTimeout(r,50)}},ks.prototype.readOnlyChanged=function(e){e||this.reset()},ks.prototype.setUneditable=function(){},ks.prototype.needsContentAttribute=!1,ko(Wo),Go(Wo);var Ns="iter insert remove copy getEditor constructor".split(" ");for(var As in as.prototype)as.prototype.hasOwnProperty(As)&&h(Ns,As)<0&&(Wo.prototype[As]=function(e){return function(){return e.apply(this.doc,arguments)}}(as.prototype[As]));return Pe(as),Wo.inputStyles={textarea:ks,contenteditable:Ms},Wo.defineMode=function(e){Wo.defaults.mode||"null"==e||(Wo.defaults.mode=e),Ke.apply(this,arguments)},Wo.defineMIME=je,Wo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Wo.defineMIME("text/plain","null"),Wo.defineExtension=function(e,t){Wo.prototype[e]=t},Wo.defineDocExtension=function(e,t){as.prototype[e]=t},Wo.fromTextArea=$o,qo(Wo),Wo.version="5.23.0",Wo})});
$_mod.installed("markojs-website$1.0.0","codemirror-atom-modes","1.0.1");
$_mod.main("/codemirror-atom-modes$1.0.1","src/index");
$_mod.installed("codemirror-atom-modes$1.0.1","@pnidem/first-mate","5.2.0");
$_mod.main("/@pnidem/first-mate$5.2.0","lib/first-mate");
$_mod.def("/@pnidem/first-mate$5.2.0/lib/scope-selector-matchers",function(t,e,r,n,o){(function(){var t,e,n,o,s,c,i,h;i=function(){function t(t){this.segment=t[0].join("")+t[1].join("")}return t.prototype.matches=function(t){return t===this.segment},t.prototype.toCssSelector=function(){return this.segment.split(".").map(function(t){return"."+t.replace(/\+/g,"\\+")}).join("")},t}(),h=function(){function t(){}return t.prototype.matches=function(){return!0},t.prototype.toCssSelector=function(){return"*"},t}(),c=function(){function t(t,e){var r,n,o;for(this.segments=[t],n=0,o=e.length;n<o;n++)r=e[n],this.segments.push(r[1])}return t.prototype.matches=function(t){var e,r,n,o,s,c;if(r=t.split("."),r.length<this.segments.length)return!1;for(c=this.segments,e=o=0,s=c.length;o<s;e=++o)if(n=c[e],!n.matches(r[e]))return!1;return!0},t.prototype.toCssSelector=function(){return this.segments.map(function(t){return t.toCssSelector()}).join("")},t}(),s=function(){function t(t,e){var r,n,o;for(this.matchers=[t],n=0,o=e.length;n<o;n++)r=e[n],this.matchers.push(r[1])}return t.prototype.matches=function(t){var e,r,n,o,s;for(e=0,r=this.matchers[e],o=0,s=t.length;o<s;o++)if(n=t[o],r.matches(n)&&(r=this.matchers[++e]),null==r)return!0;return!1},t.prototype.toCssSelector=function(){return this.matchers.map(function(t){return t.toCssSelector()}).join(" ")},t}(),o=function(){function t(t,e){this.left=t,this.right=e}return t.prototype.matches=function(t){return this.left.matches(t)||this.right.matches(t)},t.prototype.toCssSelector=function(){return""+this.left.toCssSelector()+", "+this.right.toCssSelector()},t}(),t=function(){function t(t,e){this.left=t,this.right=e}return t.prototype.matches=function(t){return this.left.matches(t)&&this.right.matches(t)},t.prototype.toCssSelector=function(){return this.right instanceof n?""+this.left.toCssSelector()+this.right.toCssSelector():""+this.left.toCssSelector()+" "+this.right.toCssSelector()},t}(),n=function(){function t(t){this.matcher=t}return t.prototype.matches=function(t){return!this.matcher.matches(t)},t.prototype.toCssSelector=function(){return":not("+this.matcher.toCssSelector()+")"},t}(),e=function(){function e(e,r,s){switch(r){case"|":this.matcher=new o(e,s);break;case"&":this.matcher=new t(e,s);break;case"-":this.matcher=new t(e,new n(s))}}return e.prototype.matches=function(t){return this.matcher.matches(t)},e.prototype.toCssSelector=function(){return this.matcher.toCssSelector()},e}(),r.exports={AndMatcher:t,CompositeMatcher:e,NegateMatcher:n,OrMatcher:o,PathMatcher:s,ScopeMatcher:c,SegmentMatcher:i,TrueMatcher:h}}).call(this)});
$_mod.def("/@pnidem/first-mate$5.2.0/lib/scope-selector-parser",function(t,e,r,n,c){r.exports=function(){function e(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function r(t,e,r,n,c,u){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=c,this.column=u,this.name="SyntaxError"}function n(e){function n(t){function r(t,r,n){var c,u;for(c=r;c<n;c++)u=e.charAt(c),"\n"===u?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===u||"\u2028"===u||"\u2029"===u?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return ot!==t&&(ot>t&&(ot=0,st={line:1,column:1,seenCR:!1}),r(st,ot,t),ot=t),st}function c(t){at<lt||(at>lt&&(lt=at,pt=[]),pt.push(t))}function u(t,c,u){function a(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function i(t,e){function r(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}var n,c,u,a=new Array(t.length);for(u=0;u<t.length;u++)a[u]=t[u].description;return n=t.length>1?a.slice(0,-1).join(", ")+" or "+a[t.length-1]:a[0],c=e?'"'+r(e)+'"':"end of input","Expected "+n+" but "+c+" found."}var o=n(u),s=u<e.length?e.charAt(u):null;return null!==c&&a(c),new r(null!==t?t:i(c,s),c,s,u,o.line,o.column)}function a(){var t,e,r,n;return t=at,e=A(),e!==C?(r=d(),r!==C?(n=A(),n!==C?(it=t,e=w(r),t=e):(at=t,t=x)):(at=t,t=x)):(at=t,t=x),t}function i(){var t,r,n,u,a,i;if(t=at,r=A(),r!==C){if(n=at,u=[],R.test(e.charAt(at))?(a=e.charAt(at),at++):(a=C,0===ft&&c(F)),a!==C)for(;a!==C;)u.push(a),R.test(e.charAt(at))?(a=e.charAt(at),at++):(a=C,0===ft&&c(F));else u=x;if(u!==C){for(a=[],M.test(e.charAt(at))?(i=e.charAt(at),at++):(i=C,0===ft&&c(_));i!==C;)a.push(i),M.test(e.charAt(at))?(i=e.charAt(at),at++):(i=C,0===ft&&c(_));a!==C?(u=[u,a],n=u):(at=n,n=x)}else at=n,n=x;n!==C?(u=A(),u!==C?(it=t,r=z(n),t=r):(at=t,t=x)):(at=t,t=x)}else at=t,t=x;return t===C&&(t=at,r=A(),r!==C?(E.test(e.charAt(at))?(n=e.charAt(at),at++):(n=C,0===ft&&c(Z)),n!==C?(u=A(),u!==C?(it=t,r=S(n),t=r):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)),t}function o(){var t,r,n,u,a,o;if(t=at,r=i(),r!==C){for(n=[],u=at,46===e.charCodeAt(at)?(a=b,at++):(a=C,0===ft&&c(B)),a!==C?(o=i(),o!==C?(a=[a,o],u=a):(at=u,u=x)):(at=u,u=x);u!==C;)n.push(u),u=at,46===e.charCodeAt(at)?(a=b,at++):(a=C,0===ft&&c(B)),a!==C?(o=i(),o!==C?(a=[a,o],u=a):(at=u,u=x)):(at=u,u=x);n!==C?(it=t,r=L(r,n),t=r):(at=t,t=x)}else at=t,t=x;return t}function s(){var t,e,r,n,c,u;if(t=at,e=o(),e!==C){for(r=[],n=at,c=A(),c!==C?(u=o(),u!==C?(c=[c,u],n=c):(at=n,n=x)):(at=n,n=x);n!==C;)r.push(n),n=at,c=A(),c!==C?(u=o(),u!==C?(c=[c,u],n=c):(at=n,n=x)):(at=n,n=x);r!==C?(it=t,e=N(e,r),t=e):(at=t,t=x)}else at=t,t=x;return t}function l(){var t,r,n,u,a,i;return t=at,40===e.charCodeAt(at)?(r=$,at++):(r=C,0===ft&&c(j)),r!==C?(n=A(),n!==C?(u=d(),u!==C?(a=A(),a!==C?(41===e.charCodeAt(at)?(i=O,at++):(i=C,0===ft&&c(P)),i!==C?(it=t,r=T(u),t=r):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)):(at=t,t=x),t}function p(){var t,r,n,u;return t=at,r=at,U.test(e.charAt(at))?(n=e.charAt(at),at++):(n=C,0===ft&&c(k)),n!==C?(58===e.charCodeAt(at)?(u=q,at++):(u=C,0===ft&&c(D)),u!==C?(n=[n,u],r=n):(at=r,r=x)):(at=r,r=x),r!==C?(n=A(),n!==C?(u=l(),u!==C?(it=t,r=G(r,u),t=r):(at=t,t=x)):(at=t,t=x)):(at=t,t=x),t===C&&(t=at,r=at,U.test(e.charAt(at))?(n=e.charAt(at),at++):(n=C,0===ft&&c(k)),n!==C?(58===e.charCodeAt(at)?(u=q,at++):(u=C,0===ft&&c(D)),u!==C?(n=[n,u],r=n):(at=r,r=x)):(at=r,r=x),r!==C?(n=A(),n!==C?(u=s(),u!==C?(it=t,r=H(r,u),t=r):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)),t}function f(){var t,r,n,u,a;return t=at,45===e.charCodeAt(at)?(r=I,at++):(r=C,0===ft&&c(J)),r!==C?(n=A(),n!==C?(u=p(),u!==C?(a=A(),a!==C?(it=t,r=K(u),t=r):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)):(at=t,t=x),t===C&&(t=at,45===e.charCodeAt(at)?(r=I,at++):(r=C,0===ft&&c(J)),r!==C?(n=A(),n!==C?(u=l(),u!==C?(a=A(),a!==C?(it=t,r=Q(u),t=r):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)):(at=t,t=x),t===C&&(t=at,45===e.charCodeAt(at)?(r=I,at++):(r=C,0===ft&&c(J)),r!==C?(n=A(),n!==C?(u=s(),u!==C?(a=A(),a!==C?(it=t,r=V(u),t=r):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)):(at=t,t=x),t===C&&(t=p(),t===C&&(t=l(),t===C&&(t=s()))))),t}function h(){var t,r,n,u,a,i;return t=at,r=f(),r!==C?(n=A(),n!==C?(W.test(e.charAt(at))?(u=e.charAt(at),at++):(u=C,0===ft&&c(X)),u!==C?(a=A(),a!==C?(i=h(),i!==C?(it=t,r=Y(r,u,i),t=r):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)):(at=t,t=x),t===C&&(t=f()),t}function d(){var t,r,n,u,a,i;return t=at,r=h(),r!==C?(n=A(),n!==C?(44===e.charCodeAt(at)?(u=tt,at++):(u=C,0===ft&&c(et)),u!==C?(a=A(),a!==C?(i=d(),i===C&&(i=rt),i!==C?(it=t,r=nt(r,i),t=r):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)):(at=t,t=x)):(at=t,t=x),t===C&&(t=h()),t}function A(){var t,r;for(t=[],ct.test(e.charAt(at))?(r=e.charAt(at),at++):(r=C,0===ft&&c(ut));r!==C;)t.push(r),ct.test(e.charAt(at))?(r=e.charAt(at),at++):(r=C,0===ft&&c(ut));return t}var v,g=arguments.length>1?arguments[1]:{},C={},y={start:a},m=a,x=C,w=function(t){return t},R=/^[a-zA-Z0-9+_]/,F={type:"class",value:"[a-zA-Z0-9+_]",description:"[a-zA-Z0-9+_]"},M=/^[a-zA-Z0-9\-+_]/,_={type:"class",value:"[a-zA-Z0-9\\-+_]",description:"[a-zA-Z0-9\\-+_]"},z=function(t){return new ht.SegmentMatcher(t)},E=/^[*]/,Z={type:"class",value:"[*]",description:"[*]"},S=function(t){return new ht.TrueMatcher},b=".",B={type:"literal",value:".",description:'"."'},L=function(t,e){return new ht.ScopeMatcher(t,e)},N=function(t,e){return new ht.PathMatcher(t,e)},$="(",j={type:"literal",value:"(",description:'"("'},O=")",P={type:"literal",value:")",description:'")"'},T=function(t){return t},U=/^[LRB]/,k={type:"class",value:"[LRB]",description:"[LRB]"},q=":",D={type:"literal",value:":",description:'":"'},G=function(t,e){return e},H=function(t,e){return e},I="-",J={type:"literal",value:"-",description:'"-"'},K=function(t){return new ht.NegateMatcher(t)},Q=function(t){return new ht.NegateMatcher(t)},V=function(t){return new ht.NegateMatcher(t)},W=/^[|&\-]/,X={type:"class",value:"[|&\\-]",description:"[|&\\-]"},Y=function(t,e,r){return new ht.CompositeMatcher(t,e,r)},tt=",",et={type:"literal",value:",",description:'","'},rt=null,nt=function(t,e){return e?new ht.OrMatcher(t,e):t},ct=/^[ \t]/,ut={type:"class",value:"[ \\t]",description:"[ \\t]"},at=0,it=0,ot=0,st={line:1,column:1,seenCR:!1},lt=0,pt=[],ft=0;if("startRule"in g){if(!(g.startRule in y))throw new Error("Can't start parsing from rule \""+g.startRule+'".');m=y[g.startRule]}var ht=t("/@pnidem/first-mate$5.2.0/lib/scope-selector-matchers");if(v=m(),v!==C&&at===e.length)return v;throw v!==C&&at<e.length&&c({type:"end",description:"end of input"}),u(null,pt,lt)}return e(r,Error),{SyntaxError:r,parse:n}}()});
$_mod.def("/@pnidem/first-mate$5.2.0/lib/scope-selector",function(t,e,r,o,s){(function(){var e,o;o=t("/@pnidem/first-mate$5.2.0/lib/scope-selector-parser"),r.exports=e=function(){function t(t){this.matcher=o.parse(t)}return t.prototype.matches=function(t){return"string"==typeof t&&(t=[t]),this.matcher.matches(t)},t.prototype.toCssSelector=function(){return this.matcher.toCssSelector()},t}()}).call(this)});
$_mod.installed("@pnidem/first-mate$5.2.0","underscore-plus","1.6.6");
$_mod.main("/underscore-plus$1.6.6","lib/underscore-plus");
$_mod.installed("underscore-plus$1.6.6","process","0.10.1");
$_mod.installed("underscore-plus$1.6.6","underscore","1.6.0");
$_mod.main("/underscore$1.6.0","underscore");
$_mod.def("/underscore$1.6.0/underscore",function(n,t,r,e,i){(function(){var n=this,e=n._,i={},u=Array.prototype,o=Object.prototype,a=Function.prototype,c=u.push,l=u.slice,f=u.concat,s=o.toString,p=o.hasOwnProperty,h=u.forEach,v=u.map,y=u.reduce,d=u.reduceRight,g=u.filter,m=u.every,b=u.some,w=u.indexOf,_=u.lastIndexOf,x=Array.isArray,j=Object.keys,A=a.bind,O=function(n){return n instanceof O?n:this instanceof O?void(this._wrapped=n):new O(n)};"undefined"!=typeof t?("undefined"!=typeof r&&r.exports&&(t=r.exports=O),t._=O):n._=O,O.VERSION="1.6.0";var k=O.each=O.forEach=function(n,t,r){if(null==n)return n;if(h&&n.forEach===h)n.forEach(t,r);else if(n.length===+n.length){for(var e=0,u=n.length;e<u;e++)if(t.call(r,n[e],e,n)===i)return}else for(var o=O.keys(n),e=0,u=o.length;e<u;e++)if(t.call(r,n[o[e]],o[e],n)===i)return;return n};O.map=O.collect=function(n,t,r){var e=[];return null==n?e:v&&n.map===v?n.map(t,r):(k(n,function(n,i,u){e.push(t.call(r,n,i,u))}),e)};var E="Reduce of empty array with no initial value";O.reduce=O.foldl=O.inject=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),y&&n.reduce===y)return e&&(t=O.bind(t,e)),i?n.reduce(t,r):n.reduce(t);if(k(n,function(n,u,o){i?r=t.call(e,r,n,u,o):(r=n,i=!0)}),!i)throw new TypeError(E);return r},O.reduceRight=O.foldr=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),d&&n.reduceRight===d)return e&&(t=O.bind(t,e)),i?n.reduceRight(t,r):n.reduceRight(t);var u=n.length;if(u!==+u){var o=O.keys(n);u=o.length}if(k(n,function(a,c,l){c=o?o[--u]:--u,i?r=t.call(e,r,n[c],c,l):(r=n[c],i=!0)}),!i)throw new TypeError(E);return r},O.find=O.detect=function(n,t,r){var e;return F(n,function(n,i,u){if(t.call(r,n,i,u))return e=n,!0}),e},O.filter=O.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(k(n,function(n,i,u){t.call(r,n,i,u)&&e.push(n)}),e)},O.reject=function(n,t,r){return O.filter(n,function(n,e,i){return!t.call(r,n,e,i)},r)},O.every=O.all=function(n,t,r){t||(t=O.identity);var e=!0;return null==n?e:m&&n.every===m?n.every(t,r):(k(n,function(n,u,o){if(!(e=e&&t.call(r,n,u,o)))return i}),!!e)};var F=O.some=O.any=function(n,t,r){t||(t=O.identity);var e=!1;return null==n?e:b&&n.some===b?n.some(t,r):(k(n,function(n,u,o){if(e||(e=t.call(r,n,u,o)))return i}),!!e)};O.contains=O.include=function(n,t){return null!=n&&(w&&n.indexOf===w?n.indexOf(t)!=-1:F(n,function(n){return n===t}))},O.invoke=function(n,t){var r=l.call(arguments,2),e=O.isFunction(t);return O.map(n,function(n){return(e?t:n[t]).apply(n,r)})},O.pluck=function(n,t){return O.map(n,O.property(t))},O.where=function(n,t){return O.filter(n,O.matches(t))},O.findWhere=function(n,t){return O.find(n,O.matches(t))},O.max=function(n,t,r){if(!t&&O.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-(1/0),i=-(1/0);return k(n,function(n,u,o){var a=t?t.call(r,n,u,o):n;a>i&&(e=n,i=a)}),e},O.min=function(n,t,r){if(!t&&O.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,i=1/0;return k(n,function(n,u,o){var a=t?t.call(r,n,u,o):n;a<i&&(e=n,i=a)}),e},O.shuffle=function(n){var t,r=0,e=[];return k(n,function(n){t=O.random(r++),e[r-1]=e[t],e[t]=n}),e},O.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=O.values(n)),n[O.random(n.length-1)]):O.shuffle(n).slice(0,Math.max(0,t))};var M=function(n){return null==n?O.identity:O.isFunction(n)?n:O.property(n)};O.sortBy=function(n,t,r){return t=M(t),O.pluck(O.map(n,function(n,e,i){return{value:n,index:e,criteria:t.call(r,n,e,i)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var R=function(n){return function(t,r,e){var i={};return r=M(r),k(t,function(u,o){var a=r.call(e,u,o,t);n(i,a,u)}),i}};O.groupBy=R(function(n,t,r){O.has(n,t)?n[t].push(r):n[t]=[r]}),O.indexBy=R(function(n,t,r){n[t]=r}),O.countBy=R(function(n,t){O.has(n,t)?n[t]++:n[t]=1}),O.sortedIndex=function(n,t,r,e){r=M(r);for(var i=r.call(e,t),u=0,o=n.length;u<o;){var a=u+o>>>1;r.call(e,n[a])<i?u=a+1:o=a}return u},O.toArray=function(n){return n?O.isArray(n)?l.call(n):n.length===+n.length?O.map(n,O.identity):O.values(n):[]},O.size=function(n){return null==n?0:n.length===+n.length?n.length:O.keys(n).length},O.first=O.head=O.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:t<0?[]:l.call(n,0,t)},O.initial=function(n,t,r){return l.call(n,0,n.length-(null==t||r?1:t))},O.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:l.call(n,Math.max(n.length-t,0))},O.rest=O.tail=O.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},O.compact=function(n){return O.filter(n,O.identity)};var S=function(n,t,r){return t&&O.every(n,O.isArray)?f.apply(r,n):(k(n,function(n){O.isArray(n)||O.isArguments(n)?t?c.apply(r,n):S(n,t,r):r.push(n)}),r)};O.flatten=function(n,t){return S(n,t,[])},O.without=function(n){return O.difference(n,l.call(arguments,1))},O.partition=function(n,t){var r=[],e=[];return k(n,function(n){(t(n)?r:e).push(n)}),[r,e]},O.uniq=O.unique=function(n,t,r,e){O.isFunction(t)&&(e=r,r=t,t=!1);var i=r?O.map(n,r,e):n,u=[],o=[];return k(i,function(r,e){(t?e&&o[o.length-1]===r:O.contains(o,r))||(o.push(r),u.push(n[e]))}),u},O.union=function(){return O.uniq(O.flatten(arguments,!0))},O.intersection=function(n){var t=l.call(arguments,1);return O.filter(O.uniq(n),function(n){return O.every(t,function(t){return O.contains(t,n)})})},O.difference=function(n){var t=f.apply(u,l.call(arguments,1));return O.filter(n,function(n){return!O.contains(t,n)})},O.zip=function(){for(var n=O.max(O.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;r<n;r++)t[r]=O.pluck(arguments,""+r);return t},O.object=function(n,t){if(null==n)return{};for(var r={},e=0,i=n.length;e<i;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},O.indexOf=function(n,t,r){if(null==n)return-1;var e=0,i=n.length;if(r){if("number"!=typeof r)return e=O.sortedIndex(n,t),n[e]===t?e:-1;e=r<0?Math.max(0,i+r):r}if(w&&n.indexOf===w)return n.indexOf(t,r);for(;e<i;e++)if(n[e]===t)return e;return-1},O.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var i=e?r:n.length;i--;)if(n[i]===t)return i;return-1},O.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),i=0,u=new Array(e);i<e;)u[i++]=n,n+=r;return u};var T=function(){};O.bind=function(n,t){var r,e;if(A&&n.bind===A)return A.apply(n,l.call(arguments,1));if(!O.isFunction(n))throw new TypeError;return r=l.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(l.call(arguments)));T.prototype=n.prototype;var i=new T;T.prototype=null;var u=n.apply(i,r.concat(l.call(arguments)));return Object(u)===u?u:i}},O.partial=function(n){var t=l.call(arguments,1);return function(){for(var r=0,e=t.slice(),i=0,u=e.length;i<u;i++)e[i]===O&&(e[i]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},O.bindAll=function(n){var t=l.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return k(t,function(t){n[t]=O.bind(n[t],n)}),n},O.memoize=function(n,t){var r={};return t||(t=O.identity),function(){var e=t.apply(this,arguments);return O.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},O.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},O.defer=function(n){return O.delay.apply(O,[n,1].concat(l.call(arguments,1)))},O.throttle=function(n,t,r){var e,i,u,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:O.now(),o=null,u=n.apply(e,i),e=i=null};return function(){var l=O.now();a||r.leading!==!1||(a=l);var f=t-(l-a);return e=this,i=arguments,f<=0?(clearTimeout(o),o=null,a=l,u=n.apply(e,i),e=i=null):o||r.trailing===!1||(o=setTimeout(c,f)),u}},O.debounce=function(n,t,r){var e,i,u,o,a,c=function(){var l=O.now()-o;l<t?e=setTimeout(c,t-l):(e=null,r||(a=n.apply(u,i),u=i=null))};return function(){u=this,i=arguments,o=O.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(a=n.apply(u,i),u=i=null),a}},O.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},O.wrap=function(n,t){return O.partial(t,n)},O.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},O.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},O.keys=function(n){if(!O.isObject(n))return[];if(j)return j(n);var t=[];for(var r in n)O.has(n,r)&&t.push(r);return t},O.values=function(n){for(var t=O.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=n[t[i]];return e},O.pairs=function(n){for(var t=O.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=[t[i],n[t[i]]];return e},O.invert=function(n){for(var t={},r=O.keys(n),e=0,i=r.length;e<i;e++)t[n[r[e]]]=r[e];return t},O.functions=O.methods=function(n){var t=[];for(var r in n)O.isFunction(n[r])&&t.push(r);return t.sort()},O.extend=function(n){return k(l.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},O.pick=function(n){var t={},r=f.apply(u,l.call(arguments,1));return k(r,function(r){r in n&&(t[r]=n[r])}),t},O.omit=function(n){var t={},r=f.apply(u,l.call(arguments,1));for(var e in n)O.contains(r,e)||(t[e]=n[e]);return t},O.defaults=function(n){return k(l.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},O.clone=function(n){return O.isObject(n)?O.isArray(n)?n.slice():O.extend({},n):n},O.tap=function(n,t){return t(n),n};var I=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof O&&(n=n._wrapped),t instanceof O&&(t=t._wrapped);var i=s.call(n);if(i!=s.call(t))return!1;switch(i){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=r.length;u--;)if(r[u]==n)return e[u]==t;var o=n.constructor,a=t.constructor;if(o!==a&&!(O.isFunction(o)&&o instanceof o&&O.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,l=!0;if("[object Array]"==i){if(c=n.length,l=c==t.length)for(;c--&&(l=I(n[c],t[c],r,e)););}else{for(var f in n)if(O.has(n,f)&&(c++,!(l=O.has(t,f)&&I(n[f],t[f],r,e))))break;if(l){for(f in t)if(O.has(t,f)&&!c--)break;l=!c}}return r.pop(),e.pop(),l};O.isEqual=function(n,t){return I(n,t,[],[])},O.isEmpty=function(n){if(null==n)return!0;if(O.isArray(n)||O.isString(n))return 0===n.length;for(var t in n)if(O.has(n,t))return!1;return!0},O.isElement=function(n){return!(!n||1!==n.nodeType)},O.isArray=x||function(n){return"[object Array]"==s.call(n)},O.isObject=function(n){return n===Object(n)},k(["Arguments","Function","String","Number","Date","RegExp"],function(n){O["is"+n]=function(t){return s.call(t)=="[object "+n+"]"}}),O.isArguments(arguments)||(O.isArguments=function(n){return!(!n||!O.has(n,"callee"))}),"function"!=typeof/./&&(O.isFunction=function(n){return"function"==typeof n}),O.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},O.isNaN=function(n){return O.isNumber(n)&&n!=+n},O.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==s.call(n)},O.isNull=function(n){return null===n},O.isUndefined=function(n){return void 0===n},O.has=function(n,t){return p.call(n,t)},O.noConflict=function(){return n._=e,this},O.identity=function(n){return n},O.constant=function(n){return function(){return n}},O.property=function(n){return function(t){return t[n]}},O.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},O.times=function(n,t,r){for(var e=Array(Math.max(0,n)),i=0;i<n;i++)e[i]=t.call(r,i);return e},O.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},O.now=Date.now||function(){return(new Date).getTime()};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=O.invert(N.escape);var q={escape:new RegExp("["+O.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+O.keys(N.unescape).join("|")+")","g")};O.each(["escape","unescape"],function(n){O[n]=function(t){return null==t?"":(""+t).replace(q[n],function(t){return N[n][t]})}}),O.result=function(n,t){if(null!=n){var r=n[t];return O.isFunction(r)?r.call(n):r}},O.mixin=function(n){k(O.functions(n),function(t){var r=O[t]=n[t];O.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),$.call(this,r.apply(O,n))}})};var B=0;O.uniqueId=function(n){var t=++B+"";return n?n+t:t},O.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;O.template=function(n,t,r){var e;r=O.defaults({},r,O.templateSettings);var i=new RegExp([(r.escape||D).source,(r.interpolate||D).source,(r.evaluate||D).source].join("|")+"|$","g"),u=0,o="__p+='";n.replace(i,function(t,r,e,i,a){return o+=n.slice(u,a).replace(C,function(n){return"\\"+z[n]}),r&&(o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(o+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),u=a+t.length,t}),o+="';\n",r.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{e=new Function(r.variable||"obj","_",o)}catch(n){throw n.source=o,n}if(t)return e(t,O);var a=function(n){return e.call(this,n,O)};return a.source="function("+(r.variable||"obj")+"){\n"+o+"}",a},O.chain=function(n){return O(n).chain()};var $=function(n){return this._chain?O(n).chain():n};O.mixin(O),k(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];O.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],$.call(this,r)}}),k(["concat","join","slice"],function(n){var t=u[n];O.prototype[n]=function(){return $.call(this,t.apply(this._wrapped,arguments))}}),O.extend(O.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return O})}).call(this)});
$_mod.def("/underscore-plus$1.6.6/lib/underscore-plus",function(e,n,r,t,i){var u=e("process");(function(){var n,t,i,l,o,s,a,c,f=[].slice;c=e("/underscore$1.6.0/underscore"),i={cmd:"⌘",ctrl:"⌃",alt:"⌥",option:"⌥",shift:"⇧",enter:"⏎",left:"←",right:"→",up:"↑",down:"↓"},l={cmd:"Cmd",ctrl:"Ctrl",alt:"Alt",option:"Alt",shift:"Shift",enter:"Enter",left:"Left",right:"Right",up:"Up",down:"Down"},s={"~":"`",_:"-","+":"=","|":"\\","{":"[","}":"]",":":";",'"':"'","<":",",">":".","?":"/"},a=function(e){var n,r,t,i,u,l;if(i=0,t=[],null==e)return t;for(r=u=0,l=e.length;u<l;r=++u)n=e[r],"."!==n||0!==r&&"\\"===e[r-1]||(t.push(e.substring(i,r)),i=r+1);return t.push(e.substr(i,e.length)),t},t=function(e){return c.isObject(e)&&!c.isArray(e)},o={adviseBefore:function(e,n,r){var t;return t=e[n],e[n]=function(){var e;if(e=1<=arguments.length?f.call(arguments,0):[],r.apply(this,e)!==!1)return t.apply(this,e)}},camelize:function(e){return e?e.replace(/[_-]+(\w)/g,function(e){return e[1].toUpperCase()}):""},capitalize:function(e){return e?"github"===e.toLowerCase()?"GitHub":e[0].toUpperCase()+e.slice(1):""},compactObject:function(e){var n,r,t;r={};for(n in e)t=e[n],null!=t&&(r[n]=t);return r},dasherize:function(e){return e?(e=e[0].toLowerCase()+e.slice(1),e.replace(/([A-Z])|(_)/g,function(e,n){return n?"-"+n.toLowerCase():"-"})):""},deepClone:function(e){return c.isArray(e)?e.map(function(e){return o.deepClone(e)}):c.isObject(e)&&!c.isFunction(e)?o.mapObject(e,function(e){return function(e,n){return[e,o.deepClone(n)]}}(this)):e},deepExtend:function(e){var n,r,i,u,l,s,a;for(u=e,n=0;++n<arguments.length;)if(i=arguments[n],t(u)&&t(i))for(a=Object.keys(i),l=0,s=a.length;l<s;l++)r=a[l],u[r]=o.deepExtend(u[r],i[r]);else u=o.deepClone(i);return u},deepContains:function(e,n){var r,t,i;if(null==e)return!1;for(t=0,i=e.length;t<i;t++)if(r=e[t],c.isEqual(r,n))return!0;return!1},endsWith:function(e,n){return null==n&&(n=""),!!e&&e.indexOf(n,e.length-n.length)!==-1},escapeAttribute:function(e){return e?e.replace(/"/g,"&quot;").replace(/\n/g,"").replace(/\\/g,"-"):""},escapeRegExp:function(e){return e?e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"):""},humanizeEventName:function(e,n){var r,t,i,u;return u=e.split(":"),t=u[0],r=u[1],null==r?o.undasherize(t):(i=o.undasherize(t),null==n&&(n=o.undasherize(r)),""+i+": "+n)},humanizeKey:function(e,n){var r;return null==n&&(n=u.platform),e?(r="darwin"===n?i:l,r[e]?r[e]:1===e.length&&null!=s[e]?[r.shift,s[e]]:1===e.length&&e===e.toUpperCase()&&e.toUpperCase()!==e.toLowerCase()?[r.shift,e.toUpperCase()]:1===e.length||/f[0-9]{1,2}/.test(e)?e.toUpperCase():"darwin"===n?e:o.capitalize(e)):e},humanizeKeystroke:function(e,n){var r,t,i,l,s,a,f,p,h,g;if(null==n&&(n=u.platform),!e)return e;for(s=e.split(" "),r=[],f=0,h=s.length;f<h;f++){for(e=s[f],l=[],a=e.split("-"),t=p=0,g=a.length;p<g;t=++p)i=a[t],""===i&&""===a[t-1]&&(i="-"),i&&l.push(o.humanizeKey(i,n));l=c.uniq(c.flatten(l)),l="darwin"===n?l.join(""):l.join("+"),r.push(l)}return r.join(" ")},isSubset:function(e,n){return c.every(e,function(e){return c.include(n,e)})},losslessInvert:function(e){var n,r,t;n={};for(r in e)t=e[r],null==n[t]&&(n[t]=[]),n[t].push(r);return n},mapObject:function(e,n){var r,t,i,u,l,o,s;for(t={},o=Object.keys(e),u=0,l=o.length;u<l;u++)r=o[u],s=n(r,e[r]),r=s[0],i=s[1],t[r]=i;return t},multiplyString:function(e,n){var r,t;for(r="",t=0;t<n;)r+=e,t++;return r},pluralize:function(e,n,r){return null==e&&(e=0),null==r&&(r=n+"s"),1===e?""+e+" "+n:""+e+" "+r},remove:function(e,n){var r;return r=e.indexOf(n),r>=0&&e.splice(r,1),e},setValueForKeyPath:function(e,n,r){var t,i;for(i=a(n);i.length>1;)t=i.shift(),null==e[t]&&(e[t]={}),e=e[t];return null!=r?e[i.shift()]=r:delete e[i.shift()]},hasKeyPath:function(e,n){var r,t,i,u;for(t=a(n),i=0,u=t.length;i<u;i++){if(r=t[i],!e.hasOwnProperty(r))return!1;e=e[r]}return!0},spliceWithArray:function(e,n,r,t,i){var u,l,o,s;if(null==i&&(i=1e5),t.length<i)return e.splice.apply(e,[n,r].concat(f.call(t)));for(e.splice(n,r),s=[],u=l=0,o=t.length;i>0?l<=o:l>=o;u=l+=i)s.push(e.splice.apply(e,[n+u,0].concat(f.call(t.slice(u,u+i)))));return s},sum:function(e){var n,r,t,i;for(r=0,t=0,i=e.length;t<i;t++)n=e[t],r+=n;return r},uncamelcase:function(e){var n;return e?(n=e.replace(/([A-Z])|_+/g,function(e,n){return null==n&&(n="")," "+n}),o.capitalize(n.trim())):""},undasherize:function(e){return e?e.split("-").map(o.capitalize).join(" "):""},underscore:function(e){return e?(e=e[0].toLowerCase()+e.slice(1),e.replace(/([A-Z])|-+/g,function(e,n){return null==n&&(n=""),"_"+n.toLowerCase()})):""},valueForKeyPath:function(e,n){var r,t,i,u;for(t=a(n),i=0,u=t.length;i<u;i++)if(r=t[i],e=e[r],null==e)return;return e},isEqual:function(e,r,t,i){return c.isArray(t)&&c.isArray(i)?n(e,r,t,i):n(e,r)},isEqualForProperties:function(){var e,n,r,t,i,u;for(e=arguments[0],n=arguments[1],r=3<=arguments.length?f.call(arguments,2):[],i=0,u=r.length;i<u;i++)if(t=r[i],!c.isEqual(e[t],n[t]))return!1;return!0}},n=function(e,r,t,i){var u,l,o,s,a,f,p,h,g,d,v,m,y,E,C;if(null==t&&(t=[]),null==i&&(i=[]),e===r)return c.isEqual(e,r);if(c.isFunction(e)||c.isFunction(r))return c.isEqual(e,r);for(y=t.length;y--;)if(t[y]===e)return i[y]===r;if(t.push(e),i.push(r),d=!1,c.isFunction(null!=e?e.isEqual:void 0))d=e.isEqual(r,t,i);else if(c.isFunction(null!=r?r.isEqual:void 0))d=r.isEqual(e,i,t);else if(c.isArray(e)&&c.isArray(r)&&e.length===r.length){for(d=!0,v=E=0,C=e.length;E<C;v=++E)if(o=e[v],!n(o,r[v],t,i)){d=!1;break}}else if(c.isRegExp(e)&&c.isRegExp(r))d=c.isEqual(e,r);else if(c.isElement(e)&&c.isElement(r))d=e===r;else if(c.isObject(e)&&c.isObject(r))if(u=e.constructor,f=r.constructor,l=c.isFunction(u)&&u instanceof u,p=c.isFunction(f)&&f instanceof f,u===f||l&&p){s=0,d=!0;for(m in e)if(a=e[m],c.has(e,m)&&(s++,!c.has(r,m)||!n(a,r[m],t,i))){d=!1;break}if(d){h=0;for(m in r)g=r[m],c.has(r,m)&&h++;d=s===h}}else d=!1;else d=c.isEqual(e,r);return t.pop(),i.pop(),d},r.exports=c.extend({},c,o)}).call(this)});
$_mod.installed("@pnidem/first-mate$5.2.0","season","5.4.1");
$_mod.main("/season$5.4.1","lib/cson");
$_mod.remap("/season$5.4.1/lib/cson",!1);
$_mod.installed("@pnidem/first-mate$5.2.0","event-kit","2.2.0");
$_mod.main("/event-kit$2.2.0","lib/event-kit");
$_mod.def("/event-kit$2.2.0/lib/disposable",function(i,o,s,t,n){(function(){var i;s.exports=i=function(){function i(i){this.disposalAction=i}return i.prototype.disposed=!1,i.isDisposable=function(i){return"function"==typeof(null!=i?i.dispose:void 0)},i.prototype.dispose=function(){this.disposed||(this.disposed=!0,"function"==typeof this.disposalAction&&this.disposalAction(),this.disposalAction=null)},i}()}).call(this)});
$_mod.def("/event-kit$2.2.0/lib/emitter",function(t,e,n,i,r){(function(){var e,i;e=t("/event-kit$2.2.0/lib/disposable"),n.exports=i=function(){function t(){this.clear()}return t.exceptionHandlers=[],t.onEventHandlerException=function(t){return 0===this.exceptionHandlers.length&&(this.dispatch=this.exceptionHandlingDispatch),this.exceptionHandlers.push(t),new e(function(e){return function(){if(e.exceptionHandlers.splice(e.exceptionHandlers.indexOf(t),1),0===e.exceptionHandlers.length)return e.dispatch=e.simpleDispatch}}(this))},t.simpleDispatch=function(t,e){return t(e)},t.exceptionHandlingDispatch=function(t,e){var n,i,r,s,o,h;try{return t(e)}catch(t){for(n=t,o=this.exceptionHandlers,h=[],r=0,s=o.length;r<s;r++)i=o[r],h.push(i(n));return h}},t.dispatch=t.simpleDispatch,t.prototype.disposed=!1,t.prototype.clear=function(){return this.handlersByEventName={}},t.prototype.dispose=function(){return this.handlersByEventName=null,this.disposed=!0},t.prototype.on=function(t,n,i){var r;if(null==i&&(i=!1),this.disposed)throw new Error("Emitter has been disposed");if("function"!=typeof n)throw new Error("Handler must be a function");return(r=this.handlersByEventName[t])?i?this.handlersByEventName[t]=[n].concat(r):this.handlersByEventName[t]=r.concat(n):this.handlersByEventName[t]=[n],new e(this.off.bind(this,t,n))},t.prototype.preempt=function(t,e){return this.on(t,e,!0)},t.prototype.off=function(t,e){var n,i,r,s,o;if(!this.disposed&&(r=this.handlersByEventName[t])){for(i=[],s=0,o=r.length;s<o;s++)n=r[s],n!==e&&i.push(n);i.length>0?this.handlersByEventName[t]=i:delete this.handlersByEventName[t]}},t.prototype.emit=function(t,e){var n,i,r,s,o;if(i=null!=(o=this.handlersByEventName)?o[t]:void 0)for(r=0,s=i.length;r<s;r++)n=i[r],this.constructor.dispatch(n,e)},t.prototype.getEventNames=function(){return Object.keys(this.handlersByEventName)},t.prototype.listenerCountForEventName=function(t){var e,n;return null!=(e=null!=(n=this.handlersByEventName[t])?n.length:void 0)?e:0},t.prototype.getTotalListenerCount=function(){var t,e,n,i,r;for(e=0,r=Object.keys(this.handlersByEventName),n=0,i=r.length;n<i;n++)t=r[n],e+=this.handlersByEventName[t].length;return e},t}()}).call(this)});
$_mod.def("/event-kit$2.2.0/lib/composite-disposable",function(s,o,i,t,e){(function(){var o,t,e;t=null,i.exports=o=function(){function s(){var s,o,i;for(this.disposables=new Set,o=0,i=arguments.length;o<i;o++)s=arguments[o],this.add(s)}return s.prototype.disposed=!1,s.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposables.forEach(function(s){return s.dispose()}),this.disposables=null)},s.prototype.add=function(){var s,o,i;if(!this.disposed)for(o=0,i=arguments.length;o<i;o+=1)s=arguments[o],e(s),this.disposables.add(s)},s.prototype.remove=function(s){this.disposed||this.disposables.delete(s)},s.prototype.clear=function(){this.disposed||this.disposables.clear()},s}(),e=function(o){if(null==t&&(t=s("/event-kit$2.2.0/lib/disposable")),!t.isDisposable(o))throw new TypeError("Arguments to CompositeDisposable.add must have a .dispose() method")}}).call(this)});
$_mod.def("/event-kit$2.2.0/lib/event-kit",function(e,i,t,o,s){(function(){i.Emitter=e("/event-kit$2.2.0/lib/emitter"),i.Disposable=e("/event-kit$2.2.0/lib/disposable"),i.CompositeDisposable=e("/event-kit$2.2.0/lib/composite-disposable")}).call(this)});
$_mod.installed("@pnidem/first-mate$5.2.0","grim","1.5.0");
$_mod.main("/grim$1.5.0","lib/grim");
$_mod.remap("/grim$1.5.0/lib/grim",!1);
$_mod.installed("@pnidem/first-mate$5.2.0","fs-plus","2.9.3");
$_mod.main("/fs-plus$2.9.3","lib/fs-plus");
$_mod.remap("/fs-plus$2.9.3/lib/fs-plus",!1);
$_mod.installed("@pnidem/first-mate$5.2.0","oniguruma","5.1.2");
$_mod.main("/oniguruma$5.1.2","lib/oniguruma");
$_mod.remap("/oniguruma$5.1.2/lib/oniguruma","/onigurumajs$1.0.0/index");
$_mod.installed("@pnidem/first-mate$5.2.0","onigurumajs","1.0.0");
$_mod.main("/onigurumajs$1.0.0","");
$_mod.installed("onigurumajs$1.0.0","lodash","3.10.1");
$_mod.main("/lodash$3.10.1","");
$_mod.def("/lodash$3.10.1/index",function(n,t,r,e,u){(function(){function n(n,t){if(n!==t){var r=null===n,e=n===j,u=n===n,i=null===t,o=t===j,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(n<t&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function e(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function u(n,t,r){if(t!==t)return _(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function i(n){return"function"==typeof n||!1}function o(n){return null==n?"":n+""}function f(n,t){for(var r=-1,e=n.length;++r<e&&t.indexOf(n.charAt(r))>-1;);return r}function a(n,t){for(var r=n.length;r--&&t.indexOf(n.charAt(r))>-1;);return r}function c(t,r){return n(t.criteria,r.criteria)||t.index-r.index}function l(t,r,e){for(var u=-1,i=t.criteria,o=r.criteria,f=i.length,a=e.length;++u<f;){var c=n(i[u],o[u]);if(c){if(u>=a)return c;var l=e[u];return c*("asc"===l||l===!0?1:-1)}}return t.index-r.index}function s(n){return Pn[n]}function p(n){return Kn[n]}function h(n,t,r){return t?n=Gn[n]:r&&(n=Jn[n]),"\\"+n}function v(n){return"\\"+Jn[n]}function _(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function g(n){return!!n&&"object"==typeof n}function y(n){return n<=160&&n>=9&&n<=13||32==n||160==n||5760==n||6158==n||n>=8192&&(n<=8202||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function d(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=M,i[++u]=r);return i}function w(n,t){for(var r,e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e],a=t?t(f,e,n):f;e&&r===a||(r=a,o[++i]=f)}return o}function m(n){for(var t=-1,r=n.length;++t<r&&y(n.charCodeAt(t)););return t}function x(n){for(var t=n.length;t--&&y(n.charCodeAt(t)););return t}function b(n){return Vn[n]}function A(t){function r(n){if(g(n)&&!Cf(n)&&!(n instanceof nn)){if(n instanceof X)return n;if(no.call(n,"__chain__")&&no.call(n,"__wrapped__"))return he(n)}return new X(n)}function y(){}function X(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function nn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oo,this.__views__=[]}function rn(){var n=new nn(this.__wrapped__);return n.__actions__=tt(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=tt(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=tt(this.__views__),n}function Pn(){if(this.__filtered__){var n=new nn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Kn(){var n=this.__wrapped__.value(),t=this.__dir__,r=Cf(n),e=t<0,u=r?n.length:0,i=Vr(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,p=0,h=Ao(a,this.__takeCount__);if(!r||u<B||u==a&&h==a)return er(e&&r?n.reverse():n,this.__actions__);var v=[];n:for(;a--&&p<h;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,w=y.type,m=d(g);if(w==D)g=m;else if(!m){if(w==z)continue n;break n}}v[p++]=g}return v}function Vn(){this.__data__={}}function Yn(n){return this.has(n)&&delete this.__data__[n]}function Gn(n){return"__proto__"==n?j:this.__data__[n]}function Jn(n){return"__proto__"!=n&&no.call(this.__data__,n)}function Xn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Zn(n){var t=n?n.length:0;for(this.data={hash:go(null),set:new lo};t--;)this.push(n[t])}function Hn(n,t){var r=n.data,e="string"==typeof t||Wu(t)?r.set.has(t):r.hash[t];return e?0:-1}function Qn(n){var t=this.data;"string"==typeof n||Wu(n)?t.set.add(n):t.hash[n]=!0}function nt(n,t){for(var r=-1,e=n.length,u=-1,i=t.length,o=zi(e+i);++r<e;)o[r]=n[r];for(;++u<i;)o[r++]=t[u];return o}function tt(n,t){var r=-1,e=n.length;for(t||(t=zi(e));++r<e;)t[r]=n[r];return t}function ut(n,t){for(var r=-1,e=n.length;++r<e&&t(n[r],r,n)!==!1;);return n}function it(n,t){for(var r=n.length;r--&&t(n[r],r,n)!==!1;);return n}function ot(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function ft(n,t,r,e){for(var u=-1,i=n.length,o=e,f=o;++u<i;){var a=n[u],c=+t(a);r(c,o)&&(o=c,f=a)}return f}function at(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function ct(n,t){for(var r=-1,e=n.length,u=zi(e);++r<e;)u[r]=t(n[r],r,n);return u}function lt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function st(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function pt(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function ht(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function vt(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}function _t(n,t){return n===j?t:n}function gt(n,t,r,e){return n!==j&&no.call(e,r)?n:t}function yt(n,t,r){for(var e=-1,u=Df(t),i=u.length;++e<i;){var o=u[e],f=n[o],a=r(f,t[o],o,n,t);(a===a?a===f:f!==f)&&(f!==j||o in n)||(n[o]=a)}return n}function dt(n,t){return null==t?n:mt(t,Df(t),n)}function wt(n,t){for(var r=-1,e=null==n,u=!e&&Zr(n),i=u?n.length:0,o=t.length,f=zi(o);++r<o;){var a=t[r];u?f[r]=Hr(a,i)?n[a]:j:f[r]=e?j:n[a]}return f}function mt(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function xt(n,t,r){var e=typeof n;return"function"==e?t===j?n:or(n,t,r):null==n?Ri:"object"==e?zt(n):t===j?Si(n):Dt(n,t)}function bt(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==j)return f;if(!Wu(n))return n;var a=Cf(n);if(a){if(f=Yr(n),!t)return tt(n,f)}else{var c=ro.call(n),l=c==J;if(c!=H&&c!=P&&(!l||u))return Mn[c]?Jr(n,c,t):u?n:{};if(f=Gr(l?{}:n),!t)return dt(f,n)}i||(i=[]),o||(o=[]);for(var s=i.length;s--;)if(i[s]==n)return o[s];return i.push(n),o.push(f),(a?ut:Ut)(n,function(e,u){f[u]=bt(e,t,r,u,n,i,o)}),f}function At(n,t,r){if("function"!=typeof n)throw new Ji(q);return so(function(){n.apply(j,r)},t)}function jt(n,t){var r=n?n.length:0,e=[];if(!r)return e;var i=-1,o=Mr(),f=o==u,a=f&&t.length>=B?_r(t):null,c=t.length;a&&(o=Hn,f=!1,t=a);n:for(;++i<r;){var l=n[i];if(f&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;e.push(l)}else o(t,l,0)<0&&e.push(l)}return e}function kt(n,t){var r=!0;return No(n,function(n,e,u){return r=!!t(n,e,u)}),r}function It(n,t,r,e){var u=e,i=u;return No(n,function(n,o,f){var a=+t(n,o,f);(r(a,u)||a===e&&a===i)&&(u=a,i=n)}),i}function Rt(n,t,r,e){var u=n.length;for(r=null==r?0:+r||0,r<0&&(r=-r>u?0:u+r),e=e===j||e>u?u:+e||0,e<0&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n}function Ot(n,t){var r=[];return No(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Et(n,t,r,e){var u;return r(n,function(n,r,i){if(t(n,r,i))return u=e?r:n,!1}),u}function Ct(n,t,r,e){e||(e=[]);for(var u=-1,i=n.length;++u<i;){var o=n[u];g(o)&&Zr(o)&&(r||Cf(o)||ku(o))?t?Ct(o,t,r,e):lt(e,o):r||(e[e.length]=o)}return e}function $t(n,t){return Lo(n,t,ni)}function Ut(n,t){return Lo(n,t,Df)}function St(n,t){return Bo(n,t,Df)}function Wt(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];Su(n[o])&&(i[++u]=o)}return i}function Ft(n,t,r){if(null!=n){r!==j&&r in se(n)&&(t=[r]);for(var e=0,u=t.length;null!=n&&e<u;)n=n[t[e++]];return e&&e==u?n:j}}function Nt(n,t,r,e,u,i){return n===t||(null==n||null==t||!Wu(n)&&!g(t)?n!==n&&t!==t:Tt(n,t,Nt,r,e,u,i))}function Tt(n,t,r,e,u,i,o){var f=Cf(n),a=Cf(t),c=K,l=K;f||(c=ro.call(n),c==P?c=H:c!=H&&(f=Mu(n))),a||(l=ro.call(t),l==P?l=H:l!=H&&(a=Mu(t)));var s=c==H,p=l==H,h=c==l;if(h&&!f&&!s)return Br(n,t,c);if(!u){var v=s&&no.call(n,"__wrapped__"),_=p&&no.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,i,o)}if(!h)return!1;i||(i=[]),o||(o=[]);for(var g=i.length;g--;)if(i[g]==n)return o[g]==t;i.push(n),o.push(t);var y=(f?Lr:zr)(n,t,r,e,u,i,o);return i.pop(),o.pop(),y}function Lt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=se(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<u;){o=t[e];var f=o[0],a=n[f],c=o[1];if(i&&o[2]){if(a===j&&!(f in n))return!1}else{var l=r?r(a,c,f):j;if(!(l===j?Nt(c,a,r,!0):l))return!1}}return!0}function Bt(n,t){var r=-1,e=Zr(n)?zi(n.length):[];return No(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function zt(n){var t=Pr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null!=n&&(n[r]===e&&(e!==j||r in se(n)))}}return function(n){return Lt(n,t)}}function Dt(n,t){var r=Cf(n),e=ne(n)&&ee(t),u=n+"";return n=pe(n),function(i){if(null==i)return!1;var o=u;if(i=se(i),(r||!e)&&!(o in i)){if(i=1==n.length?i:Ft(i,Jt(n,0,-1)),null==i)return!1;o=Ie(n),i=se(i)}return i[o]===t?t!==j||o in i:Nt(t,i[o],j,!0)}}function qt(n,t,r,e,u){if(!Wu(n))return n;var i=Zr(t)&&(Cf(t)||Mu(t)),o=i?j:Df(t);return ut(o||t,function(f,a){if(o&&(a=f,f=t[a]),g(f))e||(e=[]),u||(u=[]),Mt(n,t,a,qt,r,e,u);else{var c=n[a],l=r?r(c,f,a,n,t):j,s=l===j;s&&(l=f),l===j&&(!i||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l)}}),n}function Mt(n,t,r,e,u,i,o){for(var f=i.length,a=t[r];f--;)if(i[f]==a)return void(n[r]=o[f]);var c=n[r],l=u?u(c,a,r,n,t):j,s=l===j;s&&(l=a,Zr(a)&&(Cf(a)||Mu(a))?l=Cf(c)?c:Zr(c)?tt(c):[]:zu(a)||ku(a)?l=ku(c)?Gu(c):zu(c)?c:{}:s=!1),i.push(a),o.push(l),s?n[r]=e(l,a,u,i,o):(l===l?l!==c:c===c)&&(n[r]=l)}function Pt(n){return function(t){return null==t?j:t[n]}}function Kt(n){var t=n+"";return n=pe(n),function(r){return Ft(r,n,t)}}function Vt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Hr(e)){var u=e;po.call(n,e,1)}}return n}function Yt(n,t){return n+yo(Io()*(t-n+1))}function Gt(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function Jt(n,t,r){var e=-1,u=n.length;t=null==t?0:+t||0,t<0&&(t=-t>u?0:u+t),r=r===j||r>u?u:+r||0,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=zi(u);++e<u;)i[e]=n[e+t];return i}function Xt(n,t){var r;return No(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function Zt(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function Ht(n,t,r){var e=Dr(),u=-1;t=ct(t,function(n){return e(n)});var i=Bt(n,function(n){var r=ct(t,function(t){return t(n)});return{criteria:r,index:++u,value:n}});return Zt(i,function(n,t){return l(n,t,r)})}function Qt(n,t){var r=0;return No(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function nr(n,t){var r=-1,e=Mr(),i=n.length,o=e==u,f=o&&i>=B,a=f?_r():null,c=[];a?(e=Hn,o=!1):(f=!1,a=t?[]:c);n:for(;++r<i;){var l=n[r],s=t?t(l,r,n):l;if(o&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else e(a,s,0)<0&&((t||f)&&a.push(s),c.push(l))}return c}function tr(n,t){for(var r=-1,e=t.length,u=zi(e);++r<e;)u[r]=n[t[r]];return u}function rr(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Jt(n,e?0:i,e?i+1:u):Jt(n,e?i+1:0,e?u:i)}function er(n,t){var r=n;r instanceof nn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var i=t[e];r=i.func.apply(i.thisArg,lt([r],i.args))}return r}function ur(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&u<=$o){for(;e<u;){var i=e+u>>>1,o=n[i];(r?o<=t:o<t)&&null!==o?e=i+1:u=i}return u}return ir(n,t,Ri,r)}function ir(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=t===j;u<i;){var c=yo((u+i)/2),l=r(n[c]),s=l!==j,p=l===l;if(o)var h=p||e;else h=f?p&&s&&(e||null!=l):a?p&&(e||s):null!=l&&(e?l<=t:l<t);h?u=c+1:i=c}return Ao(i,Co)}function or(n,t,r){if("function"!=typeof n)return Ri;if(t===j)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function fr(n){var t=new io(n.byteLength),r=new ho(t);return r.set(new ho(n)),t}function ar(n,t,r){for(var e=r.length,u=-1,i=bo(n.length-e,0),o=-1,f=t.length,a=zi(f+i);++o<f;)a[o]=t[o];for(;++u<e;)a[r[u]]=n[u];for(;i--;)a[o++]=n[u++];return a}function cr(n,t,r){for(var e=-1,u=r.length,i=-1,o=bo(n.length-u,0),f=-1,a=t.length,c=zi(o+a);++i<o;)c[i]=n[i];for(var l=i;++f<a;)c[l+f]=t[f];for(;++e<u;)c[l+r[e]]=n[i++];return c}function lr(n,t){return function(r,e,u){var i=t?t():{};if(e=Dr(e,u,3),Cf(r))for(var o=-1,f=r.length;++o<f;){var a=r[o];n(i,a,e(a,o,r),r)}else No(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function sr(n){return yu(function(t,r){var e=-1,u=null==t?0:r.length,i=u>2?r[u-2]:j,o=u>2?r[2]:j,f=u>1?r[u-1]:j;for("function"==typeof i?(i=or(i,f,5),u-=2):(i="function"==typeof f?f:j,u-=i?1:0),o&&Qr(r[0],r[1],o)&&(i=u<3?j:i,u=1);++e<u;){var a=r[e];a&&n(t,a,i)}return t})}function pr(n,t){return function(r,e){var u=r?qo(r):0;if(!re(u))return n(r,e);for(var i=t?u:-1,o=se(r);(t?i--:++i<u)&&e(o[i],i,o)!==!1;);return r}}function hr(n){return function(t,r,e){for(var u=se(t),i=e(t),o=i.length,f=n?o:-1;n?f--:++f<o;){var a=i[f];if(r(u[a],a,u)===!1)break}return t}}function vr(n,t){function r(){var u=this&&this!==rt&&this instanceof r?e:n;return u.apply(t,arguments)}var e=yr(n);return r}function _r(n){return go&&lo?new Zn(n):null}function gr(n){return function(t){for(var r=-1,e=ji(li(t)),u=e.length,i="";++r<u;)i=n(i,e[r],r);return i}}function yr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fo(n.prototype),e=n.apply(r,t);return Wu(e)?e:r}}function dr(n){function t(r,e,u){u&&Qr(r,e,u)&&(e=j);var i=Tr(r,n,j,j,j,j,j,e);return i.placeholder=t.placeholder,i}return t}function wr(n,t){return yu(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(j,r))})}function mr(n,t){return function(r,e,u){if(u&&Qr(r,e,u)&&(e=j),e=Dr(e,u,3),1==e.length){r=Cf(r)?r:le(r);var i=ft(r,e,n,t);if(!r.length||i!==t)return i}return It(r,e,n,t)}}function xr(n,t){return function(r,u,i){if(u=Dr(u,i,3),Cf(r)){var o=e(r,u,t);return o>-1?r[o]:j}return Et(r,u,n)}}function br(n){return function(t,r,u){return t&&t.length?(r=Dr(r,u,3),e(t,r,n)):-1}}function Ar(n){return function(t,r,e){return r=Dr(r,e,3),Et(t,r,n,!0)}}function jr(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=zi(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if("function"!=typeof o)throw new Ji(q);!t&&X.prototype.thru&&"wrapper"==qr(o)&&(t=new X([],!0))}for(e=t?-1:r;++e<r;){o=i[e];var f=qr(o),a="wrapper"==f?Do(o):j;t=a&&te(a[0])&&a[1]==(S|E|$|W)&&!a[4].length&&1==a[9]?t[qr(a[0])].apply(t,a[3]):1==o.length&&te(o)?t[f]():t.thru(o)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Cf(e)&&e.length>=B)return t.plant(e).value();for(var u=0,o=r?i[u].apply(this,n):e;++u<r;)o=i[u].call(this,o);return o}}}function kr(n,t){return function(r,e,u){return"function"==typeof e&&u===j&&Cf(r)?n(r,e):t(r,or(e,u,3))}}function Ir(n){return function(t,r,e){return"function"==typeof r&&e===j||(r=or(r,e,3)),n(t,r,ni)}}function Rr(n){return function(t,r,e){return"function"==typeof r&&e===j||(r=or(r,e,3)),n(t,r)}}function Or(n){return function(t,r,e){var u={};return r=Dr(r,e,3),Ut(t,function(t,e,i){var o=r(t,e,i);e=n?o:e,t=n?t:o,u[e]=t}),u}}function Er(n){return function(t,r,e){return t=o(t),(n?t:"")+Sr(t,r,e)+(n?"":t)}}function Cr(n){var t=yu(function(r,e){var u=d(e,t.placeholder);return Tr(r,n,j,e,u)});return t}function $r(n,t){return function(r,e,u,i){var o=arguments.length<3;return"function"==typeof e&&i===j&&Cf(r)?n(r,e,u,o):Gt(r,Dr(e,i,4),u,o,t)}}function Ur(n,t,r,e,u,i,o,f,a,c){function l(){for(var w=arguments.length,m=w,x=zi(w);m--;)x[m]=arguments[m];if(e&&(x=ar(x,e,u)),i&&(x=cr(x,i,o)),v||g){var b=l.placeholder,A=d(x,b);if(w-=A.length,w<c){var k=f?tt(f):j,O=bo(c-w,0),E=v?A:j,C=v?j:A,S=v?x:j,W=v?j:x;t|=v?$:U,t&=~(v?U:$),_||(t&=~(I|R));var F=[n,t,r,S,E,W,C,k,a,O],N=Ur.apply(j,F);return te(n)&&Mo(N,F),N.placeholder=b,N}}var T=p?r:this,L=h?T[n]:n;return f&&(x=ae(x,f)),s&&a<x.length&&(x.length=a),this&&this!==rt&&this instanceof l&&(L=y||yr(n)),L.apply(T,x)}var s=t&S,p=t&I,h=t&R,v=t&E,_=t&O,g=t&C,y=h?j:yr(n);return l}function Sr(n,t,r){var e=n.length;if(t=+t,e>=t||!mo(t))return"";var u=t-e;return r=null==r?" ":r+"",gi(r,_o(u/r.length)).slice(0,u)}function Wr(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=zi(c+f);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];var s=this&&this!==rt&&this instanceof u?o:n;return s.apply(i?r:this,l)}var i=t&I,o=yr(n);return u}function Fr(n){var t=Pi[n];return function(n,r){return r=r===j?0:+r||0,r?(r=ao(10,r),t(n*r)/r):t(n)}}function Nr(n){return function(t,r,e,u){var i=Dr(e);return null==e&&i===xt?ur(t,r,n):ir(t,r,i(e,u,1),n)}}function Tr(n,t,r,e,u,i,o,f){var a=t&R;if(!a&&"function"!=typeof n)throw new Ji(q);var c=e?e.length:0;if(c||(t&=~($|U),e=u=j),c-=u?u.length:0,t&U){var l=e,s=u;e=u=j}var p=a?j:Do(n),h=[n,t,r,e,u,l,s,i,o,f];if(p&&(ue(h,p),t=h[1],f=h[9]),h[9]=null==f?a?0:n.length:bo(f-c,0)||0,t==I)var v=vr(h[0],h[2]);else v=t!=$&&t!=(I|$)||h[4].length?Ur.apply(j,h):Wr.apply(j,h);var _=p?zo:Mo;return _(v,h)}function Lr(n,t,r,e,u,i,o){var f=-1,a=n.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;for(;++f<a;){var l=n[f],s=t[f],p=e?e(u?s:l,u?l:s,f):j;if(p!==j){if(p)continue;return!1}if(u){if(!ht(t,function(n){return l===n||r(l,n,e,u,i,o)}))return!1}else if(l!==s&&!r(l,s,e,u,i,o))return!1}return!0}function Br(n,t,r){switch(r){case V:case Y:return+n==+t;case G:return n.name==t.name&&n.message==t.message;case Z:return n!=+n?t!=+t:n==+t;case Q:case tn:return n==t+""}return!1}function zr(n,t,r,e,u,i,o){var f=Df(n),a=f.length,c=Df(t),l=c.length;if(a!=l&&!u)return!1;for(var s=a;s--;){var p=f[s];if(!(u?p in t:no.call(t,p)))return!1}for(var h=u;++s<a;){p=f[s];var v=n[p],_=t[p],g=e?e(u?_:v,u?v:_,p):j;if(!(g===j?r(v,_,e,u,i,o):g))return!1;h||(h="constructor"==p)}if(!h){var y=n.constructor,d=t.constructor;if(y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d))return!1}return!0}function Dr(n,t,e){var u=r.callback||ki;return u=u===ki?xt:u,e?u(n,t,e):u}function qr(n){for(var t=n.name,r=Wo[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function Mr(n,t,e){var i=r.indexOf||je;return i=i===je?u:i,n?i(n,t,e):i}function Pr(n){for(var t=ti(n),r=t.length;r--;)t[r][2]=ee(t[r][1]);return t}function Kr(n,t){var r=null==n?j:n[t];return Tu(r)?r:j}function Vr(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Ao(t,n+o);break;case"takeRight":n=bo(n,t-o)}}return{start:n,end:t}}function Yr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&no.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Gr(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Vi),new t}function Jr(n,t,r){var e=n.constructor;switch(t){case en:return fr(n);case V:case Y:return new e(+n);case un:case on:case fn:case an:case cn:case ln:case sn:case pn:case hn:var u=n.buffer;return new e(r?fr(u):u,n.byteOffset,n.length);case Z:case tn:return new e(n);case Q:var i=new e(n.source,Un.exec(n));i.lastIndex=n.lastIndex}return i}function Xr(n,t,r){null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),t=Ie(t));var e=null==n?n:n[t];return null==e?j:e.apply(n,r)}function Zr(n){return null!=n&&re(qo(n))}function Hr(n,t){return n="number"==typeof n||Fn.test(n)?+n:-1,t=null==t?Uo:t,n>-1&&n%1==0&&n<t}function Qr(n,t,r){if(!Wu(r))return!1;var e=typeof t;if("number"==e?Zr(r)&&Hr(t,r.length):"string"==e&&t in r){var u=r[t];return n===n?n===u:u!==u}return!1}function ne(n,t){var r=typeof n;if("string"==r&&kn.test(n)||"number"==r)return!0;if(Cf(n))return!1;var e=!jn.test(n);return e||null!=t&&n in se(t)}function te(n){var t=qr(n);if(!(t in nn.prototype))return!1;var e=r[t];if(n===e)return!0;var u=Do(e);return!!u&&n===u[0]}function re(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Uo}function ee(n){return n===n&&!Wu(n)}function ue(n,t){var r=n[1],e=t[1],u=r|e,i=u<S,o=e==S&&r==E||e==S&&r==W&&n[7].length<=t[8]||e==(S|W)&&r==E;if(!i&&!o)return n;e&I&&(n[2]=t[2],u|=r&I?0:O);var f=t[3];if(f){var a=n[3];n[3]=a?ar(a,f,t[4]):tt(f),n[4]=a?d(n[3],M):tt(t[4])}return f=t[5],f&&(a=n[5],n[5]=a?cr(a,f,t[6]):tt(f),n[6]=a?d(n[5],M):tt(t[6])),f=t[7],f&&(n[7]=tt(f)),e&S&&(n[8]=null==n[8]?t[8]:Ao(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function ie(n,t){return n===j?t:$f(n,t,ie)}function oe(n,t){n=se(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function fe(n,t){var r={};return $t(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function ae(n,t){for(var r=n.length,e=Ao(t.length,r),u=tt(n);e--;){var i=t[e];n[e]=Hr(i,r)?u[i]:j}return n}function ce(n){for(var t=ni(n),r=t.length,e=r&&n.length,u=!!e&&re(e)&&(Cf(n)||ku(n)),i=-1,o=[];++i<r;){var f=t[i];(u&&Hr(f,e)||no.call(n,f))&&o.push(f)}return o}function le(n){return null==n?[]:Zr(n)?Wu(n)?n:Vi(n):ii(n)}function se(n){return Wu(n)?n:Vi(n)}function pe(n){if(Cf(n))return n;var t=[];return o(n).replace(In,function(n,r,e,u){t.push(e?u.replace(Cn,"$1"):r||n)}),t}function he(n){return n instanceof nn?n.clone():new X(n.__wrapped__,n.__chain__,tt(n.__actions__))}function ve(n,t,r){t=(r?Qr(n,t,r):null==t)?1:bo(yo(t)||1,1);for(var e=0,u=n?n.length:0,i=-1,o=zi(_o(u/t));e<u;)o[++i]=Jt(n,e,e+=t);return o}function _e(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u}function ge(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,t<0?0:t)):[]}function ye(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0,t<0?0:t)):[]}function de(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0,!0):[]}function we(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0):[]}function me(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Qr(n,t,r)&&(r=0,e=u),Rt(n,t,r,e)):[]}function xe(n){return n?n[0]:j}function be(n,t,r){var e=n?n.length:0;return r&&Qr(n,t,r)&&(t=!1),e?Ct(n,t):[]}function Ae(n){var t=n?n.length:0;return t?Ct(n,!0):[]}function je(n,t,r){var e=n?n.length:0;if(!e)return-1;if("number"==typeof r)r=r<0?bo(e+r,0):r;else if(r){var i=ur(n,t);return i<e&&(t===t?t===n[i]:n[i]!==n[i])?i:-1}return u(n,t,r||0)}function ke(n){return ye(n,1)}function Ie(n){var t=n?n.length:0;return t?n[t-1]:j}function Re(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(r<0?bo(e+r,0):Ao(r||0,e-1))+1;else if(r){u=ur(n,t,!0)-1;var i=n[u];return(t===t?t===i:i!==i)?u:-1}if(t!==t)return _(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1}function Oe(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=Mr(),u=n.length;++r<u;)for(var i=0,o=n[r];(i=e(t,o,i))>-1;)po.call(t,i,1);return t}function Ee(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=Dr(t,r,3);++u<o;){var f=n[u];t(f,u,n)&&(e.push(f),i.push(u))}return Vt(n,i),e}function Ce(n){return ge(n,1)}function $e(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Qr(n,t,r)&&(t=0,r=e),Jt(n,t,r)):[]}function Ue(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0,t<0?0:t)):[]}function Se(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,t<0?0:t)):[]}function We(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!1,!0):[]}function Fe(n,t,r){return n&&n.length?rr(n,Dr(t,r,3)):[]}function Ne(n,t,r,e){var i=n?n.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(e=r,r=Qr(n,t,e)?j:t,t=!1);var o=Dr();return null==r&&o===xt||(r=o(r,e,3)),t&&Mr()==u?w(n,r):nr(n,r)}function Te(n){if(!n||!n.length)return[];var t=-1,r=0;n=at(n,function(n){if(Zr(n))return r=bo(n.length,r),!0});for(var e=zi(r);++t<r;)e[t]=ct(n,Pt(t));return e}function Le(n,t,r){var e=n?n.length:0;if(!e)return[];var u=Te(n);return null==t?u:(t=or(t,r,4),ct(u,function(n){return st(n,t,j,!0)}))}function Be(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Zr(r))var e=e?lt(jt(e,r),jt(r,e)):r}return e?nr(e):[]}function ze(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Cf(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1])}return u}function De(n){var t=r(n);return t.__chain__=!0,t}function qe(n,t,r){return t.call(r,n),n}function Me(n,t,r){return t.call(r,n)}function Pe(){return De(this)}function Ke(){return new X(this.value(),this.__chain__)}function Ve(n){for(var t,r=this;r instanceof y;){var e=he(r);t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Ye(){var n=this.__wrapped__,t=function(n){return r&&r.__dir__<0?n:n.reverse()};if(n instanceof nn){var r=n;return this.__actions__.length&&(r=new nn(this)),r=r.reverse(),r.__actions__.push({func:Me,args:[t],thisArg:j}),new X(r,this.__chain__)}return this.thru(t)}function Ge(){return this.value()+""}function Je(){return er(this.__wrapped__,this.__actions__)}function Xe(n,t,r){var e=Cf(n)?ot:kt;return r&&Qr(n,t,r)&&(t=j),"function"==typeof t&&r===j||(t=Dr(t,r,3)),e(n,t)}function Ze(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,t)}function He(n,t){return uf(n,zt(t))}function Qe(n,t,r,e){var u=n?qo(n):0;return re(u)||(n=ii(n),u=n.length),r="number"!=typeof r||e&&Qr(t,r,e)?0:r<0?bo(u+r,0):r||0,"string"==typeof n||!Cf(n)&&qu(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&Mr(n,t,r)>-1}function nu(n,t,r){var e=Cf(n)?ct:Bt;return t=Dr(t,r,3),e(n,t)}function tu(n,t){return nu(n,Si(t))}function ru(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})}function eu(n,t,r){if(r?Qr(n,t,r):null==t){n=le(n);var e=n.length;return e>0?n[Yt(0,e-1)]:j}var u=-1,i=Yu(n),e=i.length,o=e-1;for(t=Ao(t<0?0:+t||0,e);++u<t;){var f=Yt(u,o),a=i[f];i[f]=i[u],i[u]=a}return i.length=t,i}function uu(n){return eu(n,Oo)}function iu(n){var t=n?qo(n):0;return re(t)?t:Df(n).length}function ou(n,t,r){var e=Cf(n)?ht:Xt;return r&&Qr(n,t,r)&&(t=j),"function"==typeof t&&r===j||(t=Dr(t,r,3)),e(n,t)}function fu(n,t,r){if(null==n)return[];r&&Qr(n,t,r)&&(t=j);var e=-1;t=Dr(t,r,3);var u=Bt(n,function(n,r,u){return{criteria:t(n,r,u),index:++e,value:n}});return Zt(u,c)}function au(n,t,r,e){return null==n?[]:(e&&Qr(t,r,e)&&(r=j),Cf(t)||(t=null==t?[]:[t]),Cf(r)||(r=null==r?[]:[r]),Ht(n,t,r))}function cu(n,t){return Ze(n,zt(t))}function lu(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Ji(q);var r=n;n=t,t=r}return n=mo(n=+n)?n:0,function(){if(--n<1)return t.apply(this,arguments)}}function su(n,t,r){return r&&Qr(n,t,r)&&(t=j),t=n&&null==t?n.length:bo(+t||0,0),Tr(n,S,j,j,j,j,t)}function pu(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Ji(q);var e=n;n=t,t=e}return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=j),r}}function hu(n,t,r){function e(){h&&oo(h),c&&oo(c),_=0,c=h=v=j}function u(t,r){r&&oo(r),c=h=v=j,t&&(_=gf(),l=n.apply(p,a),h||c||(a=p=j))}function i(){var n=t-(gf()-s);n<=0||n>t?u(v,c):h=so(i,n)}function o(){u(y,h)}function f(){if(a=arguments,s=gf(),p=this,v=y&&(h||!d),g===!1)var r=d&&!h;else{c||d||(_=s);var e=g-(s-_),u=e<=0||e>g;u?(c&&(c=oo(c)),_=s,l=n.apply(p,a)):c||(c=so(o,e))}return u&&h?h=oo(h):h||t===g||(h=so(i,t)),r&&(u=!0,l=n.apply(p,a)),!u||h||c||(a=p=j),l}var a,c,l,s,p,h,v,_=0,g=!1,y=!0;if("function"!=typeof n)throw new Ji(q);if(t=t<0?0:+t||0,r===!0){var d=!0;y=!1}else Wu(r)&&(d=!!r.leading,g="maxWait"in r&&bo(+r.maxWait||0,t),y="trailing"in r?!!r.trailing:y);return f.cancel=e,f}function vu(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Ji(q);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new vu.Cache,r}function _u(n){if("function"!=typeof n)throw new Ji(q);return function(){return!n.apply(this,arguments)}}function gu(n){return pu(2,n)}function yu(n,t){if("function"!=typeof n)throw new Ji(q);return t=bo(t===j?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bo(r.length-t,0),i=zi(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}var o=zi(t+1);for(e=-1;++e<t;)o[e]=r[e];return o[t]=i,n.apply(this,o)}}function du(n){if("function"!=typeof n)throw new Ji(q);return function(t){return n.apply(this,t)}}function wu(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Ji(q);return r===!1?e=!1:Wu(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),hu(n,t,{leading:e,maxWait:+t,trailing:u})}function mu(n,t){return t=null==t?Ri:t,Tr(t,$,j,[n],[])}function xu(n,t,r,e){return t&&"boolean"!=typeof t&&Qr(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?bt(n,t,or(r,e,1)):bt(n,t)}function bu(n,t,r){return"function"==typeof t?bt(n,!0,or(t,r,1)):bt(n,!0)}function Au(n,t){return n>t}function ju(n,t){return n>=t}function ku(n){return g(n)&&Zr(n)&&no.call(n,"callee")&&!co.call(n,"callee")}function Iu(n){return n===!0||n===!1||g(n)&&ro.call(n)==V}function Ru(n){return g(n)&&ro.call(n)==Y}function Ou(n){return!!n&&1===n.nodeType&&g(n)&&!zu(n)}function Eu(n){return null==n||(Zr(n)&&(Cf(n)||qu(n)||ku(n)||g(n)&&Su(n.splice))?!n.length:!Df(n).length)}function Cu(n,t,r,e){r="function"==typeof r?or(r,e,3):j;var u=r?r(n,t):j;return u===j?Nt(n,t,r):!!u}function $u(n){return g(n)&&"string"==typeof n.message&&ro.call(n)==G}function Uu(n){return"number"==typeof n&&mo(n)}function Su(n){return Wu(n)&&ro.call(n)==J}function Wu(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Fu(n,t,r,e){return r="function"==typeof r?or(r,e,3):j,Lt(n,Pr(t),r)}function Nu(n){return Bu(n)&&n!=+n}function Tu(n){return null!=n&&(Su(n)?uo.test(Qi.call(n)):g(n)&&Wn.test(n))}function Lu(n){return null===n}function Bu(n){return"number"==typeof n||g(n)&&ro.call(n)==Z}function zu(n){var t;if(!g(n)||ro.call(n)!=H||ku(n)||!no.call(n,"constructor")&&(t=n.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;return $t(n,function(n,t){r=t}),r===j||no.call(n,r)}function Du(n){return Wu(n)&&ro.call(n)==Q}function qu(n){return"string"==typeof n||g(n)&&ro.call(n)==tn}function Mu(n){return g(n)&&re(n.length)&&!!qn[ro.call(n)]}function Pu(n){return n===j}function Ku(n,t){return n<t}function Vu(n,t){return n<=t}function Yu(n){var t=n?qo(n):0;return re(t)?t?tt(n):[]:ii(n)}function Gu(n){return mt(n,ni(n))}function Ju(n,t,r){var e=Fo(n);return r&&Qr(n,t,r)&&(t=j),t?dt(e,t):e}function Xu(n){return Wt(n,ni(n))}function Zu(n,t,r){var e=null==n?j:Ft(n,pe(t),t+"");return e===j?r:e}function Hu(n,t){if(null==n)return!1;var r=no.call(n,t);if(!r&&!ne(t)){if(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),null==n)return!1;t=Ie(t),r=no.call(n,t)}return r||re(n.length)&&Hr(t,n.length)&&(Cf(n)||ku(n))}function Qu(n,t,r){r&&Qr(n,t,r)&&(t=j);for(var e=-1,u=Df(n),i=u.length,o={};++e<i;){var f=u[e],a=n[f];t?no.call(o,a)?o[a].push(f):o[a]=[f]:o[a]=f}return o}function ni(n){if(null==n)return[];Wu(n)||(n=Vi(n));var t=n.length;t=t&&re(t)&&(Cf(n)||ku(n))&&t||0;for(var r=n.constructor,e=-1,u="function"==typeof r&&r.prototype===n,i=zi(t),o=t>0;++e<t;)i[e]=e+"";for(var f in n)o&&Hr(f,t)||"constructor"==f&&(u||!no.call(n,f))||i.push(f);return i}function ti(n){n=se(n);for(var t=-1,r=Df(n),e=r.length,u=zi(e);++t<e;){var i=r[t];u[t]=[i,n[i]]}return u}function ri(n,t,r){var e=null==n?j:n[t];return e===j&&(null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),e=null==n?j:n[Ie(t)]),e=e===j?r:e),Su(e)?e.call(n):e}function ei(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||ne(t,n)?[e]:pe(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=t[u];Wu(f)&&(u==o?f[a]=r:null==f[a]&&(f[a]=Hr(t[u+1])?[]:{})),f=f[a]}return n}function ui(n,t,r,e){var u=Cf(n)||Mu(n);if(t=Dr(t,e,4),null==r)if(u||Wu(n)){var i=n.constructor;r=u?Cf(n)?new i:[]:Fo(Su(i)?i.prototype:j)}else r={};return(u?ut:Ut)(n,function(n,e,u){return t(r,n,e,u)}),r}function ii(n){return tr(n,Df(n))}function oi(n){return tr(n,ni(n))}function fi(n,t,r){return t=+t||0,r===j?(r=t,t=0):r=+r||0,n>=Ao(t,r)&&n<bo(t,r)}function ai(n,t,r){r&&Qr(n,t,r)&&(t=r=j);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var i=Io();return Ao(n+i*(t-n+fo("1e-"+((i+"").length-1))),t)}return Yt(n,t)}function ci(n){return n=o(n),n&&n.charAt(0).toUpperCase()+n.slice(1);
}function li(n){return n=o(n),n&&n.replace(Nn,s).replace(En,"")}function si(n,t,r){n=o(n),t+="";var e=n.length;return r=r===j?e:Ao(r<0?0:+r||0,e),r-=t.length,r>=0&&n.indexOf(t,r)==r}function pi(n){return n=o(n),n&&mn.test(n)?n.replace(dn,p):n}function hi(n){return n=o(n),n&&On.test(n)?n.replace(Rn,h):n||"(?:)"}function vi(n,t,r){n=o(n),t=+t;var e=n.length;if(e>=t||!mo(t))return n;var u=(t-e)/2,i=yo(u),f=_o(u);return r=Sr("",f,r),r.slice(0,i)+n+r}function _i(n,t,r){return(r?Qr(n,t,r):null==t)?t=0:t&&(t=+t),n=wi(n),ko(n,t||(Sn.test(n)?16:10))}function gi(n,t){var r="";if(n=o(n),t=+t,t<1||!n||!mo(t))return r;do t%2&&(r+=n),t=yo(t/2),n+=n;while(t);return r}function yi(n,t,r){return n=o(n),r=null==r?0:Ao(r<0?0:+r||0,n.length),n.lastIndexOf(t,r)==r}function di(n,t,e){var u=r.templateSettings;e&&Qr(n,t,e)&&(t=e=j),n=o(n),t=yt(dt({},e||t),u,gt);var i,f,a=yt(dt({},t.imports),u.imports,gt),c=Df(a),l=tr(a,c),s=0,p=t.interpolate||Tn,h="__p += '",_=Yi((t.escape||Tn).source+"|"+p.source+"|"+(p===An?$n:Tn).source+"|"+(t.evaluate||Tn).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Dn+"]")+"\n";n.replace(_,function(t,r,e,u,o,a){return e||(e=u),h+=n.slice(s,a).replace(Ln,v),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),o&&(f=!0,h+="';\n"+o+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),s=a+t.length,t}),h+="';\n";var y=t.variable;y||(h="with (obj) {\n"+h+"\n}\n"),h=(f?h.replace(vn,""):h).replace(_n,"$1").replace(gn,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var d=Hf(function(){return Mi(c,g+"return "+h).apply(j,l)});if(d.source=h,$u(d))throw d;return d}function wi(n,t,r){var e=n;return(n=o(n))?(r?Qr(e,t,r):null==t)?n.slice(m(n),x(n)+1):(t+="",n.slice(f(n,t),a(n,t)+1)):n}function mi(n,t,r){var e=n;return n=o(n),n?(r?Qr(e,t,r):null==t)?n.slice(m(n)):n.slice(f(n,t+"")):n}function xi(n,t,r){var e=n;return n=o(n),n?(r?Qr(e,t,r):null==t)?n.slice(0,x(n)+1):n.slice(0,a(n,t+"")+1):n}function bi(n,t,r){r&&Qr(n,t,r)&&(t=j);var e=F,u=N;if(null!=t)if(Wu(t)){var i="separator"in t?t.separator:i;e="length"in t?+t.length||0:e,u="omission"in t?o(t.omission):u}else e=+t||0;if(n=o(n),e>=n.length)return n;var f=e-u.length;if(f<1)return u;var a=n.slice(0,f);if(null==i)return a+u;if(Du(i)){if(n.slice(f).search(i)){var c,l,s=n.slice(0,f);for(i.global||(i=Yi(i.source,(Un.exec(i)||"")+"g")),i.lastIndex=0;c=i.exec(s);)l=c.index;a=a.slice(0,null==l?f:l)}}else if(n.indexOf(i,f)!=f){var p=a.lastIndexOf(i);p>-1&&(a=a.slice(0,p))}return a+u}function Ai(n){return n=o(n),n&&wn.test(n)?n.replace(yn,b):n}function ji(n,t,r){return r&&Qr(n,t,r)&&(t=j),n=o(n),n.match(t||Bn)||[]}function ki(n,t,r){return r&&Qr(n,t,r)&&(t=j),g(n)?Oi(n):xt(n,t)}function Ii(n){return function(){return n}}function Ri(n){return n}function Oi(n){return zt(bt(n,!0))}function Ei(n,t){return Dt(n,bt(t,!0))}function Ci(n,t,r){if(null==r){var e=Wu(t),u=e?Df(t):j,i=u&&u.length?Wt(t,u):j;(i?i.length:e)||(i=!1,r=t,t=n,n=this)}i||(i=Wt(t,Df(t)));var o=!0,f=-1,a=Su(n),c=i.length;r===!1?o=!1:Wu(r)&&"chain"in r&&(o=r.chain);for(;++f<c;){var l=i[f],s=t[l];n[l]=s,a&&(n.prototype[l]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__),u=e.__actions__=tt(this.__actions__);return u.push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,lt([this.value()],arguments))}}(s))}return n}function $i(){return rt._=eo,this}function Ui(){}function Si(n){return ne(n)?Pt(n):Kt(n)}function Wi(n){return function(t){return Ft(n,pe(t),t+"")}}function Fi(n,t,r){r&&Qr(n,t,r)&&(t=r=j),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,u=bo(_o((t-n)/(r||1)),0),i=zi(u);++e<u;)i[e]=n,n+=r;return i}function Ni(n,t,r){if(n=yo(n),n<1||!mo(n))return[];var e=-1,u=zi(Ao(n,Eo));for(t=or(t,r,1);++e<n;)e<Eo?u[e]=t(e):t(e);return u}function Ti(n){var t=++to;return o(n)+t}function Li(n,t){return(+n||0)+(+t||0)}function Bi(n,t,r){return r&&Qr(n,t,r)&&(t=j),t=Dr(t,r,3),1==t.length?vt(Cf(n)?n:le(n),t):Qt(n,t)}t=t?et.defaults(rt.Object(),t,et.pick(rt,zn)):rt;var zi=t.Array,Di=t.Date,qi=t.Error,Mi=t.Function,Pi=t.Math,Ki=t.Number,Vi=t.Object,Yi=t.RegExp,Gi=t.String,Ji=t.TypeError,Xi=zi.prototype,Zi=Vi.prototype,Hi=Gi.prototype,Qi=Mi.prototype.toString,no=Zi.hasOwnProperty,to=0,ro=Zi.toString,eo=rt._,uo=Yi("^"+Qi.call(no).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=t.ArrayBuffer,oo=t.clearTimeout,fo=t.parseFloat,ao=Pi.pow,co=Zi.propertyIsEnumerable,lo=Kr(t,"Set"),so=t.setTimeout,po=Xi.splice,ho=t.Uint8Array,vo=Kr(t,"WeakMap"),_o=Pi.ceil,go=Kr(Vi,"create"),yo=Pi.floor,wo=Kr(zi,"isArray"),mo=t.isFinite,xo=Kr(Vi,"keys"),bo=Pi.max,Ao=Pi.min,jo=Kr(Di,"now"),ko=t.parseInt,Io=Pi.random,Ro=Ki.NEGATIVE_INFINITY,Oo=Ki.POSITIVE_INFINITY,Eo=4294967295,Co=Eo-1,$o=Eo>>>1,Uo=9007199254740991,So=vo&&new vo,Wo={};r.support={};r.templateSettings={escape:xn,evaluate:bn,interpolate:An,variable:"",imports:{_:r}};var Fo=function(){function n(){}return function(t){if(Wu(t)){n.prototype=t;var r=new n;n.prototype=j}return r||{}}}(),No=pr(Ut),To=pr(St,!0),Lo=hr(),Bo=hr(!0),zo=So?function(n,t){return So.set(n,t),n}:Ri,Do=So?function(n){return So.get(n)}:Ui,qo=Pt("length"),Mo=function(){var n=0,t=0;return function(r,e){var u=gf(),i=L-(u-t);if(t=u,i>0){if(++n>=T)return r}else n=0;return zo(r,e)}}(),Po=yu(function(n,t){return g(n)&&Zr(n)?jt(n,Ct(t,!1,!0)):[]}),Ko=br(),Vo=br(!0),Yo=yu(function(n){for(var t=n.length,r=t,e=zi(s),i=Mr(),o=i==u,f=[];r--;){var a=n[r]=Zr(a=n[r])?a:[];e[r]=o&&a.length>=120?_r(r&&a):null}var c=n[0],l=-1,s=c?c.length:0,p=e[0];n:for(;++l<s;)if(a=c[l],(p?Hn(p,a):i(f,a,0))<0){for(var r=t;--r;){var h=e[r];if((h?Hn(h,a):i(n[r],a,0))<0)continue n}p&&p.push(a),f.push(a)}return f}),Go=yu(function(t,r){r=Ct(r);var e=wt(t,r);return Vt(t,r.sort(n)),e}),Jo=Nr(),Xo=Nr(!0),Zo=yu(function(n){return nr(Ct(n,!1,!0))}),Ho=yu(function(n,t){return Zr(n)?jt(n,t):[]}),Qo=yu(Te),nf=yu(function(n){var t=n.length,r=t>2?n[t-2]:j,e=t>1?n[t-1]:j;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):j,e=j),n.length=t,Le(n,r,e)}),tf=yu(function(n){return n=Ct(n),this.thru(function(t){return nt(Cf(t)?t:[se(t)],n)})}),rf=yu(function(n,t){return wt(n,Ct(t))}),ef=lr(function(n,t,r){no.call(n,r)?++n[r]:n[r]=1}),uf=xr(No),of=xr(To,!0),ff=kr(ut,No),af=kr(it,To),cf=lr(function(n,t,r){no.call(n,r)?n[r].push(t):n[r]=[t]}),lf=lr(function(n,t,r){n[r]=t}),sf=yu(function(n,t,r){var e=-1,u="function"==typeof t,i=ne(t),o=Zr(n)?zi(n.length):[];return No(n,function(n){var f=u?t:i&&null!=n?n[t]:j;o[++e]=f?f.apply(n,r):Xr(n,t,r)}),o}),pf=lr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),hf=$r(st,No),vf=$r(pt,To),_f=yu(function(n,t){if(null==n)return[];var r=t[2];return r&&Qr(t[0],t[1],r)&&(t.length=1),Ht(n,Ct(t),[])}),gf=jo||function(){return(new Di).getTime()},yf=yu(function(n,t,r){var e=I;if(r.length){var u=d(r,yf.placeholder);e|=$}return Tr(n,e,t,r,u)}),df=yu(function(n,t){t=t.length?Ct(t):Xu(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=Tr(n[u],I,n)}return n}),wf=yu(function(n,t,r){var e=I|R;if(r.length){var u=d(r,wf.placeholder);e|=$}return Tr(t,e,n,r,u)}),mf=dr(E),xf=dr(C),bf=yu(function(n,t){return At(n,1,t)}),Af=yu(function(n,t,r){return At(n,t,r)}),jf=jr(),kf=jr(!0),If=yu(function(n,t){if(t=Ct(t),"function"!=typeof n||!ot(t,i))throw new Ji(q);var r=t.length;return yu(function(e){for(var u=Ao(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),Rf=Cr($),Of=Cr(U),Ef=yu(function(n,t){return Tr(n,W,j,j,j,Ct(t))}),Cf=wo||function(n){return g(n)&&re(n.length)&&ro.call(n)==K},$f=sr(qt),Uf=sr(function(n,t,r){return r?yt(n,t,r):dt(n,t)}),Sf=wr(Uf,_t),Wf=wr($f,ie),Ff=Ar(Ut),Nf=Ar(St),Tf=Ir(Lo),Lf=Ir(Bo),Bf=Rr(Ut),zf=Rr(St),Df=xo?function(n){var t=null==n?j:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Zr(n)?ce(n):Wu(n)?xo(n):[]}:ce,qf=Or(!0),Mf=Or(),Pf=yu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=ct(Ct(t),Gi);return oe(n,jt(ni(n),t))}var r=or(t[0],t[1],3);return fe(n,function(n,t,e){return!r(n,t,e)})}),Kf=yu(function(n,t){return null==n?{}:"function"==typeof t[0]?fe(n,or(t[0],t[1],3)):oe(n,Ct(t))}),Vf=gr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Yf=gr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Gf=Er(),Jf=Er(!0),Xf=gr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Zf=gr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Hf=yu(function(n,t){try{return n.apply(j,t)}catch(n){return $u(n)?n:new qi(n)}}),Qf=yu(function(n,t){return function(r){return Xr(r,n,t)}}),na=yu(function(n,t){return function(r){return Xr(n,r,t)}}),ta=Fr("ceil"),ra=Fr("floor"),ea=mr(Au,Ro),ua=mr(Ku,Oo),ia=Fr("round");return r.prototype=y.prototype,X.prototype=Fo(y.prototype),X.prototype.constructor=X,nn.prototype=Fo(y.prototype),nn.prototype.constructor=nn,Vn.prototype.delete=Yn,Vn.prototype.get=Gn,Vn.prototype.has=Jn,Vn.prototype.set=Xn,Zn.prototype.push=Qn,vu.Cache=Vn,r.after=lu,r.ary=su,r.assign=Uf,r.at=rf,r.before=pu,r.bind=yf,r.bindAll=df,r.bindKey=wf,r.callback=ki,r.chain=De,r.chunk=ve,r.compact=_e,r.constant=Ii,r.countBy=ef,r.create=Ju,r.curry=mf,r.curryRight=xf,r.debounce=hu,r.defaults=Sf,r.defaultsDeep=Wf,r.defer=bf,r.delay=Af,r.difference=Po,r.drop=ge,r.dropRight=ye,r.dropRightWhile=de,r.dropWhile=we,r.fill=me,r.filter=Ze,r.flatten=be,r.flattenDeep=Ae,r.flow=jf,r.flowRight=kf,r.forEach=ff,r.forEachRight=af,r.forIn=Tf,r.forInRight=Lf,r.forOwn=Bf,r.forOwnRight=zf,r.functions=Xu,r.groupBy=cf,r.indexBy=lf,r.initial=ke,r.intersection=Yo,r.invert=Qu,r.invoke=sf,r.keys=Df,r.keysIn=ni,r.map=nu,r.mapKeys=qf,r.mapValues=Mf,r.matches=Oi,r.matchesProperty=Ei,r.memoize=vu,r.merge=$f,r.method=Qf,r.methodOf=na,r.mixin=Ci,r.modArgs=If,r.negate=_u,r.omit=Pf,r.once=gu,r.pairs=ti,r.partial=Rf,r.partialRight=Of,r.partition=pf,r.pick=Kf,r.pluck=tu,r.property=Si,r.propertyOf=Wi,r.pull=Oe,r.pullAt=Go,r.range=Fi,r.rearg=Ef,r.reject=ru,r.remove=Ee,r.rest=Ce,r.restParam=yu,r.set=ei,r.shuffle=uu,r.slice=$e,r.sortBy=fu,r.sortByAll=_f,r.sortByOrder=au,r.spread=du,r.take=Ue,r.takeRight=Se,r.takeRightWhile=We,r.takeWhile=Fe,r.tap=qe,r.throttle=wu,r.thru=Me,r.times=Ni,r.toArray=Yu,r.toPlainObject=Gu,r.transform=ui,r.union=Zo,r.uniq=Ne,r.unzip=Te,r.unzipWith=Le,r.values=ii,r.valuesIn=oi,r.where=cu,r.without=Ho,r.wrap=mu,r.xor=Be,r.zip=Qo,r.zipObject=ze,r.zipWith=nf,r.backflow=kf,r.collect=nu,r.compose=kf,r.each=ff,r.eachRight=af,r.extend=Uf,r.iteratee=ki,r.methods=Xu,r.object=ze,r.select=Ze,r.tail=Ce,r.unique=Ne,Ci(r,r),r.add=Li,r.attempt=Hf,r.camelCase=Vf,r.capitalize=ci,r.ceil=ta,r.clone=xu,r.cloneDeep=bu,r.deburr=li,r.endsWith=si,r.escape=pi,r.escapeRegExp=hi,r.every=Xe,r.find=uf,r.findIndex=Ko,r.findKey=Ff,r.findLast=of,r.findLastIndex=Vo,r.findLastKey=Nf,r.findWhere=He,r.first=xe,r.floor=ra,r.get=Zu,r.gt=Au,r.gte=ju,r.has=Hu,r.identity=Ri,r.includes=Qe,r.indexOf=je,r.inRange=fi,r.isArguments=ku,r.isArray=Cf,r.isBoolean=Iu,r.isDate=Ru,r.isElement=Ou,r.isEmpty=Eu,r.isEqual=Cu,r.isError=$u,r.isFinite=Uu,r.isFunction=Su,r.isMatch=Fu,r.isNaN=Nu,r.isNative=Tu,r.isNull=Lu,r.isNumber=Bu,r.isObject=Wu,r.isPlainObject=zu,r.isRegExp=Du,r.isString=qu,r.isTypedArray=Mu,r.isUndefined=Pu,r.kebabCase=Yf,r.last=Ie,r.lastIndexOf=Re,r.lt=Ku,r.lte=Vu,r.max=ea,r.min=ua,r.noConflict=$i,r.noop=Ui,r.now=gf,r.pad=vi,r.padLeft=Gf,r.padRight=Jf,r.parseInt=_i,r.random=ai,r.reduce=hf,r.reduceRight=vf,r.repeat=gi,r.result=ri,r.round=ia,r.runInContext=A,r.size=iu,r.snakeCase=Xf,r.some=ou,r.sortedIndex=Jo,r.sortedLastIndex=Xo,r.startCase=Zf,r.startsWith=yi,r.sum=Bi,r.template=di,r.trim=wi,r.trimLeft=mi,r.trimRight=xi,r.trunc=bi,r.unescape=Ai,r.uniqueId=Ti,r.words=ji,r.all=Xe,r.any=ou,r.contains=Qe,r.eq=Cu,r.detect=uf,r.foldl=hf,r.foldr=vf,r.head=xe,r.include=Qe,r.inject=hf,Ci(r,function(){var n={};return Ut(r,function(t,e){r.prototype[e]||(n[e]=t)}),n}(),!1),r.sample=eu,r.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return eu(t,n)}):eu(this.value())},r.VERSION=k,ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){r[n].placeholder=r}),ut(["drop","take"],function(n,t){nn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new nn(this);r=null==r?1:bo(yo(r)||0,0);var u=this.clone();return e?u.__takeCount__=Ao(u.__takeCount__,r):u.__views__.push({size:r,type:n+(u.__dir__<0?"Right":"")}),u},nn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),ut(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=D;nn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:Dr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),ut(["first","last"],function(n,t){var r="take"+(t?"Right":"");nn.prototype[n]=function(){return this[r](1).value()[0]}}),ut(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");nn.prototype[n]=function(){return this.__filtered__?new nn(this):this[r](1)}}),ut(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?zt:Si;nn.prototype[n]=function(n){return this[r](e(n))}}),nn.prototype.compact=function(){return this.filter(Ri)},nn.prototype.reject=function(n,t){return n=Dr(n,t,1),this.filter(function(t){return!n(t)})},nn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(n>0||t<0)?new nn(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==j&&(t=+t||0,r=t<0?r.dropRight(-t):r.take(t-n)),r)},nn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},nn.prototype.toArray=function(){return this.take(Oo)},Ut(nn.prototype,function(n,t){var e=/^(?:filter|map|reject)|While$/.test(t),u=/^(?:first|last)$/.test(t),i=r[u?"take"+("last"==t?"Right":""):t];i&&(r.prototype[t]=function(){var t=u?[1]:arguments,r=this.__chain__,o=this.__wrapped__,f=!!this.__actions__.length,a=o instanceof nn,c=t[0],l=a||Cf(o);l&&e&&"function"==typeof c&&1!=c.length&&(a=l=!1);var s=function(n){return u&&r?i(n,1)[0]:i.apply(j,lt([n],t))},p={func:Me,args:[s],thisArg:j},h=a&&!f;if(u&&!r)return h?(o=o.clone(),o.__actions__.push(p),n.call(o)):i.call(j,this.value())[0];if(!u&&l){o=h?o:new nn(this);var v=n.apply(o,t);return v.__actions__.push(p),new X(v,r)}return this.thru(s)})}),ut(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Hi:Xi)[n],e=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",u=/^(?:join|pop|replace|shift)$/.test(n);r.prototype[n]=function(){var n=arguments;return u&&!this.__chain__?t.apply(this.value(),n):this[e](function(r){return t.apply(r,n)})}}),Ut(nn.prototype,function(n,t){var e=r[t];if(e){var u=e.name,i=Wo[u]||(Wo[u]=[]);i.push({name:t,func:e})}}),Wo[Ur(j,R).name]=[{name:"wrapper",func:j}],nn.prototype.clone=rn,nn.prototype.reverse=Pn,nn.prototype.value=Kn,r.prototype.chain=Pe,r.prototype.commit=Ke,r.prototype.concat=tf,r.prototype.plant=Ve,r.prototype.reverse=Ye,r.prototype.toString=Ge,r.prototype.run=r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=Je,r.prototype.collect=r.prototype.map,r.prototype.head=r.prototype.first,r.prototype.select=r.prototype.filter,r.prototype.tail=r.prototype.rest,r}var j,k="3.10.1",I=1,R=2,O=4,E=8,C=16,$=32,U=64,S=128,W=256,F=30,N="...",T=150,L=16,B=200,z=1,D=2,q="Expected a function",M="__lodash_placeholder__",P="[object Arguments]",K="[object Array]",V="[object Boolean]",Y="[object Date]",G="[object Error]",J="[object Function]",X="[object Map]",Z="[object Number]",H="[object Object]",Q="[object RegExp]",nn="[object Set]",tn="[object String]",rn="[object WeakMap]",en="[object ArrayBuffer]",un="[object Float32Array]",on="[object Float64Array]",fn="[object Int8Array]",an="[object Int16Array]",cn="[object Int32Array]",ln="[object Uint8Array]",sn="[object Uint8ClampedArray]",pn="[object Uint16Array]",hn="[object Uint32Array]",vn=/\b__p \+= '';/g,_n=/\b(__p \+=) '' \+/g,gn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yn=/&(?:amp|lt|gt|quot|#39|#96);/g,dn=/[&<>"'`]/g,wn=RegExp(yn.source),mn=RegExp(dn.source),xn=/<%-([\s\S]+?)%>/g,bn=/<%([\s\S]+?)%>/g,An=/<%=([\s\S]+?)%>/g,jn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,kn=/^\w*$/,In=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Rn=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,On=RegExp(Rn.source),En=/[\u0300-\u036f\ufe20-\ufe23]/g,Cn=/\\(\\)?/g,$n=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Un=/\w*$/,Sn=/^0[xX]/,Wn=/^\[object .+?Constructor\]$/,Fn=/^\d+$/,Nn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Tn=/($^)/,Ln=/['\n\r\u2028\u2029\\]/g,Bn=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),zn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Dn=-1,qn={};qn[un]=qn[on]=qn[fn]=qn[an]=qn[cn]=qn[ln]=qn[sn]=qn[pn]=qn[hn]=!0,qn[P]=qn[K]=qn[en]=qn[V]=qn[Y]=qn[G]=qn[J]=qn[X]=qn[Z]=qn[H]=qn[Q]=qn[nn]=qn[tn]=qn[rn]=!1;var Mn={};Mn[P]=Mn[K]=Mn[en]=Mn[V]=Mn[Y]=Mn[un]=Mn[on]=Mn[fn]=Mn[an]=Mn[cn]=Mn[Z]=Mn[H]=Mn[Q]=Mn[tn]=Mn[ln]=Mn[sn]=Mn[pn]=Mn[hn]=!0,Mn[G]=Mn[J]=Mn[X]=Mn[nn]=Mn[rn]=!1;var Pn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Vn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Yn={function:!0,object:!0},Gn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Jn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xn=Yn[typeof t]&&t&&!t.nodeType&&t,Zn=Yn[typeof r]&&r&&!r.nodeType&&r,Hn=Xn&&Zn&&"object"==typeof global&&global&&global.Object&&global,Qn=Yn[typeof self]&&self&&self.Object&&self,nt=Yn[typeof window]&&window&&window.Object&&window,tt=Zn&&Zn.exports===Xn&&Xn,rt=Hn||nt!==(this&&this.window)&&nt||Qn||this,et=A();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(rt._=et,define(function(){return et})):Xn&&Zn?tt?(Zn.exports=et)._=et:Xn._=et:rt._=et}).call(this)});
$_mod.installed("onigurumajs$1.0.0","xregexp","3.1.1");
$_mod.main("/xregexp$3.1.1","src/index");
$_mod.def("/xregexp$3.1.1/src/xregexp",function(e,n,t,r,a){"use strict";function l(e){var n=!0;try{new RegExp("",e)}catch(e){n=!1}return n&&"y"===e?new RegExp("aa|.","y").test("b"):n}function o(e,n,t,r,a){var l;if(e[N]={captureNames:n},a)return e;if(e.__proto__)e.__proto__=k.prototype;else for(l in k.prototype)e[l]=k.prototype[l];return e[N].source=t,e[N].flags=r?r.split("").sort().join(""):r,e}function i(e){return R.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function c(e,n){if(!k.isRegExp(e))throw new TypeError("Type RegExp expected");var t=e[N]||{},r=u(e),a="",l="",c=null,s=null;return n=n||{},n.removeG&&(l+="g"),n.removeY&&(l+="y"),l&&(r=R.replace.call(r,new RegExp("["+l+"]+","g"),"")),n.addG&&(a+="g"),n.addY&&(a+="y"),a&&(r=i(r+a)),n.isInternalOnly||(void 0!==t.source&&(c=t.source),null!=t.flags&&(s=a?i(t.flags+a):t.flags)),e=o(new RegExp(e.source,r),p(e)?t.captureNames.slice(0):null,c,s,n.isInternalOnly)}function s(e){return parseInt(e,16)}function u(e){return z?e.flags:R.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}function p(e){return!(!e[N]||!e[N].captureNames)}function f(e){return parseInt(e,10).toString(16)}function g(e,n){var t,r=e.length;for(t=0;t<r;++t)if(e[t]===n)return t;return-1}function d(e,n){return B.call(e)==="[object "+n+"]"}function h(e,n,t){return R.test.call(t.indexOf("x")>-1?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,e.slice(n))}function x(e){for(;e.length<4;)e="0"+e;return e}function y(e,n){var t;if(i(n)!==n)throw new SyntaxError("Invalid duplicate regex flag "+n);for(e=R.replace.call(e,/^\(\?([\w$]+)\)/,function(e,t){if(R.test.call(/[gy]/,t))throw new SyntaxError("Cannot use flag g or y in mode modifier "+e);return n=i(n+t),""}),t=0;t<n.length;++t)if(!U[n.charAt(t)])throw new SyntaxError("Unknown regex flag "+n.charAt(t));return{pattern:e,flags:n}}function v(e){var n={};return d(e,"String")?(k.forEach(e,/[^\s,]+/,function(e){n[e]=!0}),n):e}function w(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");U[e]=!0}function m(e,n,t,r,a){for(var l,o,i=_.length,c=e.charAt(t),s=null;i--;)if(o=_[i],!(o.leadChar&&o.leadChar!==c||o.scope!==r&&"all"!==o.scope||o.flag&&n.indexOf(o.flag)===-1)&&(l=k.exec(e,o.regex,t,"sticky"))){s={matchLength:l[0].length,output:o.handler.call(a,l,r,n),reparse:o.reparse};break}return s}function E(e){C.astral=e}function S(e){RegExp.prototype.exec=(e?b:R).exec,RegExp.prototype.test=(e?b:R).test,String.prototype.match=(e?b:R).match,String.prototype.replace=(e?b:R).replace,String.prototype.split=(e?b:R).split,C.natives=e}function I(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function k(e,n){if(k.isRegExp(e)){if(void 0!==n)throw new TypeError("Cannot supply flags when copying a RegExp");return c(e)}if(e=void 0===e?"":String(e),n=void 0===n?"":String(n),k.isInstalled("astral")&&n.indexOf("A")===-1&&(n+="A"),F[e]||(F[e]={}),!F[e][n]){for(var t,r={hasNamedCapture:!1,captureNames:[]},a=T,l="",i=0,s=y(e,n),u=s.pattern,p=s.flags;i<u.length;){do t=m(u,p,i,a,r),t&&t.reparse&&(u=u.slice(0,i)+t.output+u.slice(i+t.matchLength));while(t&&t.reparse);if(t)l+=t.output,i+=t.matchLength||1;else{var f=k.exec(u,O[a],i,"sticky")[0];l+=f,i+=f.length,"["===f&&a===T?a=$:"]"===f&&a===$&&(a=T)}}F[e][n]={pattern:R.replace.call(l,/(?:\(\?:\))+/g,"(?:)"),flags:R.replace.call(p,/[^gimuy]+/g,""),captures:r.hasNamedCapture?r.captureNames:null}}var g=F[e][n];return o(new RegExp(g.pattern,g.flags),g.captures,e,n)}var N="xregexp",C={astral:!1,natives:!1},R={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},b={},A={},F={},_=[],T="default",$="class",O={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},G=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,Y=void 0===R.exec.call(/()??/,"")[1],z=void 0!==/x/.flags,B={}.toString,j=l("u"),Z=l("y"),U={g:!0,i:!0,m:!0,u:j,y:Z};k.prototype=new RegExp,k.version="3.1.1",k._hasNativeFlag=l,k._dec=s,k._hex=f,k._pad4=x,k.addToken=function(e,n,t){t=t||{};var r,a=t.optionalFlags;if(t.flag&&w(t.flag),a)for(a=R.split.call(a,""),r=0;r<a.length;++r)w(a[r]);_.push({regex:c(e,{addG:!0,addY:Z,isInternalOnly:!0}),handler:n,scope:t.scope||T,flag:t.flag,reparse:t.reparse,leadChar:t.leadChar}),k.cache.flush("patterns")},k.cache=function(e,n){return A[e]||(A[e]={}),A[e][n]||(A[e][n]=k(e,n))},k.cache.flush=function(e){"patterns"===e?F={}:A={}},k.escape=function(e){return R.replace.call(I(e),/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},k.exec=function(e,n,t,r){var a,l,o="g",i=!1;return i=Z&&!!(r||n.sticky&&r!==!1),i&&(o+="y"),n[N]=n[N]||{},l=n[N][o]||(n[N][o]=c(n,{addG:!0,addY:i,removeY:r===!1,isInternalOnly:!0})),l.lastIndex=t=t||0,a=b.exec.call(l,e),r&&a&&a.index!==t&&(a=null),n.global&&(n.lastIndex=a?l.lastIndex:0),a},k.forEach=function(e,n,t){for(var r,a=0,l=-1;r=k.exec(e,n,a);)t(r,++l,e,n),a=r.index+(r[0].length||1)},k.globalize=function(e){return c(e,{addG:!0})},k.install=function(e){e=v(e),!C.astral&&e.astral&&E(!0),!C.natives&&e.natives&&S(!0)},k.isInstalled=function(e){return!!C[e]},k.isRegExp=function(e){return"[object RegExp]"===B.call(e)},k.match=function(e,n,t){var r,a,l=n.global&&"one"!==t||"all"===t,o=(l?"g":"")+(n.sticky?"y":"")||"noGY";return n[N]=n[N]||{},a=n[N][o]||(n[N][o]=c(n,{addG:!!l,removeG:"one"===t,isInternalOnly:!0})),r=R.match.call(I(e),a),n.global&&(n.lastIndex="one"===t&&r?r.index+r[0].length:0),l?r||[]:r&&r[0]},k.matchChain=function(e,n){return function e(t,r){function a(e){if(l.backref){if(!(e.hasOwnProperty(l.backref)||+l.backref<e.length))throw new ReferenceError("Backreference to undefined group: "+l.backref);o.push(e[l.backref]||"")}else o.push(e[0])}for(var l=n[r].regex?n[r]:{regex:n[r]},o=[],i=0;i<t.length;++i)k.forEach(t[i],l.regex,a);return r!==n.length-1&&o.length?e(o,r+1):o}([e],0)},k.replace=function(e,n,t,r){var a,l=k.isRegExp(n),o=n.global&&"one"!==r||"all"===r,i=(o?"g":"")+(n.sticky?"y":"")||"noGY",s=n;return l?(n[N]=n[N]||{},s=n[N][i]||(n[N][i]=c(n,{addG:!!o,removeG:"one"===r,isInternalOnly:!0}))):o&&(s=new RegExp(k.escape(String(n)),"g")),a=b.replace.call(I(e),s,t),l&&n.global&&(n.lastIndex=0),a},k.replaceEach=function(e,n){var t,r;for(t=0;t<n.length;++t)r=n[t],e=k.replace(e,r[0],r[1],r[2]);return e},k.split=function(e,n,t){return b.split.call(I(e),n,t)},k.test=function(e,n,t,r){return!!k.exec(e,n,t,r)},k.uninstall=function(e){e=v(e),C.astral&&e.astral&&E(!1),C.natives&&e.natives&&S(!1)},k.union=function(e,n){function t(e,n,t){var o=a[l-r];if(n){if(++l,o)return"(?<"+o+">"}else if(t)return"\\"+(+t+r);return e}var r,a,l=0;if(!d(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(var o,i=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,c=[],s=0;s<e.length;++s)o=e[s],k.isRegExp(o)?(r=l,a=o[N]&&o[N].captureNames||[],c.push(R.replace.call(k(o.source).source,i,t))):c.push(k.escape(o));return k(c.join("|"),n)},b.exec=function(e){var n,t,r,a=this.lastIndex,l=R.exec.apply(this,arguments);if(l){if(!Y&&l.length>1&&g(l,"")>-1&&(t=c(this,{removeG:!0,isInternalOnly:!0}),R.replace.call(String(e).slice(l.index),t,function(){var e,n=arguments.length;for(e=1;e<n-2;++e)void 0===arguments[e]&&(l[e]=void 0)})),this[N]&&this[N].captureNames)for(r=1;r<l.length;++r)n=this[N].captureNames[r-1],n&&(l[n]=l[r]);this.global&&!l[0].length&&this.lastIndex>l.index&&(this.lastIndex=l.index)}return this.global||(this.lastIndex=a),l},b.test=function(e){return!!b.exec.call(this,e)},b.match=function(e){var n;if(k.isRegExp(e)){if(e.global)return n=R.match.apply(this,arguments),e.lastIndex=0,n}else e=new RegExp(e);return b.exec.call(e,I(this))},b.replace=function(e,n){var t,r,a,l=k.isRegExp(e);return l?(e[N]&&(r=e[N].captureNames),t=e.lastIndex):e+="",a=d(n,"Function")?R.replace.call(String(this),e,function(){var t,a=arguments;if(r)for(a[0]=new String(a[0]),t=0;t<r.length;++t)r[t]&&(a[0][r[t]]=a[t+1]);return l&&e.global&&(e.lastIndex=a[a.length-2]+a[0].length),n.apply(void 0,a)}):R.replace.call(null==this?this:String(this),e,function(){var e=arguments;return R.replace.call(String(n),G,function(n,t,a){var l;if(t){if(l=+t,l<=e.length-3)return e[l]||"";if(l=r?g(r,t):-1,l<0)throw new SyntaxError("Backreference to undefined group "+n);return e[l+1]||""}if("$"===a)return"$";if("&"===a||0===+a)return e[0];if("`"===a)return e[e.length-1].slice(0,e[e.length-2]);if("'"===a)return e[e.length-1].slice(e[e.length-2]+e[0].length);if(a=+a,!isNaN(a)){if(a>e.length-3)throw new SyntaxError("Backreference to undefined group "+n);return e[a]||""}throw new SyntaxError("Invalid token "+n)})}),l&&(e.global?e.lastIndex=0:e.lastIndex=t),a},b.split=function(e,n){if(!k.isRegExp(e))return R.split.apply(this,arguments);var t,r=String(this),a=[],l=e.lastIndex,o=0;return n=(void 0===n?-1:n)>>>0,k.forEach(r,e,function(e){e.index+e[0].length>o&&(a.push(r.slice(o,e.index)),e.length>1&&e.index<r.length&&Array.prototype.push.apply(a,e.slice(1)),t=e[0].length,o=e.index+t)}),o===r.length?R.test.call(e,"")&&!t||a.push(""):a.push(r.slice(o)),e.lastIndex=l,a.length>n?a.slice(0,n):a},k.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(e,n){if("B"===e[1]&&n===T)return e[0];throw new SyntaxError("Invalid escape "+e[0])},{scope:"all",leadChar:"\\"}),k.addToken(/\\u{([\dA-Fa-f]+)}/,function(e,n,t){var r=s(e[1]);if(r>1114111)throw new SyntaxError("Invalid Unicode code point "+e[0]);if(r<=65535)return"\\u"+x(f(r));if(j&&t.indexOf("u")>-1)return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),k.addToken(/\[(\^?)]/,function(e){return e[1]?"[\\s\\S]":"\\b\\B"},{leadChar:"["}),k.addToken(/\(\?#[^)]*\)/,function(e,n,t){return h(e.input,e.index+e[0].length,t)?"":"(?:)"},{leadChar:"("}),k.addToken(/\s+|#[^\n]*\n?/,function(e,n,t){return h(e.input,e.index+e[0].length,t)?"":"(?:)"},{flag:"x"}),k.addToken(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),k.addToken(/\\k<([\w$]+)>/,function(e){var n=isNaN(e[1])?g(this.captureNames,e[1])+1:+e[1],t=e.index+e[0].length;if(!n||n>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+e[0]);return"\\"+n+(t===e.input.length||isNaN(e.input.charAt(t))?"":"(?:)")},{leadChar:"\\"}),k.addToken(/\\(\d+)/,function(e,n){if(!(n===T&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+e[0]);return e[0]},{scope:"all",leadChar:"\\"}),k.addToken(/\(\?P?<([\w$]+)>/,function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name "+e[0]);if("length"===e[1]||"__proto__"===e[1])throw new SyntaxError("Cannot use reserved word as capture name "+e[0]);if(g(this.captureNames,e[1])>-1)throw new SyntaxError("Cannot use same name for multiple groups "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),k.addToken(/\((?!\?)/,function(e,n,t){return t.indexOf("n")>-1?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("}),t.exports=k});
$_mod.def("/xregexp$3.1.1/src/addons/build",function(e,r,n,t,u){n.exports=function(e){"use strict";function r(e){var r=/^(?:\(\?:\))*\^/,n=/\$(?:\(\?:\))*$/;return r.test(e)&&n.test(e)&&n.test(e.replace(/\\[\s\S]/g,""))?e.replace(r,"").replace(n,""):e}function n(r){return e.isRegExp(r)?r[t]&&r[t].captureNames?r:e(r.source):e(r)}var t="xregexp",u=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,s=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,u],"g");e.build=function(a,c,i){var f,o,p,d,l=/^\(\?([\w$]+)\)/.exec(a),m={},x=0,g=0,w=[0];l&&(i=i||"",l[1].replace(/./g,function(e){i+=i.indexOf(e)>-1?"":e}));for(d in c)c.hasOwnProperty(d)&&(p=n(c[d]),m[d]={pattern:r(p.source),names:p[t].captureNames||[]});return a=n(a),o=a[t].captureNames||[],a=a.source.replace(s,function(e,r,n,t,s){var a,c,i,p=r||n;if(p){if(!m.hasOwnProperty(p))throw new ReferenceError("Undefined property "+e);return r?(a=o[g],w[++g]=++x,c="(?<"+(a||p)+">"):c="(?:",f=x,c+m[p].pattern.replace(u,function(e,r,n){if(r){if(a=m[p].names[x-f],++x,a)return"(?<"+a+">"}else if(n)return i=+n-1,m[p].names[i]?"\\k<"+m[p].names[i]+">":"\\"+(+n+f);return e})+")"}if(t){if(a=o[g],w[++g]=++x,a)return"(?<"+a+">"}else if(s)return i=+s-1,o[i]?"\\k<"+o[i]+">":"\\"+w[+s];return e}),e(a,i)}}});
$_mod.def("/xregexp$3.1.1/src/addons/matchrecursive",function(e,n,r,i,s){r.exports=function(e){"use strict";function n(e,n,r,i){return{name:e,value:n,start:r,end:i}}e.matchRecursive=function(r,i,s,c,t){c=c||"",t=t||{};var a,u,l,h,o,f=c.indexOf("g")>-1,p=c.indexOf("y")>-1,d=c.replace(/y/g,""),x=t.escapeChar,g=t.valueNames,m=[],v=0,w=0,b=0,k=0;if(i=e(i,d),s=e(s,d),x){if(x.length>1)throw new Error("Cannot use more than one escape character");x=e.escape(x),o=new RegExp("(?:"+x+"[\\S\\s]|(?:(?!"+e.union([i,s]).source+")[^"+x+"])+)+",c.replace(/[^imu]+/g,""))}for(;;){if(x&&(b+=(e.exec(r,o,b,"sticky")||[""])[0].length),l=e.exec(r,i,b),h=e.exec(r,s,b),l&&h&&(l.index<=h.index?h=null:l=null),l||h)w=(l||h).index,b=w+(l||h)[0].length;else if(!v)break;if(p&&!v&&w>k)break;if(l)v||(a=w,u=b),++v;else{if(!h||!v)throw new Error("Unbalanced delimiter found in string");if(!--v&&(g?(g[0]&&a>k&&m.push(n(g[0],r.slice(k,a),k,a)),g[1]&&m.push(n(g[1],r.slice(a,u),a,u)),g[2]&&m.push(n(g[2],r.slice(u,w),u,w)),g[3]&&m.push(n(g[3],r.slice(w,b),w,b))):m.push(r.slice(u,w)),k=b,!f))break}w===b&&++b}return f&&!p&&g&&g[0]&&r.length>k&&m.push(n(g[0],r.slice(k),k,r.length)),m}}});
$_mod.def("/xregexp$3.1.1/src/addons/unicode-base",function(r,n,e,a,t){e.exports=function(r){"use strict";function n(r){return r.replace(/[- _]+/g,"").toLowerCase()}function e(r){var n=/^\\[xu](.+)/.exec(r);return n?c(n[1]):r.charCodeAt("\\"===r.charAt(0)?1:0)}function a(n){var a="",t=-1;return r.forEach(n,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,function(r){var n=e(r[1]);n>t+1&&(a+="\\u"+f(u(t+1)),n>t+2&&(a+="-\\u"+f(u(n-1)))),t=e(r[2]||r[1])}),t<65535&&(a+="\\u"+f(u(t+1)),t<65534&&(a+="-\\uFFFF")),a}function t(r){var n="b!";return s[r][n]||(s[r][n]=a(s[r].bmp))}function o(r,n){var e=s[r],a="";return e.bmp&&!e.isBmpLast&&(a="["+e.bmp+"]"+(e.astral?"|":"")),e.astral&&(a+=e.astral),e.isBmpLast&&e.bmp&&(a+=(e.astral?"|":"")+"["+e.bmp+"]"),n?"(?:(?!"+a+")(?:[�-�][�-�]|[\0-￿]))":"(?:"+a+")"}function i(r,n){var e=n?"a!":"a=";return s[r][e]||(s[r][e]=o(r,n))}var s={},c=r._dec,u=r._hex,f=r._pad4;r.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,function(r,e,a){var o="Invalid double negation ",c="Unknown Unicode token ",u="Unicode token missing data ",f="Astral mode required for Unicode token ",d="Astral mode does not support Unicode tokens within character classes",p="P"===r[1]||!!r[2],l=a.indexOf("A")>-1,h=n(r[4]||r[3]),m=s[h];if("P"===r[1]&&r[2])throw new SyntaxError(o+r[0]);if(!s.hasOwnProperty(h))throw new SyntaxError(c+r[0]);if(m.inverseOf){if(h=n(m.inverseOf),!s.hasOwnProperty(h))throw new ReferenceError(u+r[0]+" -> "+m.inverseOf);m=s[h],p=!p}if(!m.bmp&&!l)throw new SyntaxError(f+r[0]);if(l){if("class"===e)throw new SyntaxError(d);return i(h,p)}return"class"===e?p?t(h):m.bmp:(p?"[^":"[")+m.bmp+"]"},{scope:"all",optionalFlags:"A",leadChar:"\\"}),r.addUnicodeData=function(e){var a,t,o="Unicode token requires name",i="Unicode token has no character data ";for(t=0;t<e.length;++t){if(a=e[t],!a.name)throw new Error(o);if(!(a.inverseOf||a.bmp||a.astral))throw new Error(i+a.name);s[n(a.name)]=a,a.alias&&(s[n(a.alias)]=a)}r.cache.flush("patterns")}}});
$_mod.def("/xregexp$3.1.1/src/addons/unicode-blocks",function(a,n,e,m,t){e.exports=function(a){"use strict";if(!a.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");a.addUnicodeData([{name:"InAegean_Numbers",astral:"�[�-�]"},{name:"InAhom",astral:"�[�-�]"},{name:"InAlchemical_Symbols",astral:"�[�-�]"},{name:"InAlphabetic_Presentation_Forms",bmp:"ﬀ-ﭏ"},{name:"InAnatolian_Hieroglyphs",astral:"�[�-�]"},{name:"InAncient_Greek_Musical_Notation",astral:"�[�-�]"},{name:"InAncient_Greek_Numbers",astral:"�[�-�]"},{name:"InAncient_Symbols",astral:"�[�-�]"},{name:"InArabic",bmp:"؀-ۿ"},{name:"InArabic_Extended_A",bmp:"ࢠ-ࣿ"},{name:"InArabic_Mathematical_Alphabetic_Symbols",astral:"�[�-�]"},{name:"InArabic_Presentation_Forms_A",bmp:"ﭐ-﷿"},{name:"InArabic_Presentation_Forms_B",bmp:"ﹰ-\ufeff"},{name:"InArabic_Supplement",bmp:"ݐ-ݿ"},{name:"InArmenian",bmp:"԰-֏"},{name:"InArrows",bmp:"←-⇿"},{name:"InAvestan",astral:"�[�-�]"},{name:"InBalinese",bmp:"ᬀ-᭿"},{name:"InBamum",bmp:"ꚠ-꛿"},{name:"InBamum_Supplement",astral:"�[�-�]"},{name:"InBasic_Latin",bmp:"\0-"},{name:"InBassa_Vah",astral:"�[�-�]"},{name:"InBatak",bmp:"ᯀ-᯿"},{name:"InBengali",bmp:"ঀ-৿"},{name:"InBlock_Elements",bmp:"▀-▟"},{name:"InBopomofo",bmp:"㄀-ㄯ"},{name:"InBopomofo_Extended",bmp:"ㆠ-ㆿ"},{name:"InBox_Drawing",bmp:"─-╿"},{name:"InBrahmi",astral:"�[�-�]"},{name:"InBraille_Patterns",bmp:"⠀-⣿"},{name:"InBuginese",bmp:"ᨀ-᨟"},{name:"InBuhid",bmp:"ᝀ-᝟"},{name:"InByzantine_Musical_Symbols",astral:"�[�-�]"},{name:"InCJK_Compatibility",bmp:"㌀-㏿"},{name:"InCJK_Compatibility_Forms",bmp:"︰-﹏"},{name:"InCJK_Compatibility_Ideographs",bmp:"豈-﫿"},{name:"InCJK_Compatibility_Ideographs_Supplement",astral:"�[�-�]"},{name:"InCJK_Radicals_Supplement",bmp:"⺀-⻿"},{name:"InCJK_Strokes",bmp:"㇀-㇯"},{name:"InCJK_Symbols_and_Punctuation",bmp:"　-〿"},{name:"InCJK_Unified_Ideographs",bmp:"一-鿿"},{name:"InCJK_Unified_Ideographs_Extension_A",bmp:"㐀-䶿"},{name:"InCJK_Unified_Ideographs_Extension_B",astral:"[�-�][�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_C",astral:"�[�-�]|[�-�][�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_D",astral:"�[�-�]|�[�-�]"},{name:"InCJK_Unified_Ideographs_Extension_E",astral:"[�-�][�-�]|�[�-�]|�[�-�]"},{name:"InCarian",astral:"�[�-�]"},{name:"InCaucasian_Albanian",astral:"�[�-�]"},{name:"InChakma",astral:"�[�-�]"},{name:"InCham",bmp:"ꨀ-꩟"},{name:"InCherokee",bmp:"Ꭰ-᏿"},{name:"InCherokee_Supplement",bmp:"ꭰ-ꮿ"},{name:"InCombining_Diacritical_Marks",bmp:"̀-ͯ"},{name:"InCombining_Diacritical_Marks_Extended",bmp:"᪰-᫿"},{name:"InCombining_Diacritical_Marks_Supplement",bmp:"᷀-᷿"},{name:"InCombining_Diacritical_Marks_for_Symbols",bmp:"⃐-⃿"},{name:"InCombining_Half_Marks",bmp:"︠-︯"},{name:"InCommon_Indic_Number_Forms",bmp:"꠰-꠿"},{name:"InControl_Pictures",bmp:"␀-␿"},{name:"InCoptic",bmp:"Ⲁ-⳿"},{name:"InCoptic_Epact_Numbers",astral:"�[�-�]"},{name:"InCounting_Rod_Numerals",astral:"�[�-�]"},{name:"InCuneiform",astral:"�[�-�]"},{name:"InCuneiform_Numbers_and_Punctuation",astral:"�[�-�]"},{name:"InCurrency_Symbols",bmp:"₠-⃏"},{name:"InCypriot_Syllabary",astral:"�[�-�]"},{name:"InCyrillic",bmp:"Ѐ-ӿ"},{name:"InCyrillic_Extended_A",bmp:"ⷠ-ⷿ"},{name:"InCyrillic_Extended_B",bmp:"Ꙁ-ꚟ"},{name:"InCyrillic_Supplement",bmp:"Ԁ-ԯ"},{name:"InDeseret",astral:"�[�-�]"},{name:"InDevanagari",bmp:"ऀ-ॿ"},{name:"InDevanagari_Extended",bmp:"꣠-ꣿ"},{name:"InDingbats",bmp:"✀-➿"},{name:"InDomino_Tiles",astral:"�[�-�]"},{name:"InDuployan",astral:"�[�-�]"},{name:"InEarly_Dynastic_Cuneiform",astral:"�[�-�]"},{name:"InEgyptian_Hieroglyphs",astral:"�[�-�]|�[�-�]"},{name:"InElbasan",astral:"�[�-�]"},{name:"InEmoticons",astral:"�[�-�]"},{name:"InEnclosed_Alphanumeric_Supplement",astral:"�[�-�]"},{name:"InEnclosed_Alphanumerics",bmp:"①-⓿"},{name:"InEnclosed_CJK_Letters_and_Months",bmp:"㈀-㋿"},{name:"InEnclosed_Ideographic_Supplement",astral:"�[�-�]"},{name:"InEthiopic",bmp:"ሀ-፿"},{name:"InEthiopic_Extended",bmp:"ⶀ-⷟"},{name:"InEthiopic_Extended_A",bmp:"꬀-꬯"},{name:"InEthiopic_Supplement",bmp:"ᎀ-᎟"},{name:"InGeneral_Punctuation",bmp:" -⁯"},{name:"InGeometric_Shapes",bmp:"■-◿"},{name:"InGeometric_Shapes_Extended",astral:"�[�-�]"},{name:"InGeorgian",bmp:"Ⴀ-ჿ"},{name:"InGeorgian_Supplement",bmp:"ⴀ-⴯"},{name:"InGlagolitic",bmp:"Ⰰ-ⱟ"},{name:"InGothic",astral:"�[�-�]"},{name:"InGrantha",astral:"�[�-�]"},{name:"InGreek_Extended",bmp:"ἀ-῿"},{name:"InGreek_and_Coptic",bmp:"Ͱ-Ͽ"},{name:"InGujarati",bmp:"઀-૿"},{name:"InGurmukhi",bmp:"਀-੿"},{name:"InHalfwidth_and_Fullwidth_Forms",bmp:"＀-￯"},{name:"InHangul_Compatibility_Jamo",bmp:"㄰-㆏"},{name:"InHangul_Jamo",bmp:"ᄀ-ᇿ"},{name:"InHangul_Jamo_Extended_A",bmp:"ꥠ-꥿"},{name:"InHangul_Jamo_Extended_B",bmp:"ힰ-퟿"},{name:"InHangul_Syllables",bmp:"가-힯"},{name:"InHanunoo",bmp:"ᜠ-᜿"},{name:"InHatran",astral:"�[�-�]"},{name:"InHebrew",bmp:"֐-׿"},{name:"InHigh_Private_Use_Surrogates",bmp:"�-�"},{name:"InHigh_Surrogates",bmp:"�-�"},{name:"InHiragana",bmp:"぀-ゟ"},{name:"InIPA_Extensions",bmp:"ɐ-ʯ"},{name:"InIdeographic_Description_Characters",bmp:"⿰-⿿"},{name:"InImperial_Aramaic",astral:"�[�-�]"},{name:"InInscriptional_Pahlavi",astral:"�[�-�]"},{name:"InInscriptional_Parthian",astral:"�[�-�]"},{name:"InJavanese",bmp:"ꦀ-꧟"},{name:"InKaithi",astral:"�[�-�]"},{name:"InKana_Supplement",astral:"�[�-�]"},{name:"InKanbun",bmp:"㆐-㆟"},{name:"InKangxi_Radicals",bmp:"⼀-⿟"},{name:"InKannada",bmp:"ಀ-೿"},{name:"InKatakana",bmp:"゠-ヿ"},{name:"InKatakana_Phonetic_Extensions",bmp:"ㇰ-ㇿ"},{name:"InKayah_Li",bmp:"꤀-꤯"},{name:"InKharoshthi",astral:"�[�-�]"},{name:"InKhmer",bmp:"ក-៿"},{name:"InKhmer_Symbols",bmp:"᧠-᧿"},{name:"InKhojki",astral:"�[�-�]"},{name:"InKhudawadi",astral:"�[�-�]"},{name:"InLao",bmp:"຀-໿"},{name:"InLatin_Extended_Additional",bmp:"Ḁ-ỿ"},{name:"InLatin_Extended_A",bmp:"Ā-ſ"},{name:"InLatin_Extended_B",bmp:"ƀ-ɏ"},{name:"InLatin_Extended_C",bmp:"Ⱡ-Ɀ"},{name:"InLatin_Extended_D",bmp:"꜠-ꟿ"},{name:"InLatin_Extended_E",bmp:"ꬰ-꭯"},{name:"InLatin_1_Supplement",bmp:"-ÿ"},{name:"InLepcha",bmp:"ᰀ-ᱏ"},{name:"InLetterlike_Symbols",bmp:"℀-⅏"},{name:"InLimbu",bmp:"ᤀ-᥏"},{name:"InLinear_A",astral:"�[�-�]"},{name:"InLinear_B_Ideograms",astral:"�[�-�]"},{name:"InLinear_B_Syllabary",astral:"�[�-�]"},{name:"InLisu",bmp:"ꓐ-꓿"},{name:"InLow_Surrogates",bmp:"�-�"},{name:"InLycian",astral:"�[�-�]"},{name:"InLydian",astral:"�[�-�]"},{name:"InMahajani",astral:"�[�-�]"},{name:"InMahjong_Tiles",astral:"�[�-�]"},{name:"InMalayalam",bmp:"ഀ-ൿ"},{name:"InMandaic",bmp:"ࡀ-࡟"},{name:"InManichaean",astral:"�[�-�]"},{name:"InMathematical_Alphanumeric_Symbols",astral:"�[�-�]"},{name:"InMathematical_Operators",bmp:"∀-⋿"},{name:"InMeetei_Mayek",bmp:"ꯀ-꯿"},{name:"InMeetei_Mayek_Extensions",bmp:"ꫠ-꫿"},{name:"InMende_Kikakui",astral:"�[�-�]"},{name:"InMeroitic_Cursive",astral:"�[�-�]"},{name:"InMeroitic_Hieroglyphs",astral:"�[�-�]"},{name:"InMiao",astral:"�[�-�]"},{name:"InMiscellaneous_Mathematical_Symbols_A",bmp:"⟀-⟯"},{name:"InMiscellaneous_Mathematical_Symbols_B",bmp:"⦀-⧿"},{name:"InMiscellaneous_Symbols",bmp:"☀-⛿"},{name:"InMiscellaneous_Symbols_and_Arrows",bmp:"⬀-⯿"},{name:"InMiscellaneous_Symbols_and_Pictographs",astral:"�[�-�]|�[�-�]"},{name:"InMiscellaneous_Technical",bmp:"⌀-⏿"},{name:"InModi",astral:"�[�-�]"},{name:"InModifier_Tone_Letters",bmp:"꜀-ꜟ"},{name:"InMongolian",bmp:"᠀-᢯"},{name:"InMro",astral:"�[�-�]"},{name:"InMultani",astral:"�[�-�]"},{name:"InMusical_Symbols",astral:"�[�-�]"},{name:"InMyanmar",bmp:"က-႟"},{name:"InMyanmar_Extended_A",bmp:"ꩠ-ꩿ"},{name:"InMyanmar_Extended_B",bmp:"ꧠ-꧿"},{name:"InNKo",bmp:"߀-߿"},{name:"InNabataean",astral:"�[�-�]"},{name:"InNew_Tai_Lue",bmp:"ᦀ-᧟"},{name:"InNumber_Forms",bmp:"⅐-↏"},{name:"InOgham",bmp:" -᚟"},{name:"InOl_Chiki",bmp:"᱐-᱿"},{name:"InOld_Hungarian",astral:"�[�-�]"},{name:"InOld_Italic",astral:"�[�-�]"},{name:"InOld_North_Arabian",astral:"�[�-�]"},{name:"InOld_Permic",astral:"�[�-�]"},{name:"InOld_Persian",astral:"�[�-�]"},{name:"InOld_South_Arabian",astral:"�[�-�]"},{name:"InOld_Turkic",astral:"�[�-�]"},{name:"InOptical_Character_Recognition",bmp:"⑀-⑟"},{name:"InOriya",bmp:"଀-୿"},{name:"InOrnamental_Dingbats",astral:"�[�-�]"},{name:"InOsmanya",astral:"�[�-�]"},{name:"InPahawh_Hmong",astral:"�[�-�]"},{name:"InPalmyrene",astral:"�[�-�]"},{name:"InPau_Cin_Hau",astral:"�[�-�]"},{name:"InPhags_pa",bmp:"ꡀ-꡿"},{name:"InPhaistos_Disc",astral:"�[�-�]"},{name:"InPhoenician",astral:"�[�-�]"},{name:"InPhonetic_Extensions",bmp:"ᴀ-ᵿ"},{name:"InPhonetic_Extensions_Supplement",bmp:"ᶀ-ᶿ"},{name:"InPlaying_Cards",astral:"�[�-�]"},{name:"InPrivate_Use_Area",bmp:"-"},{name:"InPsalter_Pahlavi",astral:"�[�-�]"},{name:"InRejang",bmp:"ꤰ-꥟"},{name:"InRumi_Numeral_Symbols",astral:"�[�-�]"},{name:"InRunic",bmp:"ᚠ-᛿"},{name:"InSamaritan",bmp:"ࠀ-࠿"},{name:"InSaurashtra",bmp:"ꢀ-꣟"},{name:"InSharada",astral:"�[�-�]"},{name:"InShavian",astral:"�[�-�]"},{name:"InShorthand_Format_Controls",astral:"�[�-�]"},{name:"InSiddham",astral:"�[�-�]"},{name:"InSinhala",bmp:"඀-෿"},{name:"InSinhala_Archaic_Numbers",astral:"�[�-�]"},{name:"InSmall_Form_Variants",bmp:"﹐-﹯"},{name:"InSora_Sompeng",astral:"�[�-�]"},{name:"InSpacing_Modifier_Letters",bmp:"ʰ-˿"},{name:"InSpecials",bmp:"￰-￿"},{name:"InSundanese",bmp:"ᮀ-ᮿ"},{name:"InSundanese_Supplement",bmp:"᳀-᳏"},{name:"InSuperscripts_and_Subscripts",bmp:"⁰-₟"},{name:"InSupplemental_Arrows_A",bmp:"⟰-⟿"},{name:"InSupplemental_Arrows_B",bmp:"⤀-⥿"},{name:"InSupplemental_Arrows_C",astral:"�[�-�]"},{name:"InSupplemental_Mathematical_Operators",bmp:"⨀-⫿"},{name:"InSupplemental_Punctuation",bmp:"⸀-⹿"},{name:"InSupplemental_Symbols_and_Pictographs",astral:"�[�-�]"},{name:"InSupplementary_Private_Use_Area_A",astral:"[�-�][�-�]"},{name:"InSupplementary_Private_Use_Area_B",astral:"[�-�][�-�]"},{name:"InSutton_SignWriting",astral:"�[�-�]"},{name:"InSyloti_Nagri",bmp:"ꠀ-꠯"},{name:"InSyriac",bmp:"܀-ݏ"},{name:"InTagalog",bmp:"ᜀ-ᜟ"},{name:"InTagbanwa",bmp:"ᝠ-᝿"},{name:"InTags",astral:"�[�-�]"},{name:"InTai_Le",bmp:"ᥐ-᥿"},{name:"InTai_Tham",bmp:"ᨠ-᪯"},{name:"InTai_Viet",bmp:"ꪀ-꫟"},{name:"InTai_Xuan_Jing_Symbols",astral:"�[�-�]"},{name:"InTakri",astral:"�[�-�]"},{name:"InTamil",bmp:"஀-௿"},{name:"InTelugu",bmp:"ఀ-౿"},{name:"InThaana",bmp:"ހ-޿"},{name:"InThai",bmp:"฀-๿"},{name:"InTibetan",bmp:"ༀ-࿿"},{name:"InTifinagh",bmp:"ⴰ-⵿"},{name:"InTirhuta",astral:"�[�-�]"},{name:"InTransport_and_Map_Symbols",astral:"�[�-�]"},{name:"InUgaritic",astral:"�[�-�]"},{name:"InUnified_Canadian_Aboriginal_Syllabics",bmp:"᐀-ᙿ"},{name:"InUnified_Canadian_Aboriginal_Syllabics_Extended",bmp:"ᢰ-᣿"},{name:"InVai",bmp:"ꔀ-꘿"},{name:"InVariation_Selectors",bmp:"︀-️"},{name:"InVariation_Selectors_Supplement",astral:"�[�-�]"},{name:"InVedic_Extensions",bmp:"᳐-᳿"},{name:"InVertical_Forms",bmp:"︐-︟"},{name:"InWarang_Citi",astral:"�[�-�]"},{name:"InYi_Radicals",bmp:"꒐-꓏"},{name:"InYi_Syllables",bmp:"ꀀ-꒏"},{name:"InYijing_Hexagram_Symbols",bmp:"䷀-䷿"}])}});
$_mod.def("/xregexp$3.1.1/src/addons/unicode-categories",function(a,e,m,s,n){m.exports=function(a){"use strict";if(!a.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");a.addUnicodeData([{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘ՠֈ֋֌֐׈-׏׫-ׯ׵-؅؜؝۝܎܏݋݌޲-޿߻-߿࠮࠯࠿࡜࡝࡟-࢟ࢵ-࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥ৼ-਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੶-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸ૺ-଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿ఄ఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷ಀ಄಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-ഀഄ഍഑഻഼൅൉൏-ൖ൘-൞൤൥൶-൸඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠏᠚-᠟ᡸ-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌ᲀ-Ჿ᳈-᳏᳷ᳺ-᳿᷶-᷻἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟₿-⃏⃱-⃿↌-↏⏻-⏿␧-␿⑋-⑟⭴⭵⮖⮗⮺-⮼⯉⯒-⯫⯰-⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹃-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄ㄮ-㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿖-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿ꞮꞯꞸ-ꟶ꠬-꠯꠺-꠿꡸-꡿ꣅ-꣍꣚-꣟ꣾꣿ꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"�[�-����-��-��-��-��-�]|�[�-���-�]|�[�-��-������-��-���-��-��-��-��-��-�]|�[�-���-��-����-��-����-��-�]|�[��-��-�]|�[�-��-��-��-�]|�[��]|�[���-��-��-��-��-�]|�[���-��-��-��-��-��-��-�]|�[�������-��-��-��-��-��-��-��-��-��-��-��-��-��-���-��-�]|�[�-�]|�[�-�����������-��-�����������������������-����-��-�]|�[�-�]|�[�-��-�]|�[�-��-���-��-��-���-��-�����-���-������-��-��-������������������-��-����-��-�]|�[���-�]|�[�-�]|�[�-�]|[����-��-��-����-��-���-��-��-�][�-�]|�[�-��-��-��-�]|�[�-��-��-��-��-�]|�[���������������������-������]|�[�-��-��-����-��-��-��-��-��-��-��-�]|�[�����-�����-��-���-��-��-��-��-�����-����-��-��-��-��-��-��-��-����-��-��-��-�]|�[�-�]|�[�-��-��-����-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-��-��-�]|�[�-�]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏᠎​-‏‪-‮⁠-⁤⁦-⁯\ufeff￹-￻",astral:"�[��-�]|�[�-�]|�[�-�]|𑂽"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘ՠֈ֋֌֐׈-׏׫-ׯ׵-׿؝܎݋݌޲-޿߻-߿࠮࠯࠿࡜࡝࡟-࢟ࢵ-࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥ৼ-਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੶-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸ૺ-଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿ఄ఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷ಀ಄಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-ഀഄ഍഑഻഼൅൉൏-ൖ൘-൞൤൥൶-൸඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠏᠚-᠟ᡸ-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌ᲀ-Ჿ᳈-᳏᳷ᳺ-᳿᷶-᷻἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟₿-⃏⃱-⃿↌-↏⏻-⏿␧-␿⑋-⑟⭴⭵⮖⮗⮺-⮼⯉⯒-⯫⯰-⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹃-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄ㄮ-㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿖-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿ꞮꞯꞸ-ꟶ꠬-꠯꠺-꠿꡸-꡿ꣅ-꣍꣚-꣟ꣾꣿ꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"�[��-��-��-�]|�[�-����-��-��-��-�]|�[�-��-������-��-���-��-��-��-��-��-�]|�[�-���-��-����-��-����-��-�]|�[��-��-�]|�[�-��-��-��-�]|�[��]|�[���-��-��-��-��-�]|�[���-��-��-��-��-��-��-�]|�[�������-��-��-��-��-��-��-��-��-��-��-��-��-��-���-��-�]|�[�-�]|�[�-�����������-��-�����������������������-����-��-�]|[��][��]|�[�-�]|�[�-��-��-����-�]|�[���-�]|�[�-�]|�[�-�]|[����-��-��-����-��-���-��-��-�][�-�]|�[�-��-��-��-�]|�[�-��-��-��-��-�]|�[���������������������-������]|�[�-���-�]|�[�-��-��-����-��-��-��-��-��-��-��-�]|�[�����-�����-��-���-��-��-��-��-�����-����-��-��-��-��-��-��-��-����-��-��-��-�]|�[�-�]|�[�-��-��-��-��-���-��-�����-���-������-��-��-������������������-��-����-��-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-��-��-��-�]|�[�-�]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[�-��-�][�-�]|[��][�-�]"},{name:"Cs",alias:"Surrogate",bmp:"�-�"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-��-��-�]|�[�-�]|�[�-��-��-��-��-��-�]|�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-���-�]|[��-��-��-�][�-�]|�[�-�����-��-��-���-��-�]|�[�-��-��-��-��-��-��-�]|�[�-�]|�[�-���-�����-��-��-��-����-��-��-�����-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-���-��-����-��-��-���-��-��-��-��-����-��-����-����-�]|�[�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-���-�]|�[�-�]|�[�-��-��-��-�]|�[��]|�[�-�]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯա-ևᏸ-ᏽᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞵꞷꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"�[�-�]|�[�-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]|�[�-�]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟｰﾞﾟ",astral:"�[�-�]|�[�-�]"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תװ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎა-ჺჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱᳵᳶℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-�]|�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]|�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-��]|[��-��-��-�][�-�]|�[�-�����-��-��-���-��-�]|�[��-�]|�[�-�]|�[�-���-�����-��-��-��-����-��-��-�����-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-���-��-����-��-��-���-��-��-��-��-����-��-����-����-�]|�[�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-��-��-��-��-��-�]|�[�-��-��-��-��-��-�]|�[�-�]|�[�-��-��-��-�]|�[��]|�[�-�]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞭꞰ-ꞴꞶＡ-Ｚ",astral:"�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��������-��-��-����-��-��-����-��-���-��-��-��-��-��-��-��-��-��-��-��-��]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఃా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-᪾ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"�[�-��-��-����-��-��-�]|�[�-��-��-��-��-��-�]|�[�-��-��-��-��-��-���-��-��-��-��-��-���-����-�����-��-�]|�[�-��-�]|�[�-��-�]|�[��]|�[���-�]|�[�-��-����-��-�]|�[�-����-��-����]|�[�-�]|�[�-�]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡ᳲᳳ〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦽ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"�[���-�]|�[����-������-����-�����-������-����-����]|�[�-���-���-��-���-�����������]|�[�-�]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ఀా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഁു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷼-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"�[�-�������-��������-�������-���-��-��-�]|�[�-��-��-��-��-�]|�[�-��-�]|�[�-�]|�[��]|�[���-�]|�[�-��-����-��-�]|�[�-����-��-����]|�[��-��-��-����-��-��-�����-��-��-������-������-��-�]|�[�-�]|�[�-�]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൦-൵෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"�[�-��-����-��-����-�]|�[�-�]|�[�-��-�]|�[�-�]|�[�-�]|�[�-��-��-�]|�[�-�]|�[�-��-��-��-��-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-����-��-��-����-��-��-��-��-�]|�[�-��-��-��-�]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"�[�-�]|�[�-�]|�[�-��-��-��-�]|�[�-�]|�[�-��-��-��-��-�]|�[�-��-�]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",astral:"�[�-�]|�[�-����-�]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൰-൵༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"�[�-��-�]|�[�-��-�]|�[�-�]|�[�-�]|�[�-�]|�[�-��-��-��-��-����-��-��-����-��-��-��-��-�]|�[��]|�[�-�]|�[�-�]|�[�-��-����-��-�]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\x2A,-/:;\\x3F@\\x5B-\\x5D_\\x7B}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹂、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"�[����-���-��-��-�]|�[�-�]|�[��-��-��-�]|�[�-�]|𐕯|𛲟|�[�-����-��-����-����-��-��]|�[�-���]|�[����-��]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\x2D֊־᐀᠆‐-―⸗⸚⸺⸻⹀〜〰゠︱︲﹘﹣－"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\x29\\x5D}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\x2A,\\x2E/:;\\x3F@\\x5C¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙭᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"�[����-���-��-��-�]|�[�-�]|�[��-��-��-�]|�[�-�]|𐕯|𛲟|�[�-����-��-����-����-��-��]|�[�-���]|�[����-��]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\x28\\x5B\\x7B༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\x24\\x2B<->\\x5E`\\x7C~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶৲৳৺৻૱୰௳-௺౿൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-₾℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-⏺␀-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛﬩﮲-﯁﷼﷽﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"�[�-��-��-��-��-��-��-��]|�[�-��-��-��-��-��-��-��-��-��-��-��-����-�]|�[�-��-��-��-��-��-��-�]|�[����������]|�[�-��-���-���-�]|𛲜|𑜿|�[���]|�[�-��]|�[�-��-��-��-���]|�[�-��-��-��-����-��-��-���-�]|�[��]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\x24¢-¥֏؋৲৳৻૱௹฿៛₠-₾꠸﷼﹩＄￠￡￥￦"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\x5E`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛﮲-﯁＾｀￣",astral:"�[�-�]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\x2B<->\\x7C~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"�[��]|�[����������]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-⏺␀-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﷽￤￨￭￮￼�",astral:"�[�-��-��-��-��-��-��-��]|�[�-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-��-��-��-����-�]|�[�-��-���-���-�]|𛲜|𑜿|�[���]|�[�-��]|�[�-��-��-��-���]|�[�-��-��-��-����-��-��-���-�]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}])}});
$_mod.def("/xregexp$3.1.1/src/addons/unicode-properties",function(e,a,n,r,t){n.exports=function(e){"use strict";if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var a=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևְ-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࢠ-ࢴࣣ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౠ-ౣಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೞೠ-ೣೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൗൟ-ൣൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ၢၥ-ၨၮ-ႆႎႜႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፟ᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜓᜠ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᬀ-ᬳᬵ-ᭃᭅ-ᭋᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰵᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳳᳵᳶᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠧꡀ-ꡳꢀ-ꣃꣲ-ꣷꣻꣽꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺꩾ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"�[�-��-�]|�[�-��-��-��-��-���-��-����-��-���-���-��-��-��-��-��-����-��-����-��-��������-�]|�[�-��-�]|�[�-��-�]|�[�-��-��-�]|�[�-�]|�[�-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-�]|�[�-��-��-�]|�[�-�]|�[�-�]|[��-��-��-�][�-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��]|�[�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]|�[�-�����-��-��-��-����-��-��-�]|�[�-��-�]|�[�-���-�]|�[�-��-��-����-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-���-�����-��-��-��-����-��-��-����-����-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]|�[��]|�[�-��-��-�]|�[�-�]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[�-�][�-�]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠎​-‏‪-‮⁠-⁯ㅤ︀-️\ufeffﾠ￰-￸",astral:"[�-�][�-�]|�[�-�]|�[�-�]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯա-ևᏸ-ᏽᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞵꞷꟸ-ꟺꬰ-ꭚꭜ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"�[�-�]|�[�-��-��-��-��-���-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]|�[�-�]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[����������������][��]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞭꞰ-ꞴꞶＡ-Ｚ",astral:"�[�-�]|�[�-�]|�[�-��-��-��������-��-��-����-��-��-����-��-���-��-��-��-��-��-��-��-��-��-��-��-��]|�[�-�]|�[�-��-��-�]"},{name:"White_Space",bmp:"\t-\r    - \u2028\u2029  　"}];a.push({name:"Assigned",inverseOf:"Cn"}),e.addUnicodeData(a)}});
$_mod.def("/xregexp$3.1.1/src/addons/unicode-scripts",function(a,m,n,e,r){n.exports=function(a){"use strict";if(!a.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");a.addUnicodeData([{name:"Ahom",astral:"�[�-��-��-�]"},{name:"Anatolian_Hieroglyphs",astral:"�[�-�]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࢠ-ࢴࣣ-ࣿﭐ-﯁ﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷽ﹰ-ﹴﹶ-ﻼ",astral:"�[�-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-���]"},{name:"Armenian",bmp:"Ա-Ֆՙ-՟ա-և֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"�[�-��-�]"},{name:"Balinese",bmp:"ᬀ-ᭋ᭐-᭼"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"�[�-�]"},{name:"Bassa_Vah",astral:"�[�-��-�]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৻"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄭㆠ-ㆺ"},{name:"Brahmi",astral:"�[�-��-��]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ"},{name:"Carian",astral:"�[�-�]"},{name:"Caucasian_Albanian",astral:"�[�-��]"},{name:"Chakma",astral:"�[�-��-�]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Common",bmp:"\0-@\\x5B-`\\x7B-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·։؅،؛؜؟ـ۝।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵᳶ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-₾℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-⏺␀-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⸀-⹂⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"�[�-��-��-��-��-��-��-��]|�[�-�]|�[�-��-�������-��-���-��-��-��-��-��-��-��-���-��-��-��-�]|�[��-�]|�[�-��-��-��-��-��-��-�]|�[�-��-��-��-��-��-�]|�[�-��-��-��-����-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-��-��-����-��-����-�]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"�[�-��-��-�]|�[�-�]"},{name:"Cypriot",astral:"�[�-���-�����]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"�[�-�]"},{name:"Devanagari",bmp:"ऀ-ॐ॓-ॣ०-ॿ꣠-ꣽ"},{name:"Duployan",astral:"�[�-��-��-��-��-�]"},{name:"Egyptian_Hieroglyphs",astral:"�[�-�]|�[�-�]"},{name:"Elbasan",astral:"�[�-�]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-Ⱞⰰ-ⱞ"},{name:"Gothic",astral:"�[�-�]"},{name:"Grantha",astral:"�[�-��-����-��-����-��-����-����-��-��-�]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"�[�-��]|�[�-�]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵ"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶵一-鿕豈-舘並-龎",astral:"�[�-��-�]|[�-��-��-�][�-�]|�[�-��-�]|�[�-�]|�[�-��-�]|�[�-�]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"�[�-����-�]"},{name:"Hebrew",bmp:"֑-ׇא-תװ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"𛀁|🈀"},{name:"Imperial_Aramaic",astral:"�[�-��-�]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॒॑᪰-᪾᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷼-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"�[�-��-��-��-�]|�[��]|�[�-�]"},{name:"Inscriptional_Pahlavi",astral:"�[�-��-�]"},{name:"Inscriptional_Parthian",astral:"�[�-��-�]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"�[�-�]"},{name:"Kannada",bmp:"ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"𛀀"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"�[�-����-��-��-��-��-��-�]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"�[�-��-�]"},{name:"Khudawadi",astral:"�[�-��-�]"},{name:"Lao",bmp:"ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꞭꞰ-ꞷꟷ-ꟿꬰ-ꭚꭜ-ꭤﬀ-ﬆＡ-Ｚａ-ｚ"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"�[�-��-��-�]"},{name:"Linear_B",astral:"�[�-��-��-����-��-��-�]"},{name:"Lisu",bmp:"ꓐ-꓿"},{name:"Lycian",astral:"�[�-�]"},{name:"Lydian",astral:"�[�-��]"},{name:"Mahajani",astral:"�[�-�]"},{name:"Malayalam",bmp:"ഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൟ-ൣ൦-൵൹-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"�[�-��-�]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"�[�-��-�]"},{name:"Meroitic_Cursive",astral:"�[�-��-��-�]"},{name:"Meroitic_Hieroglyphs",astral:"�[�-�]"},{name:"Miao",astral:"�[�-��-��-�]"},{name:"Modi",astral:"�[�-��-�]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠎᠐-᠙ᠠ-ᡷᢀ-ᢪ"},{name:"Mro",astral:"�[�-��-���]"},{name:"Multani",astral:"�[�-���-��-��-�]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"�[�-��-�]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Nko",bmp:"߀-ߺ"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"�[�-��-��-�]"},{name:"Old_Italic",astral:"�[�-�]"},{name:"Old_North_Arabian",astral:"�[�-�]"},{name:"Old_Permic",astral:"�[�-�]"},{name:"Old_Persian",astral:"�[�-��-�]"},{name:"Old_South_Arabian",astral:"�[�-�]"},{name:"Old_Turkic",astral:"�[�-�]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osmanya",astral:"�[�-��-�]"},{name:"Pahawh_Hmong",astral:"�[�-��-��-��-��-�]"},{name:"Palmyrene",astral:"�[�-�]"},{name:"Pau_Cin_Hau",astral:"�[�-�]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"�[�-��]"},{name:"Psalter_Pahlavi",astral:"�[�-��-��-�]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-꣄꣎-꣙"},{name:"Sharada",astral:"�[�-��-�]"},{name:"Shavian",astral:"�[�-�]"},{name:"Siddham",astral:"�[�-��-�]"},{name:"SignWriting",astral:"�[�-��-��-�]"},{name:"Sinhala",bmp:"ංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"�[�-�]"},{name:"Sora_Sompeng",astral:"�[�-��-�]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠫"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏ"},{name:"Tagalog",bmp:"ᜀ-ᜌᜎ-᜔"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"�[�-��-�]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺"},{name:"Telugu",bmp:"ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘ-ౚౠ-ౣ౦-౯౸-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"�[�-��-�]"},{name:"Ugaritic",astral:"�[�-��]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Warang_Citi",astral:"�[�-��]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"}])}});
$_mod.def("/xregexp$3.1.1/src/index",function(e,r,s,d,x){var c=e("/xregexp$3.1.1/src/xregexp");e("/xregexp$3.1.1/src/addons/build")(c),e("/xregexp$3.1.1/src/addons/matchrecursive")(c),e("/xregexp$3.1.1/src/addons/unicode-base")(c),e("/xregexp$3.1.1/src/addons/unicode-blocks")(c),e("/xregexp$3.1.1/src/addons/unicode-categories")(c),e("/xregexp$3.1.1/src/addons/unicode-properties")(c),e("/xregexp$3.1.1/src/addons/unicode-scripts")(c),s.exports=c});
$_mod.def("/onigurumajs$1.0.0/lib/xregexp-lookbehind",function(e,n,r,l,t){r.exports=function(e){function n(n,r){var l,t,i;if(r=r||"",n=n.replace(/^\(\?([\w$]+)\)/,function(e,n){return r+=n,""}),l=/^\(\?<([=!])/.exec(n),!l)throw new Error("lookbehind not at start of pattern");return t=e.matchRecursive(n,/\((?:[^()[\\]|\\.|\[(?:[^\\\]]|\\.)*])*/.source,"\\)","s",{valueNames:[null,null,null,"right"],escapeChar:"\\"})[0].end,i=n.slice("(?<=".length,t-1),{lb:e("(?:"+i+")$(?!\\s)",r.replace(/[gy]/g,"")),lbType:"="===l[1],main:e(n.slice(("(?<=)"+i).length),r)}}e.execLb=function(r,l,t){t=t||0;var i,o;for(l=n(l);;){if(i=e.exec(r,l.main,t),!i)break;if(o=r.slice(0,i.index),l.lbType===l.lb.test(o))return i;t=i.index+1}return null}}});
$_mod.def("/onigurumajs$1.0.0/lib/xregexp-xescape",function(n,r,e,o,t){function i(n){return parseInt(n,16)}function u(n){for(;n.length<4;)n="0"+n;return n}function a(n){return parseInt(n,10).toString(16)}e.exports=function(n){n.addToken(/\\x{([\dA-Fa-f]+)}/,function(n,r,e){var o=i(n[1]);if(o>1114111)throw new SyntaxError("Invalid Unicode code point "+n[0]);if(o<=65535)return"\\u"+u(a(o));if(e.indexOf("x")>-1)return n[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"})}});
$_mod.def("/onigurumajs$1.0.0/index",function(n,t,e,r,i){function o(n){n=a(n);try{this.pattern=p(n),this.pattern.original=n}catch(t){this.pattern={original:n}}}function c(n){this.patterns=[];for(var t,e,r=0;void 0!==(t=n[r]);r++)try{t=a(t),e=p(t),e.original=t,this.patterns.push(e)}catch(n){this.patterns.push({original:t})}}function u(n,t,e){var r=null;if(t.xregexp)r=p.exec(n,t,e);else if(/^\(\?[><][=!]?/.exec(t.original))r=p.execLb(n,t.original,e);else if(/\(\?[><][=!]?/.exec(t.original)){var i=t.original.split(/\|(\(\?[><][=!][^|]*)/g);i.length>1&&(r=l(n,i,e))}return r}function l(n,t,e){for(var r,i=[],o="",c=null,u=0;void 0!==(r=t[u]);u++)/\(\?[><][=!]?/.exec(r)&&(i.push(o),o=""),o+=r;for(i.push(o),u=0,r;void 0!==(r=i[u]);u++)try{if(c=/\(\?[><][=!]?/.exec(r)?p.execLb(n,r,e):p.exec(n,p(r),e))return c}catch(n){return null}return null}function a(n){return n=n.replace(/\\h/g,"[\tp{Zs}]"),n=n.replace(/\\A/g,"^"),n=n.replace(/\\G/,""),n=n.replace(/\$$/,"[\r\n]?$")}function h(n,t,e){var r=0,i=t.slice(e),o=t.length-i.length,c=[];return n.forEach(function(t,e){r=o+i.indexOf(t);var u=t?r:n.index,l=t?r+t.length:n.index;"undefined"==typeof t&&(u=l=0),c.push({index:e,start:u,end:l,match:t,length:t?t.length:0})}),c}var f=n("/lodash$3.10.1/index"),p=n("/xregexp$3.1.1/src/index");n("/onigurumajs$1.0.0/lib/xregexp-lookbehind")(p),n("/onigurumajs$1.0.0/lib/xregexp-xescape")(p),o.prototype.search=function(n,t,e){var r=null;"function"==typeof t&&(e=t,t=0),t=t||0;try{r=u(n,this.pattern,t)}catch(n){e(null,null)}r?e(null,h(r,n,t)):e(null,null)},o.prototype.searchSync=function(n,t){var e=null;return this.search(n,t,function(n,t){if(n)throw n;e=t}),e},o.prototype.test=function(n,t){this.search(n,function(n,e){return t(n,!!e)})},o.prototype.testSync=function(n){var t=!1;return this.test(n,function(n,e){if(n)throw n;t=e}),t},c.prototype.findNextMatch=function(n,t,e){var r=null,i=1,o=null;"function"==typeof t&&(e=t,t=0),t=t||0;for(var c,l=0;void 0!==(c=this.patterns[l]);l++)try{if(o=u(n,c,t),!o)continue;(!r||o.index<r.index)&&(r=o,i=l)}catch(n){}r?e(null,{captureIndices:h(r,n,t).map(function(n){return f.omit(n,"match")}),index:i,scanner:{}}):e(null,null)},c.prototype.findNextMatchSync=function(n,t){var e=null;return this.findNextMatch(n,t,function(n,t){if(n)throw n;e=t}),e},t.OnigRegExp=o,t.OnigScanner=c});
$_mod.def("/@pnidem/first-mate$5.2.0/lib/scanner",function(n,e,t,r,i){(function(){var e,r;e=n("/onigurumajs$1.0.0/index").OnigScanner,t.exports=r=function(){function n(n){var e,t,r,i;for(this.patterns=null!=n?n:[],this.anchored=!1,i=this.patterns,t=0,r=i.length;t<r;t++)if(e=i[t],e.anchored){this.anchored=!0;break}this.anchoredScanner=null,this.firstLineAnchoredScanner=null,this.firstLineScanner=null,this.scanner=null}return n.prototype.createScanner=function(n,t,r){var i,a;return i=this.patterns.map(function(e){return e.getRegex(n,t,r)}),a=new e(i)},n.prototype.getScanner=function(n,e,t){return this.anchored?n?e===t?null!=this.firstLineAnchoredScanner?this.firstLineAnchoredScanner:this.firstLineAnchoredScanner=this.createScanner(n,e,t):null!=this.firstLineScanner?this.firstLineScanner:this.firstLineScanner=this.createScanner(n,e,t):e===t?null!=this.anchoredScanner?this.anchoredScanner:this.anchoredScanner=this.createScanner(n,e,t):null!=this.scanner?this.scanner:this.scanner=this.createScanner(n,e,t):(null==this.scanner&&(this.scanner=this.createScanner(n,e,t)),this.scanner)},n.prototype.findNextMatch=function(n,e,t,r){var i,a;return a=this.getScanner(e,t,r),i=a.findNextMatchSync(n,t),null!=i&&(i.scanner=this),i},n.prototype.handleMatch=function(n,e,t,r,i){var a;return a=this.patterns[n.index],a.handleMatch(e,t,n.captureIndices,r,i)},n}()}).call(this)});
$_mod.def("/@pnidem/first-mate$5.2.0/lib/injections",function(n,t,e,r,s){(function(){var t,r,s,i;i=n("/underscore-plus$1.6.6/lib/underscore-plus"),r=n("/@pnidem/first-mate$5.2.0/lib/scanner"),s=n("/@pnidem/first-mate$5.2.0/lib/scope-selector"),e.exports=t=function(){function n(n,t){var e,r,i,a,c,o,l,u,p;this.grammar=n,null==t&&(t={}),this.injections=[],this.scanners={};for(a in t)if(c=t[a],(null!=c&&null!=(u=c.patterns)?u.length:void 0)>0){for(r=[],p=c.patterns,o=0,l=p.length;o<l;o++)i=p[o],e=this.grammar.createPattern(i),r.push.apply(r,e.getIncludedPatterns(n,r));this.injections.push({selector:new s(a),patterns:r})}}return n.prototype.getScanner=function(n){var t;return null!=n.scanner?n.scanner:(t=new r(n.patterns),n.scanner=t,t)},n.prototype.getScanners=function(n){var t,e,r,s,i,a,c;if(0===this.injections.length)return[];for(r=[],s=this.grammar.scopesFromStack(n),c=this.injections,i=0,a=c.length;i<a;i++)t=c[i],t.selector.matches(s)&&(e=this.getScanner(t),r.push(e));return r},n}()}).call(this)});
$_mod.def("/@pnidem/first-mate$5.2.0/lib/pattern",function(e,t,r,s,a){(function(){var t,s,a,n,o,u=[].slice;o=e("/underscore-plus$1.6.6/lib/underscore-plus"),t=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,s=/\\\d+/g,a=/\\\d+/,r.exports=n=function(){function e(e,t,r){var s,n,o,u,i,p,c,h,l,d,m,g,f,R,S;if(this.grammar=e,this.registry=t,null==r&&(r={}),g=r.name,p=r.contentName,m=r.match,n=r.begin,c=r.end,f=r.patterns,i=r.captures,o=r.beginCaptures,h=r.endCaptures,s=r.applyEndPatternLast,this.include=r.include,this.popRule=r.popRule,this.hasBackReferences=r.hasBackReferences,this.pushRule=null,this.backReferences=null,this.scopeName=g,this.contentScopeName=p,m?((c||this.popRule)&&(null!=this.hasBackReferences?this.hasBackReferences:this.hasBackReferences=a.test(m))?this.match=m:this.regexSource=m,this.captures=i):n&&(this.regexSource=n,this.captures=null!=o?o:i,l=this.grammar.createPattern({match:c,captures:null!=h?h:i,popRule:!0}),this.pushRule=this.grammar.createRule({scopeName:this.scopeName,contentScopeName:this.contentScopeName,patterns:f,endPattern:l,applyEndPatternLast:s})),null!=this.captures){R=this.captures;for(d in R)u=R[d],(null!=(S=u.patterns)?S.length:void 0)>0&&!u.rule&&(u.scopeName=this.scopeName,u.rule=this.grammar.createRule(u))}this.anchored=this.hasAnchor()}return e.prototype.getRegex=function(e,t,r){return this.anchored?this.replaceAnchor(e,t,r):this.regexSource},e.prototype.hasAnchor=function(){var e,t,r,s,a;if(!this.regexSource)return!1;for(t=!1,a=this.regexSource,r=0,s=a.length;r<s;r++){if(e=a[r],t&&("A"===e||"G"===e||"z"===e))return!0;t=!t&&"\\"===e}return!1},e.prototype.replaceAnchor=function(e,t,r){var s,a,n,o,u,i,p;for(n=[],o="￿",a=!1,p=this.regexSource,u=0,i=p.length;u<i;u++)if(s=p[u],a){switch(s){case"A":e?n.push("\\"+s):n.push(o);break;case"G":t===r?n.push("\\"+s):n.push(o);break;case"z":n.push("$(?!\n)(?<!\n)");break;default:n.push("\\"+s)}a=!1}else"\\"===s?a=!0:n.push(s);return n.join("")},e.prototype.resolveBackReferences=function(e,t){var r,a,n,u,i,p,c;for(r=[],i=0,p=t.length;i<p;i++)c=t[i],u=c.start,a=c.end,r.push(e.slice(u,a));return n=this.match.replace(s,function(e){var t;return t=parseInt(e.slice(1)),null!=r[t]?o.escapeRegExp(r[t]):"\\"+t}),this.grammar.createPattern({hasBackReferences:!1,match:n,captures:this.captures,popRule:this.popRule})},e.prototype.ruleForInclude=function(e,t){var r,s,a,n,o;return s=t.indexOf("#"),0===s?this.grammar.getRepository()[t.slice(1)]:s>=1?(r=t.slice(0,+(s-1)+1||9e9),a=t.slice(s+1),this.grammar.addIncludedGrammarScope(r),null!=(n=this.registry.grammarForScopeName(r))?n.getRepository()[a]:void 0):"$self"===t?this.grammar.getInitialRule():"$base"===t?e.getInitialRule():(this.grammar.addIncludedGrammarScope(t),null!=(o=this.registry.grammarForScopeName(t))?o.getInitialRule():void 0)},e.prototype.getIncludedPatterns=function(e,t){var r,s;return this.include?(r=this.ruleForInclude(e,this.include),null!=(s=null!=r?r.getIncludedPatterns(e,t):void 0)?s:[]):[this]},e.prototype.resolveScopeName=function(e,r,s){var a;return a=e.replace(t,function(e,t,a,n){var o,u;if(o=s[parseInt(null!=t?t:a)],null==o)return e;for(u=r.substring(o.start,o.end);"."===u[0];)u=u.substring(1);switch(n){case"downcase":return u.toLowerCase();case"upcase":return u.toUpperCase();default:return u}})},e.prototype.handleMatch=function(e,t,r,s,a){var n,u,i,p,c,h,l,d;if(h=[],l=r[0].start===r[0].end,this.popRule){if(l&&o.last(e).zeroWidthMatch&&o.last(e).rule.anchorPosition===r[0].end)return!1;n=o.last(e).contentScopeName,n&&h.push(this.grammar.endIdForScope(n))}else this.scopeName&&(p=this.resolveScopeName(this.scopeName,t,r),h.push(this.grammar.startIdForScope(p)));return this.captures?h.push.apply(h,this.tagsForCaptureIndices(t,o.clone(r),r,e)):(d=r[0],c=d.start,u=d.end,u!==c&&h.push(u-c)),this.pushRule?(i=this.pushRule.getRuleToPush(t,r),i.anchorPosition=r[0].end,n=i.contentScopeName,e.push({rule:i,scopeName:p,contentScopeName:n,zeroWidthMatch:l}),n&&h.push(this.grammar.startIdForScope(n))):(this.popRule&&(p=e.pop().scopeName),p&&h.push(this.grammar.endIdForScope(p))),h},e.prototype.tagsForCaptureRule=function(e,t,r,s,a){var n,o,i,p,c,h,l,d;for(o=t.substring(r,s),h=e.grammar.tokenizeLine(o,u.call(a).concat([{rule:e}])).tags,p=[],n=[],i=0,l=0,d=h.length;l<d;l++)c=h[l],(c<0||c>0&&i<s)&&(n.push(c),c>=0?i+=c:c%2===0?p.pop():p.push(c));for(;p.length>0;)n.push(p.pop()-1);return n},e.prototype.tagsForCaptureIndices=function(e,t,r,s){var a,n,o,u,i,p,c,h,l,d,m,g;if(p=t.shift(),d=[],(l=null!=(m=this.captures[p.index])?m.name:void 0)&&(c=this.resolveScopeName(l,e,r),d.push(this.grammar.startIdForScope(c))),n=null!=(g=this.captures[p.index])?g.rule:void 0)for(o=this.tagsForCaptureRule(n,e,p.start,p.end,s),d.push.apply(d,o);t.length&&t[0].start<p.end;)t.shift();else{for(h=p.start;t.length&&t[0].start<p.end;)u=t[0],i=u.end-u.start===0,a=!this.captures[u.index],i||a?t.shift():(u.start>h&&d.push(u.start-h),o=this.tagsForCaptureIndices(e,t,r,s),d.push.apply(d,o),h=u.end);p.end>h&&d.push(p.end-h)}return c&&(d.length>1?d.push(this.grammar.endIdForScope(c)):d.pop()),d},e}()}).call(this)});
$_mod.def("/@pnidem/first-mate$5.2.0/lib/rule",function(t,e,n,r,a){(function(){var e,r,a,s=[].slice;a=t("/underscore-plus$1.6.6/lib/underscore-plus"),r=t("/@pnidem/first-mate$5.2.0/lib/scanner"),n.exports=e=function(){function t(t,e,n){var r,a,s,i,c,o;for(this.grammar=t,this.registry=e,c=null!=n?n:{},this.scopeName=c.scopeName,this.contentScopeName=c.contentScopeName,a=c.patterns,this.endPattern=c.endPattern,this.applyEndPatternLast=c.applyEndPatternLast,this.patterns=[],o=null!=a?a:[],s=0,i=o.length;s<i;s++)r=o[s],r.disabled||this.patterns.push(this.grammar.createPattern(r));this.endPattern&&!this.endPattern.hasBackReferences&&(this.applyEndPatternLast?this.patterns.push(this.endPattern):this.patterns.unshift(this.endPattern)),this.scannersByBaseGrammarName={},this.createEndPattern=null,this.anchorPosition=-1}return t.prototype.getIncludedPatterns=function(t,e){var n,r,s,i,c;if(null==e&&(e=[]),a.include(e,this))return[];for(e=e.concat([this]),n=[],c=this.patterns,s=0,i=c.length;s<i;s++)r=c[s],n.push.apply(n,r.getIncludedPatterns(t,e));return n},t.prototype.clearAnchorPosition=function(){return this.anchorPosition=-1},t.prototype.getScanner=function(t){var e,n;return(n=this.scannersByBaseGrammarName[t.name])?n:(e=this.getIncludedPatterns(t),n=new r(e),this.scannersByBaseGrammarName[t.name]=n,n)},t.prototype.scanInjections=function(t,e,n,r){var a,s,i,c,o,h,u;if(a=t[0].rule.grammar,s=a.injections)for(u=s.getScanners(t),o=0,h=u.length;o<h;o++)if(c=u[o],i=c.findNextMatch(e,r,n,this.anchorPosition),null!=i)return i},t.prototype.normalizeCaptureIndices=function(t,e){var n,r,a,s;for(r=t.length,a=0,s=e.length;a<s;a++)n=e[a],n.end=Math.min(n.end,r),n.start=Math.min(n.start,r)},t.prototype.findNextMatch=function(t,e,n,r){var s,i,c,o,h,u,p,l,d,m;for(c=""+e+"\n",s=t[0].rule.grammar,h=[],u=this.getScanner(s),(o=u.findNextMatch(c,r,n,this.anchorPosition))&&h.push(o),(o=this.scanInjections(t,c,n,r))&&h.push(o),p=null,m=this.registry.injectionGrammars,l=0,d=m.length;l<d;l++)i=m[l],i!==this.grammar&&i!==s&&(null==p&&(p=this.grammar.scopesFromStack(t)),i.injectionSelector.matches(p)&&(u=i.getInitialRule().getScanner(i,n,r),(o=u.findNextMatch(c,r,n,this.anchorPosition))&&h.push(o)));return h.length>1?a.min(h,function(t){return function(e){return t.normalizeCaptureIndices(c,e.captureIndices),e.captureIndices[0].start}}(this)):1===h.length?(o=h[0],this.normalizeCaptureIndices(c,o.captureIndices),o):void 0},t.prototype.getNextTags=function(t,e,n,r){var a,s,i,c,o,h,u;return h=this.findNextMatch(t,e,n,r),null==h?null:(c=h.index,a=h.captureIndices,u=h.scanner,i=a[0],s=this.endPattern===u.patterns[c],(o=u.handleMatch(h,t,e,this,s))?{nextTags:o,tagsStart:i.start,tagsEnd:i.end}:void 0)},t.prototype.getRuleToPush=function(t,e){var n;return this.endPattern.hasBackReferences?(n=this.grammar.createRule({scopeName:this.scopeName,contentScopeName:this.contentScopeName}),n.endPattern=this.endPattern.resolveBackReferences(t,e),n.patterns=[n.endPattern].concat(s.call(this.patterns)),n):this},t}()}).call(this)});
$_mod.installed("@pnidem/first-mate$5.2.0","emissary","1.3.3");
$_mod.main("/emissary$1.3.3","lib/emissary");
$_mod.remap("/emissary$1.3.3/lib/emissary",!1);
$_mod.def("/@pnidem/first-mate$5.2.0/lib/grammar",function(e,t,i,n,r){(function(){var t,n,r,o,s,p,a,l,c,u,h,d,m;d=e("/path-browserify$0.0.0/index"),m=e("/underscore-plus$1.6.6/lib/underscore-plus"),h={},p=e("/onigurumajs$1.0.0/index").OnigRegExp,t=e("/event-kit$2.2.0/lib/event-kit").Emitter,o={},s=e("/@pnidem/first-mate$5.2.0/lib/injections"),a=e("/@pnidem/first-mate$5.2.0/lib/pattern"),l=e("/@pnidem/first-mate$5.2.0/lib/rule"),c=e("/@pnidem/first-mate$5.2.0/lib/scope-selector"),i.exports=r=function(){function e(e,i){var n,r,o,a,l;this.registry=e,null==i&&(i={}),this.name=i.name,this.fileTypes=i.fileTypes,this.scopeName=i.scopeName,this.foldingStopMarker=i.foldingStopMarker,this.maxTokensPerLine=i.maxTokensPerLine,o=i.injections,r=i.injectionSelector,a=i.patterns,l=i.repository,n=i.firstLineMatch,this.emitter=new t,this.repository=null,this.initialRule=null,this.rawPatterns=a,this.rawRepository=l,null!=r?this.injectionSelector=new c(r):this.injectionSelector=null,n?this.firstLineRegex=new p(n):this.firstLineRegex=null,null==this.fileTypes&&(this.fileTypes=[]),this.includedGrammarScopes=[],this.injections=new s(this,o)}return e.prototype.registration=null,e.prototype.onDidUpdate=function(e){return this.emitter.on("did-update",e)},e.prototype.tokenizeLines=function(e){var t,i,n,r,o,s,p,a,l,c;for(n=e.split("\n"),r=null,o=[],c=[],i=p=0,a=n.length;p<a;i=++p)t=n[i],l=this.tokenizeLine(t,r,0===i),s=l.tags,r=l.ruleStack,c.push(this.registry.decodeTokens(t,s,o));return c},e.prototype.tokenizeLine=function(e,t,i,n){var r,o,s,p,a,l,c,h,d,g,f,y,S,N,k,I,R,b,F,T,v,x,w,P,L,$,j,G,M,D,U,z;if(null==i&&(i=!1),null==n&&(n=!0),R=[],null!=t){if(t=t.slice(),n)for(h=[],v=0,P=t.length;v<P;v++)j=t[v],k=j.scopeName,r=j.contentScopeName,k&&h.push(this.registry.startIdForScope(k)),r&&h.push(this.registry.startIdForScope(r))}else n&&(h=[]),o=this.getInitialRule(),k=o.scopeName,r=o.contentScopeName,t=[{rule:o,scopeName:k,contentScopeName:r}],k&&R.push(this.startIdForScope(o.scopeName)),r&&R.push(this.startIdForScope(o.contentScopeName));for(s=t.length,f=0,T=0;;){if(S=t.length,y=f,f===e.length+1)break;if(T>=this.getMaxTokensPerLine()-1){for(R.push(e.length-f);t.length>s;)G=t.pop(),k=G.scopeName,r=G.contentScopeName,r&&R.push(this.endIdForScope(r)),k&&R.push(this.endIdForScope(k));break}if(!(l=m.last(t).rule.getNextTags(t,e,f,i))){(f<e.length||0===e.length)&&R.push(e.length-f);break}for(c=l.nextTags,F=l.tagsStart,b=l.tagsEnd,f<F&&(R.push(F-f),T++),R.push.apply(R,c),x=0,L=c.length;x<L;x++)I=c[x],I>=0&&T++;if(f=b,f===y)if(t.length===S){if(console.error("Popping rule because it loops at column "+f+" of line '"+e+"'",m.clone(t)),!(t.length>1)){(f<e.length||0===e.length&&0===R.length)&&R.push(e.length-f);break}M=t.pop(),k=M.scopeName,r=M.contentScopeName,r&&R.push(this.endIdForScope(r)),k&&R.push(this.endIdForScope(k))}else if(t.length>S&&(D=t.slice(-2),U=D[0],d=U.rule,z=D[1],p=z.rule,null!=p&&p===d&&(g=!0),null!=(null!=p?p.scopeName:void 0)&&d.scopeName===p.scopeName&&(g=!0),g)){t.pop(),a=m.last(R),a<0&&a===this.startIdForScope(p.scopeName)&&R.pop(),R.push(e.length-f);break}}for(w=0,$=t.length;w<$;w++)N=t[w].rule,N.clearAnchorPosition();return n?new u(e,h,R,t,this.registry):{line:e,tags:R,ruleStack:t}},e.prototype.activate=function(){return this.registration=this.registry.addGrammar(this)},e.prototype.deactivate=function(){var e;return this.emitter=new t,null!=(e=this.registration)&&e.dispose(),this.registration=null},e.prototype.clearRules=function(){return this.initialRule=null,this.repository=null},e.prototype.getInitialRule=function(){return null!=this.initialRule?this.initialRule:this.initialRule=this.createRule({scopeName:this.scopeName,patterns:this.rawPatterns})},e.prototype.getRepository=function(){return null!=this.repository?this.repository:this.repository=function(e){return function(){var t,i,n,r;n={},r=e.rawRepository;for(i in r)t=r[i],null==t.begin&&null==t.match||(t={patterns:[t],tempName:i}),n[i]=e.createRule(t);return n}}(this)()},e.prototype.addIncludedGrammarScope=function(e){if(!m.include(this.includedGrammarScopes,e))return this.includedGrammarScopes.push(e)},e.prototype.grammarUpdated=function(e){return!!m.include(this.includedGrammarScopes,e)&&(this.clearRules(),this.registry.grammarUpdated(this.scopeName),o.includeDeprecatedAPIs&&this.emit("grammar-updated"),this.emitter.emit("did-update"),!0)},e.prototype.startIdForScope=function(e){return this.registry.startIdForScope(e)},e.prototype.endIdForScope=function(e){return this.registry.endIdForScope(e)},e.prototype.scopeForId=function(e){return this.registry.scopeForId(e)},e.prototype.createRule=function(e){return new l(this,this.registry,e)},e.prototype.createPattern=function(e){return new a(this,this.registry,e)},e.prototype.getMaxTokensPerLine=function(){return this.maxTokensPerLine},e.prototype.scopesFromStack=function(e,t,i){var n,r,o,s,p,a;for(o=[],s=0,p=e.length;s<p;s++)a=e[s],r=a.scopeName,n=a.contentScopeName,r&&o.push(r),n&&o.push(n);return i&&(null!=t?t.contentScopeName:void 0)&&t===e[e.length-1]&&o.pop(),o},e}(),o.includeDeprecatedAPIs&&(n={},n.includeInto(r),r.prototype.on=function(e){return"did-update"===e?o.deprecate("Call Grammar::onDidUpdate instead"):o.deprecate("Call explicit event subscription methods instead"),n.prototype.on.apply(this,arguments)}),u=function(){function e(e,t,i,n,r){this.line=e,this.openScopeTags=t,this.tags=i,this.ruleStack=n,this.registry=r}return Object.defineProperty(e.prototype,"tokens",{get:function(){return this.registry.decodeTokens(this.line,this.tags,this.openScopeTags)}}),e}()}).call(this)});
$_mod.def("/@pnidem/first-mate$5.2.0/lib/null-grammar",function(t,r,n,o,e){(function(){var r,o,e={}.hasOwnProperty,a=function(t,r){function n(){this.constructor=t}for(var o in r)e.call(r,o)&&(t[o]=r[o]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t};r=t("/@pnidem/first-mate$5.2.0/lib/grammar"),n.exports=o=function(t){function r(t){var n,o;n="Null Grammar",o="text.plain.null-grammar",r.__super__.constructor.call(this,t,{name:n,scopeName:o})}return a(r,t),r.prototype.getScore=function(){return 0},r}(r)}).call(this)});
$_mod.def("/@pnidem/first-mate$5.2.0/lib/grammar-registry",function(r,e,t,a,o){(function(){var e,a,o,n,i,m,s,p,d,c;d=r("/underscore-plus$1.6.6/lib/underscore-plus"),e={},c=r("/event-kit$2.2.0/lib/event-kit"),o=c.Emitter,a=c.Disposable,s={},i=r("/@pnidem/first-mate$5.2.0/lib/grammar"),p=r("/@pnidem/first-mate$5.2.0/lib/null-grammar"),t.exports=m=function(){function r(r){var e;null==r&&(r={}),this.maxTokensPerLine=null!=(e=r.maxTokensPerLine)?e:1/0,this.nullGrammar=new p(this),this.clear()}return r.prototype.clear=function(){return this.emitter=new o,this.grammars=[],this.grammarsByScopeName={},this.injectionGrammars=[],this.grammarOverridesByPath={},this.scopeIdCounter=-1,this.idsByScope={},this.scopesById={},this.addGrammar(this.nullGrammar)},r.prototype.onDidAddGrammar=function(r){return this.emitter.on("did-add-grammar",r)},r.prototype.onDidUpdateGrammar=function(r){return this.emitter.on("did-update-grammar",r)},r.prototype.getGrammars=function(){return d.clone(this.grammars)},r.prototype.grammarForScopeName=function(r){return this.grammarsByScopeName[r]},r.prototype.addGrammar=function(r){return this.grammars.push(r),this.grammarsByScopeName[r.scopeName]=r,null!=r.injectionSelector&&this.injectionGrammars.push(r),this.grammarUpdated(r.scopeName),i.includeDeprecatedAPIs&&this.emit("grammar-added",r),this.emitter.emit("did-add-grammar",r),new a(function(e){return function(){return e.removeGrammar(r)}}(this))},r.prototype.removeGrammar=function(r){d.remove(this.grammars,r),delete this.grammarsByScopeName[r.scopeName],d.remove(this.injectionGrammars,r),this.grammarUpdated(r.scopeName)},r.prototype.removeGrammarForScopeName=function(r){var e;return e=this.grammarForScopeName(r),null!=e&&this.removeGrammar(e),e},r.prototype.readGrammarSync=function(r){var t,a;if(t=null!=(a=e.readFileSync(r))?a:{},"string"==typeof t.scopeName&&t.scopeName.length>0)return this.createGrammar(r,t);throw new Error("Grammar missing required scopeName property: "+r)},r.prototype.readGrammar=function(r,t){e.readFile(r,function(e){return function(a,o){return null==o&&(o={}),null!=a?"function"==typeof t?t(a):void 0:"string"==typeof o.scopeName&&o.scopeName.length>0?"function"==typeof t?t(null,e.createGrammar(r,o)):void 0:"function"==typeof t?t(new Error("Grammar missing required scopeName property: "+r)):void 0}}(this))},r.prototype.loadGrammarSync=function(r){var e;return e=this.readGrammarSync(r),this.addGrammar(e),e},r.prototype.loadGrammar=function(r,e){this.readGrammar(r,function(r){return function(t,a){return null!=t?"function"==typeof e?e(t):void 0:(r.addGrammar(a),"function"==typeof e?e(null,a):void 0)}}(this))},r.prototype.startIdForScope=function(r){var e;return(e=this.idsByScope[r])||(e=this.scopeIdCounter,this.scopeIdCounter-=2,this.idsByScope[r]=e,this.scopesById[e]=r),e},r.prototype.endIdForScope=function(r){return this.startIdForScope(r)-1},r.prototype.scopeForId=function(r){return r%2===-1?this.scopesById[r]:this.scopesById[r+1]},r.prototype.grammarUpdated=function(r){var e,t,a,o;for(o=this.grammars,t=0,a=o.length;t<a;t++)e=o[t],e.scopeName!==r&&e.grammarUpdated(r)&&(i.includeDeprecatedAPIs&&this.emit("grammar-updated",e),this.emitter.emit("did-update-grammar",e))},r.prototype.createGrammar=function(r,e){var t;return null==e.maxTokensPerLine&&(e.maxTokensPerLine=this.maxTokensPerLine),t=new i(this,e),t.path=r,t},r.prototype.decodeTokens=function(r,e,t,a){var o,n,i,m,s,p,d,c,u,l;for(null==t&&(t=[]),i=0,s=t.map(function(r){return function(e){return r.scopeForId(e)}}(this)),c=[],n=u=0,l=e.length;u<l;n=++u)if(p=e[n],p>=0)d={value:r.substring(i,i+p),scopes:s.slice()},null!=a&&(d=a(d,n)),c.push(d),i+=p;else if(p%2===-1)t.push(p),s.push(this.scopeForId(p));else if(t.pop(),o=this.scopeForId(p+1),m=s.pop(),m!==o)throw new Error("Expected popped scope to be "+o+", but it was "+m);return c},r}(),s.includeDeprecatedAPIs&&(n={},n.includeInto(m),m.prototype.on=function(r){switch(r){case"grammar-added":s.deprecate("Call GrammarRegistry::onDidAddGrammar instead");break;case"grammar-updated":s.deprecate("Call GrammarRegistry::onDidUpdateGrammar instead");break;default:s.deprecate("Call explicit event subscription methods instead")}return n.prototype.on.apply(this,arguments)})}).call(this)});
$_mod.def("/@pnidem/first-mate$5.2.0/lib/first-mate",function(e,r,i,m,t){(function(){i.exports={ScopeSelector:e("/@pnidem/first-mate$5.2.0/lib/scope-selector"),GrammarRegistry:e("/@pnidem/first-mate$5.2.0/lib/grammar-registry"),Grammar:e("/@pnidem/first-mate$5.2.0/lib/grammar")}}).call(this)});
$_mod.def("/codemirror-atom-modes$1.0.1/src/index",function(r,t,e,n,a){"use strict";function i(r,t){if(r||(r={}),t)for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function o(r,t,e){function n(r){for(var t=r.length,e=t;e>=1;e--){var n=r.slice(0,e).join("."),a=s[n];if(a)return a}return r.join(".")}function a(r){return r.map(function(r){var t=r.split(/['.']/);return n(t)})}function o(r){var t={};return r.filter(function(r){return!t.hasOwnProperty(r)&&(t[r]=!0,!0)})}function u(r,t){for(var e=r.tokens[r.nextTokenIndex++],n=e.value,i=0;i<n.length;i++)t.next();var u=o(a(e.scopes)).join(" ");return u}e||(e=window.CodeMirror);var s={};i(s,l),t&&t.scopeTranslations&&i(s,t.scopeTranslations);var c=r.name,f=c,p=m.createGrammar(c,r);m.addGrammar(p),e.defineMode(f,function(r,t){return{startState:function(){return{ruleStack:null,lines:[],scopes:[]}},token:function(r,t){var e;if(0===r.pos){var n=t.lines.length,a=r.string,i=0===n,o=t.scopes,s=p.tokenizeLine(a,t.ruleStack,i),c=s.tags;t.ruleStack=s.ruleStack;var l=m.decodeTokens(a,c,o);e={tokens:l,nextTokenIndex:0},t.lines.push(e)}else e=t.lines[t.lines.length-1];return u(e,r)}}})}function u(r,t){r.forEach(function(r){var e,n;r.options&&r.grammar?(e=r.options,n=r.grammar):n=r,o(n,e,t)})}var s=r("/@pnidem/first-mate$5.2.0/lib/first-mate"),c=s.GrammarRegistry,m=new c,l={keyword:"keyword",atom:"atom",number:"number",def:"def",variable:"variable",punctuation:"punctuation",property:"property",operator:"operator","variable-2":"variable-2","variable-3":"variable-3",comment:"comment",string:"string","string-2":"string-2",meta:"meta",qualifier:"qualifier",builtin:"builtin",bracket:"bracket",tag:"tag","entity.name.tag":"tag",attribute:"attribute","entity.other.attribute-name.html":"attribute",hr:"hr",link:"link","meta.brace":"bracket"};t.registerGrammar=o,t.registerGrammars=u});
$_mod.installed("markojs-website$1.0.0","language-css","0.42.0");
$_mod.def("/language-css$0.42.0/grammars/css.cson",{scopeName:"source.css",name:"CSS",fileTypes:["css","css.erb"],firstLineMatch:"(?xi)\n# Emacs modeline\n-\\*-(?:\\s*(?=[^:;\\s]+\\s*-\\*-)|(?:.*?[;\\s]|(?<=-\\*-))mode\\s*:\\s*)\n  css\n(?=[\\s;]|(?<![-*])-\\*-).*?-\\*-\n|\n# Vim modeline\n(?:(?:\\s|^)vi(?:m[<=>]?\\d+|m)?|\\sex)(?=:(?=\\s*set?\\s[^\\n:]+:)|:(?!\\s*set?\\s))(?:(?:\\s|\\s*:\\s*)\\w*(?:\\s*=(?:[^\\n\\\\\\s]|\\\\.)*)?)*[\\s:](?:filetype|ft|syntax)\\s*=\n  css\n(?=\\s|:|$)",patterns:[{include:"#comment-block"},{include:"#escapes"},{include:"#combinators"},{include:"#selector"},{include:"#at-rules"},{include:"#rule-list"}],repository:{"at-rules":{patterns:[{begin:"\\A(?:\\xEF\\xBB\\xBF)?(?i:(?=\\s*@charset\\b))",end:";|(?=$)",endCaptures:{0:{name:"punctuation.terminator.rule.css"}},name:"meta.at-rule.charset.css",patterns:[{captures:{1:{name:"invalid.illegal.not-lowercase.charset.css"},2:{name:"invalid.illegal.leading-whitespace.charset.css"},3:{name:"invalid.illegal.no-whitespace.charset.css"},4:{name:"invalid.illegal.whitespace.charset.css"},5:{name:"invalid.illegal.not-double-quoted.charset.css"},6:{name:"invalid.illegal.unclosed-string.charset.css"},7:{name:"invalid.illegal.unexpected-characters.charset.css"}},match:'(?x)        # Possible errors:\n\\G\n((?!@charset)@\\w+)   # Not lowercase (@charset is case-sensitive)\n|\n\\G(\\s+)             # Preceding whitespace\n|\n(@charset\\S[^;]*)    # No whitespace after @charset\n|\n(?<=@charset)         # Before quoted charset name\n(\\x20{2,}|\\t+)      # More than one space used, or a tab\n|\n(?<=@charset\\x20)    # Beginning of charset name\n([^";]+)              # Not double-quoted\n|\n("[^"]+$)             # Unclosed quote\n|\n(?<=")                # After charset name\n([^;]+)               # Unexpected junk instead of semicolon'},{captures:{1:{name:"keyword.control.at-rule.charset.css"},2:{name:"punctuation.definition.keyword.css"}},match:"((@)charset)(?=\\s)"},{begin:'"',beginCaptures:{0:{name:"punctuation.definition.string.begin.css"}},end:'"|$',endCaptures:{0:{name:"punctuation.definition.string.end.css"}},name:"string.quoted.double.css",patterns:[{begin:'(?:\\G|^)(?=(?:[^"])+$)',end:"$",name:"invalid.illegal.unclosed.string.css"}]}]},{begin:"(?i)((@)import)(?:\\s+|$|(?=['\"]|/\\*))",beginCaptures:{1:{name:"keyword.control.at-rule.import.css"},2:{name:"punctuation.definition.keyword.css"}},end:";",endCaptures:{0:{name:"punctuation.terminator.rule.css"}},name:"meta.at-rule.import.css",patterns:[{begin:"\\G\\s*(?=/\\*)",end:"(?<=\\*/)\\s*",patterns:[{include:"#comment-block"}]},{include:"#string"},{include:"#url"},{include:"#media-query-list"}]},{begin:"(?i)((@)font-face)(?=\\s*|{|/\\*|$)",beginCaptures:{1:{name:"keyword.control.at-rule.font-face.css"},2:{name:"punctuation.definition.keyword.css"}},end:"(?!\\G)",name:"meta.at-rule.font-face.css",patterns:[{include:"#comment-block"},{include:"#escapes"},{include:"#rule-list"}]},{begin:"(?i)(@)page(?=[\\s:{]|/\\*|$)",captures:{0:{name:"keyword.control.at-rule.page.css"},1:{name:"punctuation.definition.keyword.css"}},end:"(?=\\s*($|[:{;]))",name:"meta.at-rule.page.css",patterns:[{include:"#rule-list"}]},{begin:"(?i)(?=@media(\\s|\\(|/\\*|$))",end:"(?<=})",patterns:[{begin:"(?i)\\G(@)media",beginCaptures:{0:{name:"keyword.control.at-rule.media.css"},1:{name:"punctuation.definition.keyword.css"}},end:"(?=\\s*[{;])",name:"meta.at-rule.media.header.css",patterns:[{include:"#media-query-list"}]},{begin:"{",beginCaptures:{0:{name:"punctuation.section.media.begin.bracket.curly.css"}},end:"}",endCaptures:{0:{name:"punctuation.section.media.end.bracket.curly.css"}},name:"meta.at-rule.media.body.css",patterns:[{include:"$self"}]}]},{begin:"(?i)(?=@counter-style([\\s'\"{;]|/\\*|$))",end:"(?<=})",patterns:[{begin:"(?i)\\G(@)counter-style",beginCaptures:{0:{name:"keyword.control.at-rule.counter-style.css"},1:{name:"punctuation.definition.keyword.css"}},end:"(?=\\s*{)",name:"meta.at-rule.counter-style.header.css",patterns:[{include:"#comment-block"},{include:"#escapes"},{captures:{0:{patterns:[{include:"#escapes"}]}},match:"(?x)\n(?:[-a-zA-Z_]    | [^\\x00-\\x7F])     # First letter\n(?:[-a-zA-Z0-9_] | [^\\x00-\\x7F]      # Remainder of identifier\n  |\\\\(?:[0-9a-fA-F]{1,6}|.)\n)*",name:"variable.parameter.style-name.css"}]},{begin:"{",beginCaptures:{0:{name:"punctuation.section.property-list.begin.bracket.curly.css"}},end:"}",endCaptures:{0:{name:"punctuation.section.property-list.end.bracket.curly.css"}},name:"meta.at-rule.counter-style.body.css",patterns:[{include:"#comment-block"},{include:"#escapes"},{include:"#rule-list-innards"}]}]},{begin:"(?i)(?=@document([\\s'\"{;]|/\\*|$))",end:"(?<=})",patterns:[{begin:"(?i)\\G(@)document",beginCaptures:{0:{name:"keyword.control.at-rule.document.css"},1:{name:"punctuation.definition.keyword.css"}},end:"(?=\\s*[{;])",name:"meta.at-rule.document.header.css",patterns:[{begin:"(?i)(?<![\\w-])(url-prefix|domain|regexp)(\\()",beginCaptures:{1:{name:"support.function.document-rule.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},name:"meta.function.document-rule.css",patterns:[{include:"#string"},{include:"#comment-block"},{include:"#escapes"},{match:"[^'\")\\s]+",name:"variable.parameter.document-rule.css"}]},{include:"#url"},{include:"#commas"},{include:"#comment-block"},{include:"#escapes"}]},{begin:"{",beginCaptures:{0:{name:"punctuation.section.document.begin.bracket.curly.css"}},end:"}",endCaptures:{0:{name:"punctuation.section.document.end.bracket.curly.css"}},name:"meta.at-rule.document.body.css",patterns:[{include:"$self"}]}]},{begin:"(?i)(?=@keyframes([\\s'\"{;]|/\\*|$))",end:"(?<=})",patterns:[{begin:"(?i)\\G(@)keyframes",beginCaptures:{0:{name:"keyword.control.at-rule.keyframes.css"},1:{name:"punctuation.definition.keyword.css"}},end:"(?=\\s*{)",name:"meta.at-rule.keyframes.header.css",patterns:[{include:"#comment-block"},{include:"#escapes"},{captures:{0:{patterns:[{include:"#escapes"}]}},match:"(?x)\n(?:[-a-zA-Z_]    | [^\\x00-\\x7F])     # First letter\n(?:[-a-zA-Z0-9_] | [^\\x00-\\x7F]      # Remainder of identifier\n  |\\\\(?:[0-9a-fA-F]{1,6}|.)\n)*",name:"variable.parameter.keyframe-list.css"}]},{begin:"{",beginCaptures:{0:{name:"punctuation.section.keyframes.begin.bracket.curly.css"}},end:"}",endCaptures:{0:{name:"punctuation.section.keyframes.end.bracket.curly.css"}},name:"meta.at-rule.keyframes.body.css",patterns:[{include:"#comment-block"},{include:"#escapes"},{captures:{1:{name:"entity.other.keyframe-offset.css"},2:{name:"entity.other.keyframe-offset.percentage.css"}},match:"(?xi)\n(?<![\\w-]) (from|to) (?![\\w-])         # Keywords for 0% | 100%\n|\n([-+]?(?:\\d+(?:\\.\\d+)?|\\.\\d+)%)     # Percentile value"},{include:"#rule-list"}]}]},{begin:"(?i)(?=@supports(\\s|\\(|/\\*|$))",end:"(?<=})|(?=;)",patterns:[{begin:"(?i)\\G(@)supports",beginCaptures:{0:{name:"keyword.control.at-rule.supports.css"},1:{name:"punctuation.definition.keyword.css"}},end:"(?=\\s*[{;])",name:"meta.at-rule.supports.header.css",patterns:[{include:"#feature-query-operators"},{include:"#feature-query"},{include:"#comment-block"},{include:"#escapes"}]},{begin:"{",beginCaptures:{0:{name:"punctuation.section.supports.begin.bracket.curly.css"}},end:"}",endCaptures:{0:{name:"punctuation.section.supports.end.bracket.curly.css"}},name:"meta.at-rule.supports.body.css",patterns:[{include:"$self"}]}]},{begin:"(?i)((@)viewport)(?=[\\s'\"{;]|/\\*|$)",beginCaptures:{1:{name:"keyword.control.at-rule.viewport.css"},2:{name:"punctuation.definition.keyword.css"}},end:"(?=\\s*[@{;])",name:"meta.at-rule.viewport.css",patterns:[{include:"#comment-block"},{include:"#escapes"}]},{begin:"(?i)((@)font-feature-values)(?=[\\s'\"{;]|/\\*|$)\\s*",beginCaptures:{1:{name:"keyword.control.at-rule.font-feature-values.css"},2:{name:"punctuation.definition.keyword.css"}},contentName:"variable.parameter.font-name.css",end:"(?=\\s*[@{;])",name:"meta.at-rule.font-features.css",patterns:[{include:"#comment-block"},{include:"#escapes"}]},{include:"#font-features"},{begin:"(?i)((@)namespace)(?=[\\s'\";]|/\\*|$)",beginCaptures:{1:{name:"keyword.control.at-rule.namespace.css"},2:{name:"punctuation.definition.keyword.css"}},end:";|(?=[@{])",endCaptures:{0:{name:"punctuation.terminator.rule.css"}},name:"meta.at-rule.namespace.css",patterns:[{include:"#url"},{captures:{1:{patterns:[{include:"#comment-block"}]},2:{name:"entity.name.function.namespace-prefix.css",patterns:[{include:"#escapes"}]}},match:"(?xi)\n(?:\\G|^|(?<=\\s))\n(?=\n  (?<=\\s|^)                             # Starts with whitespace\n  (?:[-a-zA-Z_]|[^\\x00-\\x7F])          # Then a valid identifier character\n  |\n  \\s*                                   # Possible adjoining whitespace\n  /\\*(?:[^*]|\\*[^/])*\\*/              # Injected comment\n)\n(.*?)                                    # Grouped to embed #comment-block\n(\n  (?:[-a-zA-Z_]    | [^\\x00-\\x7F])     # First letter\n  (?:[-a-zA-Z0-9_] | [^\\x00-\\x7F]      # Remainder of identifier\n    |\\\\(?:[0-9a-fA-F]{1,6}|.)\n  )*\n)"},{include:"#comment-block"},{include:"#escapes"},{include:"#string"}]}]},"color-keywords":{patterns:[{match:"(?i)(?<![\\w-])(aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)(?![\\w-])",name:"support.constant.color.w3c-standard-color-name.css"},{match:"(?xi) (?<![\\w-])\n(aliceblue|antiquewhite|aquamarine|azure|beige|bisque|blanchedalmond|blueviolet|brown|burlywood\n|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan\n|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange\n|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise\n|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen\n|gainsboro|ghostwhite|gold|goldenrod|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki\n|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow\n|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray\n|lightslategrey|lightsteelblue|lightyellow|limegreen|linen|magenta|mediumaquamarine|mediumblue\n|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise\n|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|oldlace|olivedrab|orangered\n|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum\n|powderblue|rebeccapurple|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell\n|sienna|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|thistle|tomato\n|transparent|turquoise|violet|wheat|whitesmoke|yellowgreen)\n(?![\\w-])",name:"support.constant.color.w3c-extended-color-name.css"},{match:"(?i)(?<![\\w-])currentColor(?![\\w-])",name:"support.constant.color.current.css"},{match:"(?xi) (?<![\\w-])\n(ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow\n|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption\n|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow\n|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText)\n(?![\\w-])",name:"invalid.deprecated.color.system.css"}]},combinators:{patterns:[{match:"/deep/|>>>",name:"invalid.deprecated.combinator.css"},{match:">>|>|\\+|~",name:"keyword.operator.combinator.css"}]},commas:{match:",",name:"punctuation.separator.list.comma.css"},"comment-block":{begin:"/\\*",beginCaptures:{0:{name:"punctuation.definition.comment.begin.css"}},end:"\\*/",endCaptures:{0:{name:"punctuation.definition.comment.end.css"}},name:"comment.block.css"},escapes:{patterns:[{match:"\\\\[0-9a-fA-F]{1,6}",name:"constant.character.escape.codepoint.css"},{match:"\\\\$\\n?",name:"constant.character.escape.newline.css"},{match:"\\\\.",name:"constant.character.escape.css"}]},"feature-query":{begin:"\\(",beginCaptures:{0:{name:"punctuation.definition.condition.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.definition.condition.end.bracket.round.css"}},name:"meta.feature-query.css",patterns:[{include:"#feature-query-operators"},{include:"#feature-query"}]},"feature-query-operators":{patterns:[{match:"(?i)(?<=[\\s()]|^|\\*/)(and|not|or)(?=[\\s()]|/\\*|$)",name:"keyword.operator.logical.feature.$1.css"},{include:"#rule-list-innards"}]},"font-features":{begin:"(?xi)\n((@)(annotation|character-variant|ornaments|styleset|stylistic|swash))\n(?=[\\s@'\"{;]|/\\*|$)",beginCaptures:{1:{name:"keyword.control.at-rule.${3:/downcase}.css"},2:{name:"punctuation.definition.keyword.css"}},end:"(?<=})",name:"meta.at-rule.${3:/downcase}.css",patterns:[{begin:"{",beginCaptures:{0:{name:"punctuation.section.property-list.begin.bracket.curly.css"}},end:"}",endCaptures:{0:{name:"punctuation.section.property-list.end.bracket.curly.css"}},name:"meta.property-list.font-feature.css",patterns:[{captures:{0:{patterns:[{include:"#escapes"}]}},match:"(?x)\n(?: [-a-zA-Z_]    | [^\\x00-\\x7F] )   # First letter\n(?: [-a-zA-Z0-9_] | [^\\x00-\\x7F]     # Remainder of identifier\n  | \\\\(?:[0-9a-fA-F]{1,6}|.)\n)*",name:"variable.font-feature.css"},{include:"#rule-list-innards"}]}]},functions:{patterns:[{begin:"(?i)(?<![\\w-])(calc)(\\()",beginCaptures:{1:{name:"support.function.calc.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},name:"meta.function.calc.css",patterns:[{match:"[*/]|(?<=\\s|^)[-+](?=\\s|$)",name:"keyword.operator.arithmetic.css"},{include:"#property-values"}]},{begin:"(?i)(?<![\\w-])(rgba?|hsla?)(\\()",beginCaptures:{1:{name:"support.function.misc.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},name:"meta.function.color.css",patterns:[{include:"#property-values"}]},{begin:'(?xi) (?<![\\w-])\n(\n  (?:-webkit-|-moz-|-o-)?    # Accept prefixed/historical variants\n  (?:repeating-)?            # "Repeating"-type gradient\n  (?:linear|radial|conic)    # Shape\n  -gradient\n)\n(\\()',beginCaptures:{1:{name:"support.function.gradient.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},name:"meta.function.gradient.css",patterns:[{match:"(?i)(?<![\\w-])(from|to|at)(?![\\w-])",name:"keyword.operator.gradient.css"},{include:"#property-values"}]},{begin:"(?i)(?<![\\w-])(-webkit-gradient)(\\()",beginCaptures:{1:{name:"invalid.deprecated.gradient.function.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},name:"meta.function.gradient.invalid.deprecated.gradient.css",patterns:[{begin:"(?i)(?<![\\w-])(from|to|color-stop)(\\()",beginCaptures:{1:{name:"invalid.deprecated.function.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},patterns:[{include:"#property-values"}]},{include:"#property-values"}]},{begin:"(?xi) (?<![\\w-])\n(annotation|attr|blur|brightness|character-variant|contrast|counters?\n|cross-fade|drop-shadow|element|fit-content|format|grayscale|hue-rotate\n|image-set|invert|local|minmax|opacity|ornaments|repeat|saturate|sepia\n|styleset|stylistic|swash|symbols)\n(\\()",beginCaptures:{1:{name:"support.function.misc.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},name:"meta.function.misc.css",patterns:[{match:'(?i)(?<=[,\\s"]|\\*/|^)\\d+x(?=[\\s,"\')]|/\\*|$)',name:"constant.numeric.other.density.css"},{include:"#property-values"},{match:"[^'\"),\\s]+",name:"variable.parameter.misc.css"}]},{begin:"(?i)(?<![\\w-])(circle|ellipse|inset|polygon|rect)(\\()",beginCaptures:{1:{name:"support.function.shape.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},name:"meta.function.shape.css",patterns:[{match:"(?i)(?<=\\s|^|\\*/)(at|round)(?=\\s|/\\*|$)",name:"keyword.operator.shape.css"},{include:"#property-values"}]},{begin:"(?i)(?<![\\w-])(cubic-bezier|steps)(\\()",beginCaptures:{1:{name:"support.function.timing-function.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},name:"meta.function.timing-function.css",patterns:[{match:"(?i)(?<![\\w-])(start|end)(?=\\s*\\)|$)",name:"support.constant.step-direction.css"},{include:"#property-values"}]},{begin:"(?xi) (?<![\\w-])\n( (?:translate|scale|rotate)(?:[XYZ]|3D)?\n| matrix(?:3D)?\n| skew[XY]?\n| perspective\n)\n(\\()",beginCaptures:{1:{name:"support.function.transform.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},patterns:[{include:"#property-values"}]},{include:"#url"},{begin:"(?i)(?<![\\w-])(var)(\\()",beginCaptures:{1:{name:"support.function.misc.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},name:"meta.function.variable.css",patterns:[{name:"variable.argument.css",match:"(?x)\n--\n(?:[-a-zA-Z_]    | [^\\x00-\\x7F])     # First letter\n(?:[-a-zA-Z0-9_] | [^\\x00-\\x7F]      # Remainder of identifier\n  |\\\\(?:[0-9a-fA-F]{1,6}|.)\n)*"},{include:"#property-values"}]}]},"functional-pseudo-classes":{patterns:[{begin:"(?i)((:)dir)(\\()",beginCaptures:{1:{name:"entity.other.attribute-name.pseudo-class.css"},2:{name:"punctuation.definition.entity.css"},3:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},patterns:[{include:"#comment-block"},{include:"#escapes"},{match:"(?i)(?<![\\w-])(ltr|rtl)(?![\\w-])",name:"support.constant.text-direction.css"},{include:"#property-value"}]},{begin:"(?i)((:)lang)(\\()",beginCaptures:{1:{name:"entity.other.attribute-name.pseudo-class.css"},2:{name:"punctuation.definition.entity.css"},3:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},patterns:[{match:"(?<=[(,\\s])[a-zA-Z]+(-[a-zA-Z0-9]*|\\\\(?:[0-9a-fA-F]{1,6}|.))*(?=[),\\s])",name:"support.constant.language-range.css"},{begin:'"',beginCaptures:{0:{name:"punctuation.definition.string.begin.css"}},end:'"',endCaptures:{0:{name:"punctuation.definition.string.end.css"}},name:"string.quoted.double.css",patterns:[{include:"#escapes"},{match:'(?<=["\\s])[a-zA-Z*]+(-[a-zA-Z0-9*]*)*(?=["\\s])',name:"support.constant.language-range.css"}]},{begin:"'",beginCaptures:{0:{name:"punctuation.definition.string.begin.css"}},end:"'",endCaptures:{0:{name:"punctuation.definition.string.end.css"}},name:"string.quoted.single.css",patterns:[{include:"#escapes"},{match:"(?<=['\\s])[a-zA-Z*]+(-[a-zA-Z0-9*]*)*(?=['\\s])",name:"support.constant.language-range.css"}]},{include:"#commas"}]},{begin:"(?i)((:)(?:not|has|matches))(\\()",beginCaptures:{1:{name:"entity.other.attribute-name.pseudo-class.css"},2:{name:"punctuation.definition.entity.css"},3:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},patterns:[{include:"#selector-innards"}]},{begin:"(?i)((:)nth-(?:last-)?(?:child|of-type))(\\()",beginCaptures:{1:{name:"entity.other.attribute-name.pseudo-class.css"},2:{name:"punctuation.definition.entity.css"},3:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},patterns:[{match:"(?i)[+-]?(\\d+n?|n)(\\s*[+-]\\s*\\d+)?",name:"constant.numeric.css"},{match:"(?i)even|odd",name:"support.constant.parity.css"}]}]},"media-features":{captures:{1:{name:"support.type.property-name.media.css"},2:{name:"invalid.deprecated.media.css"},3:{name:"support.type.vendored.property-name.media.css"}},match:"(?xi)\n(?<=^|\\s|\\(|\\*/)           # Preceded by whitespace, bracket or comment\n(?:\n  # Standardised features\n  (\n    (?:min-|max-)?            # Range features\n    (?: height\n      | width\n      | aspect-ratio\n      | color\n      | color-index\n      | monochrome\n      | resolution\n    )\n    | grid                    # Discrete features\n    | scan\n    | orientation\n    | display-mode\n  )\n  |\n  # Deprecated features\n  (\n    (?:min-|max-)?            # Deprecated in Media Queries 4\n    device-\n    (?: height\n      | width\n      | aspect-ratio\n    )\n  )\n  |\n  # Vendor extensions\n  (\n    (?:\n      # Spec-compliant syntax\n      [-_]\n      (?: webkit              # Webkit/Blink\n        | apple|khtml         # Webkit aliases\n        | epub                # ePub3\n        | moz                 # Gecko\n        | ms                  # Microsoft\n        | o                   # Presto (pre-Opera 15)\n        | xv|ah|rim|atsc|     # Less common vendors\n          hp|tc|wap|ro\n      )\n      |\n      # Non-standard prefixes\n      (?: mso                 # Microsoft Office\n        | prince              # YesLogic\n      )\n    )\n    -\n    [\\w-]+                   # Feature name\n    (?=                       # Terminates correctly\n      \\s*                    # Possible whitespace\n      (?:                     # Possible injected comment\n        /\\*\n        (?:[^*]|\\*[^/])*\n        \\*/\n      )?\n      \\s*\n      [:)]                    # Ends with a colon or closed bracket\n    )\n  )\n)\n(?=\\s|$|[><:=]|\\)|/\\*)     # Terminates cleanly"},"media-feature-keywords":{match:"(?xi)\n(?<=^|\\s|:|\\*/)\n(?: portrait                  # Orientation\n  | landscape\n  | progressive               # Scan types\n  | interlace\n  | fullscreen                # Display modes\n  | standalone\n  | minimal-ui\n  | browser\n)\n(?=\\s|\\)|$)",name:"support.constant.property-value.css"},"media-query":{begin:"\\G",end:"(?=\\s*[{;])",patterns:[{include:"#comment-block"},{include:"#escapes"},{include:"#media-types"},{match:"(?i)(?<=\\s|^|,|\\*/)(only|not)(?=\\s|{|/\\*|$)",name:"keyword.operator.logical.$1.media.css"},{match:"(?i)(?<=\\s|^|\\*/|\\))and(?=\\s|/\\*|$)",name:"keyword.operator.logical.and.media.css"},{match:",(?:(?:\\s*,)+|(?=\\s*[;){]))",name:"invalid.illegal.comma.css"},{include:"#commas"},{begin:"\\(",beginCaptures:{0:{name:"punctuation.definition.parameters.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.definition.parameters.end.bracket.round.css"}},patterns:[{include:"#media-features"},{include:"#media-feature-keywords"},{match:":",name:"punctuation.separator.key-value.css"},{match:">=|<=|=|<|>",name:"keyword.operator.comparison.css"},{captures:{1:{name:"constant.numeric.css"},2:{name:"keyword.operator.arithmetic.css"},3:{name:"constant.numeric.css"}},match:"(\\d+)\\s*(/)\\s*(\\d+)",name:"meta.ratio.css"},{include:"#numeric-values"},{include:"#comment-block"}]}]},"media-query-list":{begin:"(?=\\s*[^{;])",end:"(?=\\s*[{;])",patterns:[{include:"#media-query"}]},"media-types":{captures:{1:{name:"support.constant.media.css"},2:{name:"invalid.deprecated.constant.media.css"}},match:"(?xi)\n(?<=^|\\s|,|\\*/)\n(?:\n  # Valid media types\n  (all|print|screen|speech)\n  |\n  # Deprecated in Media Queries 4: http://dev.w3.org/csswg/mediaqueries/#media-types\n  (aural|braille|embossed|handheld|projection|tty|tv)\n)\n(?=$|[{,\\s;]|/\\*)"},"numeric-values":{patterns:[{captures:{1:{name:"punctuation.definition.constant.css"}},match:"(#)(?:[0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})\\b",name:"constant.other.color.rgb-value.hex.css"},{captures:{1:{name:"keyword.other.unit.percentage.css"},2:{name:"keyword.other.unit.${2:/downcase}.css"}},match:"(?xi) (?<![\\w-])\n[-+]?                               # Sign indicator\n\n(?:                                 # Numerals\n    [0-9]+ (?:\\.[0-9]+)?           # Integer/float with leading digits\n  | \\.[0-9]+                       # Float without leading digits\n)\n\n(?:                                 # Scientific notation\n  (?<=[0-9])                        # Exponent must follow a digit\n  E                                 # Exponent indicator\n  [-+]?                             # Possible sign indicator\n  [0-9]+                            # Exponent value\n)?\n\n(?:                                 # Possible unit for data-type:\n  (%)                               # - Percentage\n  | ( deg|grad|rad|turn             # - Angle\n    | Hz|kHz                        # - Frequency\n    | ch|cm|em|ex|in|mm|mozmm|pc|   # - Length\n      pt|px|q|rem|vh|vmax|vmin|vw\n    | dpi|dpcm|dppx                 # - Resolution\n    | s|ms                          # - Time\n    )\n  \\b                               # Boundary checking intentionally lax to\n)?                                  # facilitate embedding in CSS-like grammars",name:"constant.numeric.css"}]},"property-keywords":{patterns:[{match:"(?xi) (?<![\\w-])\n(above|absolute|active|add|additive|after-edge|alias|all|all-petite-caps|all-scroll|all-small-caps|alpha|alphabetic|alternate|alternate-reverse\n|always|antialiased|auto|auto-pos|available|avoid|avoid-column|avoid-page|avoid-region|backwards|balance|baseline|before-edge|below|bevel\n|bidi-override|blink|block|block-axis|block-start|block-end|bold|bolder|border|border-box|both|bottom|bottom-outside|break-all|break-word|bullets\n|butt|capitalize|caption|cell|center|central|char|circle|clip|clone|close-quote|closest-corner|closest-side|col-resize|collapse|color|color-burn\n|color-dodge|column|column-reverse|common-ligatures|compact|condensed|contain|content|content-box|contents|context-menu|contextual|copy|cover\n|crisp-edges|crispEdges|crosshair|cyclic|darken|dashed|decimal|default|dense|diagonal-fractions|difference|digits|disabled|disc|discretionary-ligatures\n|distribute|distribute-all-lines|distribute-letter|distribute-space|dot|dotted|double|double-circle|e-resize|each-line|ease|ease-in\n|ease-in-out|ease-out|economy|ellipse|ellipsis|embed|end|evenodd|ew-resize|exact|exclude|exclusion|expanded|extends|extra-condensed|extra-expanded\n|farthest-corner|farthest-side|fill|fill-available|fill-box|filled|fit-content|fixed|flat|flex|flex-end|flex-start|flip|forwards|freeze\n|from-image|full-width|geometricPrecision|georgian|grab|grabbing|grayscale|grid|groove|hand|hanging|hard-light|help|hidden|hide\n|historical-forms|historical-ligatures|horizontal|horizontal-tb|hue|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space\n|ideographic|inactive|infinite|inherit|initial|inline|inline-axis|inline-block|inline-end|inline-flex|inline-grid|inline-list-item|inline-start\n|inline-table|inset|inside|inter-character|inter-ideograph|inter-word|intersect|invert|isolate|isolate-override|italic|jis04|jis78|jis83\n|jis90|justify|justify-all|kannada|keep-all|landscape|large|larger|left|lighten|lighter|line|line-edge|line-through|linear|linearRGB\n|lining-nums|list-item|local|loose|lowercase|lr|lr-tb|ltr|luminance|luminosity|main-size|mandatory|manipulation|manual|margin-box|match-parent\n|match-source|mathematical|max-content|medium|menu|message-box|middle|min-content|miter|mixed|move|multiply|n-resize|narrower|ne-resize\n|nearest-neighbor|nesw-resize|newspaper|no-change|no-clip|no-close-quote|no-common-ligatures|no-contextual|no-discretionary-ligatures\n|no-drop|no-historical-ligatures|no-open-quote|no-repeat|none|nonzero|normal|not-allowed|nowrap|ns-resize|numbers|numeric|nw-resize|nwse-resize\n|oblique|oldstyle-nums|open|open-quote|optimizeLegibility|optimizeQuality|optimizeSpeed|ordinal|outset|outside|over|overlay|overline|padding\n|padding-box|page|painted|pan-down|pan-left|pan-right|pan-up|pan-x|pan-y|paused|petite-caps|pixelated|plaintext|pointer|portrait|pre|pre-line\n|pre-wrap|preserve-3d|progress|progressive|proportional-nums|proportional-width|proximity|radial|recto|region|relative|remove|repeat|repeat-[xy]\n|reset-size|reverse|revert|ridge|right|rl|rl-tb|round|row|row-resize|row-reverse|row-severse|rtl|ruby|ruby-base|ruby-base-container|ruby-text\n|ruby-text-container|run-in|running|s-resize|saturation|scale-down|screen|scroll|scroll-position|se-resize|semi-condensed|semi-expanded|separate\n|sesame|show|sideways|sideways-left|sideways-lr|sideways-right|sideways-rl|simplified|slashed-zero|slice|small|small-caps|small-caption|smaller\n|smooth|soft-light|solid|space|space-around|space-between|spell-out|square|sRGB|stacked-fractions|start|static|status-bar|step-end|step-start\n|sticky|stretch|strict|stroke|stroke-box|style|sub|subgrid|subpixel-antialiased|subtract|super|sw-resize|symbolic|table|table-caption|table-cell\n|table-column|table-column-group|table-footer-group|table-header-group|table-row|table-row-group|tabular-nums|tb|tb-rl|text|text-after-edge\n|text-before-edge|text-bottom|text-top|thick|thin|titling-caps|top|top-outside|touch|traditional|transparent|triangle|ultra-condensed|ultra-expanded\n|under|underline|unicase|unset|uppercase|upright|use-glyph-orientation|use-script|verso|vertical|vertical-ideographic|vertical-lr|vertical-rl\n|vertical-text|view-box|visible|visibleFill|visiblePainted|visibleStroke|w-resize|wait|wavy|weight|whitespace|wider|words|wrap|wrap-reverse\n|x-large|x-small|xx-large|xx-small|zero|zoom-in|zoom-out)\n(?![\\w-])",name:"support.constant.property-value.css"},{match:"(?xi) (?<![\\w-])\n(arabic-indic|armenian|bengali|cambodian|circle|cjk-decimal|cjk-earthly-branch|cjk-heavenly-stem|cjk-ideographic\n|decimal|decimal-leading-zero|devanagari|disc|disclosure-closed|disclosure-open|ethiopic-halehame-am\n|ethiopic-halehame-ti-e[rt]|ethiopic-numeric|georgian|gujarati|gurmukhi|hangul|hangul-consonant|hebrew\n|hiragana|hiragana-iroha|japanese-formal|japanese-informal|kannada|katakana|katakana-iroha|khmer\n|korean-hangul-formal|korean-hanja-formal|korean-hanja-informal|lao|lower-alpha|lower-armenian|lower-greek\n|lower-latin|lower-roman|malayalam|mongolian|myanmar|oriya|persian|simp-chinese-formal|simp-chinese-informal\n|square|tamil|telugu|thai|tibetan|trad-chinese-formal|trad-chinese-informal|upper-alpha|upper-armenian\n|upper-latin|upper-roman|urdu)\n(?![\\w-])",name:"support.constant.property-value.list-style-type.css"},{match:"(?<![\\w-])(?i:-(?:ah|apple|atsc|epub|hp|khtml|moz|ms|o|rim|ro|tc|wap|webkit|xv)|(?:mso|prince))-[a-zA-Z-]+",name:"support.constant.vendored.property-value.css"},{match:"(?<![\\w-])(?i:arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace)(?![\\w-])",name:"support.constant.font-name.css"}]},"property-names":{patterns:[{match:"(?xi) (?<![\\w-])\n(?:\n    # Standard CSS\n    additive-symbols|align-content|align-items|align-self|all|animation|animation-delay|animation-direction\n  | animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state\n  | animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode\n  | background-clip|background-color|background-image|background-origin|background-position|background-position-[xy]\n  | background-repeat|background-size|block-size|border|border-block-end|border-block-end-color|border-block-end-style\n  | border-block-end-width|border-block-start|border-block-start-color|border-block-start-style\n  | border-block-start-width|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius\n  | border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset\n  | border-image-repeat|border-image-slice|border-image-source|border-image-width|border-inline-end\n  | border-inline-end-color|border-inline-end-style|border-inline-end-width|border-inline-start\n  | border-inline-start-color|border-inline-start-style|border-inline-start-width|border-left|border-left-color\n  | border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style\n  | border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius\n  | border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-decoration-break\n  | box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|clip-path|color\n  | column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width\n  | column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display\n  | empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float\n  | font|font-family|font-feature-settings|font-kerning|font-language-override|font-size|font-size-adjust\n  | font-stretch|font-style|font-synthesis|font-variant|font-variant-alternates|font-variant-caps\n  | font-variant-east-asian|font-variant-ligatures|font-variant-numeric|font-variant-position|font-weight\n  | grid|grid-area|grid-auto-columns|grid-auto-flow|grid-auto-rows|grid-column|grid-column-end|grid-column-gap\n  | grid-column-start|grid-gap|grid-row|grid-row-end|grid-row-gap|grid-row-start|grid-template|grid-template-areas\n  | grid-template-columns|grid-template-rows|height|hyphens|image-orientation|image-rendering|image-resolution\n  | ime-mode|inline-size|isolation|justify-content|left|letter-spacing|line-break|line-height|list-style\n  | list-style-image|list-style-position|list-style-type|margin|margin-block-end|margin-block-start|margin-bottom\n  | margin-inline-end|margin-inline-start|margin-left|margin-right|margin-top|mask|mask-clip|mask-composite\n  | mask-image|mask-mode|mask-origin|mask-position|mask-repeat|mask-size|mask-type|max-block-size|max-height\n  | max-inline-size|max-width|max-zoom|min-block-size|min-height|min-inline-size|min-width|min-zoom|mix-blend-mode\n  | negative|object-fit|object-position|offset-block-end|offset-block-start|offset-inline-end|offset-inline-start\n  | opacity|order|orientation|orphans|outline|outline-color|outline-offset|outline-style|outline-width|overflow\n  | overflow-wrap|overflow-[xy]|pad|padding|padding-block-end|padding-block-start|padding-bottom|padding-inline-end\n  | padding-inline-start|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside\n  | perspective|perspective-origin|pointer-events|position|prefix|quotes|range|resize|right|ruby-align|ruby-merge\n  | ruby-position|scroll-behavior|scroll-snap-coordinate|scroll-snap-destination|scroll-snap-type|shape-image-threshold\n  | shape-margin|shape-outside|speak-as|src|suffix|symbols|system|tab-size|table-layout|text-align|text-align-last\n  | text-combine-upright|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-emphasis\n  | text-emphasis-color|text-emphasis-position|text-emphasis-style|text-indent|text-orientation|text-overflow\n  | text-rendering|text-shadow|text-transform|text-underline-position|top|touch-action|transform|transform-box\n  | transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property\n  | transition-timing-function|unicode-bidi|unicode-range|user-zoom|vertical-align|visibility|white-space|widows\n  | width|will-change|word-break|word-spacing|word-wrap|writing-mode|z-index|zoom\n\n  # SVG attributes\n  | alignment-baseline|baseline-shift|clip-rule|color-interpolation|color-interpolation-filters|color-profile\n  | color-rendering|dominant-baseline|enable-background|fill|fill-opacity|fill-rule|flood-color|flood-opacity\n  | glyph-orientation-horizontal|glyph-orientation-vertical|kerning|lighting-color|marker-end|marker-mid\n  | marker-start|shape-rendering|stop-color|stop-opacity|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap\n  | stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|text-anchor|x|y\n\n  # Not listed on MDN; presumably deprecated\n  | adjust|after|align|align-last|alignment|alignment-adjust|appearance|attachment|azimuth|background-break\n  | balance|baseline|before|bidi|binding|bookmark|bookmark-label|bookmark-level|bookmark-target|border-length\n  | bottom-color|bottom-left-radius|bottom-right-radius|bottom-style|bottom-width|box|box-align|box-direction\n  | box-flex|box-flex-group|box-lines|box-ordinal-group|box-orient|box-pack|break|character|collapse|column\n  | column-break-after|column-break-before|count|counter|crop|cue|cue-after|cue-before|decoration|decoration-break\n  | delay|display-model|display-role|down|drop|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust\n  | drop-initial-before-align|drop-initial-size|drop-initial-value|duration|elevation|emphasis|family|fit|fit-position\n  | flex-group|float-offset|gap|grid-columns|grid-rows|hanging-punctuation|header|hyphenate|hyphenate-after|hyphenate-before\n  | hyphenate-character|hyphenate-lines|hyphenate-resource|icon|image|increment|indent|index|initial-after-adjust\n  | initial-after-align|initial-before-adjust|initial-before-align|initial-size|initial-value|inline-box-align|iteration-count\n  | justify|label|left-color|left-style|left-width|length|level|line|line-stacking|line-stacking-ruby|line-stacking-shift\n  | line-stacking-strategy|lines|list|mark|mark-after|mark-before|marks|marquee|marquee-direction|marquee-play-count|marquee-speed\n  | marquee-style|max|min|model|move-to|name|nav|nav-down|nav-index|nav-left|nav-right|nav-up|new|numeral|offset|ordinal-group\n  | orient|origin|overflow-style|overhang|pack|page|page-policy|pause|pause-after|pause-before|phonemes|pitch|pitch-range\n  | play-count|play-during|play-state|point|presentation|presentation-level|profile|property|punctuation|punctuation-trim\n  | radius|rate|rendering-intent|repeat|replace|reset|resolution|resource|respond-to|rest|rest-after|rest-before|richness\n  | right-color|right-style|right-width|role|rotation|rotation-point|rows|ruby|ruby-overhang|ruby-span|rule|rule-color\n  | rule-style|rule-width|shadow|size|size-adjust|sizing|space|space-collapse|spacing|span|speak|speak-header|speak-numeral\n  | speak-punctuation|speech|speech-rate|speed|stacking|stacking-ruby|stacking-shift|stacking-strategy|stress|stretch\n  | string-set|style|style-image|style-position|style-type|target|target-name|target-new|target-position|text|text-height\n  | text-justify|text-outline|text-replace|text-wrap|timing-function|top-color|top-left-radius|top-right-radius|top-style\n  | top-width|trim|unicode|up|user-select|variant|voice|voice-balance|voice-duration|voice-family|voice-pitch|voice-pitch-range\n  | voice-rate|voice-stress|voice-volume|volume|weight|white|white-space-collapse|word|wrap\n)\n(?![\\w-])",
name:"support.type.property-name.css"},{match:"(?<![\\w-])(?i:-(?:ah|apple|atsc|epub|hp|khtml|moz|ms|o|rim|ro|tc|wap|webkit|xv)|(?:mso|prince))-[a-zA-Z-]+",name:"support.type.vendored.property-name.css"}]},"property-values":{patterns:[{include:"#commas"},{include:"#comment-block"},{include:"#escapes"},{include:"#functions"},{include:"#property-keywords"},{include:"#unicode-range"},{include:"#numeric-values"},{include:"#color-keywords"},{include:"#string"},{match:"!\\s*important(?![\\w-])",name:"keyword.other.important.css"}]},"pseudo-classes":{captures:{1:{name:"punctuation.definition.entity.css"},2:{name:"invalid.illegal.colon.css"}},match:"(?xi)\n(:)(:*)\n(?: active|any-link|checked|default|disabled|empty|enabled|first\n  | (?:first|last|only)-(?:child|of-type)|focus|fullscreen|host|hover\n  | in-range|indeterminate|invalid|left|link|optional|out-of-range\n  | read-only|read-write|required|right|root|scope|target|unresolved\n  | valid|visited\n)(?![\\w-])",name:"entity.other.attribute-name.pseudo-class.css"},"pseudo-elements":{captures:{1:{name:"punctuation.definition.entity.css"},2:{name:"punctuation.definition.entity.css"}},match:"(?xi)\n(?:\n  (::?)                       # Elements using both : and :: notation\n  (?: after\n    | before\n    | first-letter\n    | first-line\n    | (?:-(?:ah|apple|atsc|epub|hp|khtml|moz\n            |ms|o|rim|ro|tc|wap|webkit|xv)\n        | (?:mso|prince))\n      -[a-z-]+\n  )\n  |\n  (::)                        # Double-colon only\n  (?: backdrop\n    | content\n    | grammar-error\n    | marker\n    | placeholder\n    | selection\n    | shadow\n    | spelling-error\n  )\n)\n(?![\\w-])",name:"entity.other.attribute-name.pseudo-element.css"},"rule-list":{begin:"{",beginCaptures:{0:{name:"punctuation.section.property-list.begin.bracket.curly.css"}},end:"}",endCaptures:{0:{name:"punctuation.section.property-list.end.bracket.curly.css"}},name:"meta.property-list.css",patterns:[{include:"#rule-list-innards"}]},"rule-list-innards":{patterns:[{include:"#comment-block"},{include:"#escapes"},{include:"#font-features"},{match:"(?x) (?<![\\w-])\n--\n(?:[-a-zA-Z_]    | [^\\x00-\\x7F])     # First letter\n(?:[-a-zA-Z0-9_] | [^\\x00-\\x7F]      # Remainder of identifier\n  |\\\\(?:[0-9a-fA-F]{1,6}|.)\n)*",name:"variable.css"},{begin:"(?<![-a-zA-Z])(?=[-a-zA-Z])",end:"$|(?![-a-zA-Z])",name:"meta.property-name.css",patterns:[{include:"#property-names"}]},{begin:"(:)\\s*",beginCaptures:{1:{name:"punctuation.separator.key-value.css"}},end:"\\s*(;)|\\s*(?=}|\\))",endCaptures:{1:{name:"punctuation.terminator.rule.css"}},contentName:"meta.property-value.css",patterns:[{include:"#comment-block"},{include:"#property-values"}]},{match:";",name:"punctuation.terminator.rule.css"}]},selector:{begin:"(?x)\n(?=\n  (?:\\|)?                    # Possible anonymous namespace prefix\n  (?:\n    [-\\[:.*\\#a-zA-Z_]       # Valid selector character\n    |\n    [^\\x00-\\x7F]            # Which can include non-ASCII symbols\n    |\n    \\\\                      # Or an escape sequence\n    (?:[0-9a-fA-F]{1,6}|.)\n  )\n)",end:"(?=\\s*[/@{)])",name:"meta.selector.css",patterns:[{include:"#selector-innards"}]},"selector-innards":{patterns:[{include:"#comment-block"},{include:"#commas"},{include:"#escapes"},{include:"#combinators"},{captures:{1:{name:"entity.other.namespace-prefix.css"},2:{name:"punctuation.separator.css"}},match:"(?x)\n(?:^|(?<=[\\s,(};]))         # Follows whitespace, comma, semicolon, or bracket\n(?!\n  [-\\w*]+\n  \\|\n  (?!\n      [-\\[:.*\\#a-zA-Z_]    # Make sure there's a selector to match\n    | [^\\x00-\\x7F]\n  )\n)\n(\n  (?: [-a-zA-Z_]    | [^\\x00-\\x7F] )   # First letter\n  (?: [-a-zA-Z0-9_] | [^\\x00-\\x7F]     # Remainder of identifier\n    | \\\\(?:[0-9a-fA-F]{1,6}|.)\n  )*\n  |\n  \\*     # Universal namespace\n)?\n(\\|)     # Namespace separator"},{include:"#tag-names"},{match:"\\*",name:"entity.name.tag.wildcard.css"},{captures:{1:{name:"punctuation.definition.entity.css"},2:{patterns:[{include:"#escapes"}]}},match:"(?x) (?<![@\\w-])\n([.\\#])\n# Invalid identifier\n(\n  (?:\n    # Starts with ASCII digits, with possible hyphen preceding it\n    -?[0-9]\n    |\n    # Consists of a hyphen only\n    -                                      # Terminated by either:\n    (?= $                                  # - End-of-line\n      | [\\s,.\\#)\\[:{>+~|]               # - Followed by another selector\n      | /\\*                               # - Followed by a block comment\n    )\n    |\n    # Name contains unescaped ASCII symbol\n    (?:                                    # Check for acceptable preceding characters\n        [-a-zA-Z_0-9]|[^\\x00-\\x7F]       # - Valid selector character\n      | \\\\(?:[0-9a-fA-F]{1,6}|.)         # - Escape sequence\n    )*\n    (?:                                    # Invalid punctuation\n      [!\"'%&(*;<?@^`|\\]}]                 # - NOTE: We exempt `)` from the list of checked\n      |                                    #   symbols to avoid matching `:not(.invalid)`\n      / (?!\\*)                            # - Avoid invalidating the start of a comment\n    )+\n  )\n  # Mark remainder of selector invalid\n  (?: [-a-zA-Z_0-9]|[^\\x00-\\x7F]         # - Otherwise valid identifier characters\n    | \\\\(?:[0-9a-fA-F]{1,6}|.)           # - Escape sequence\n  )*\n)",name:"invalid.illegal.bad-identifier.css"},{captures:{1:{name:"punctuation.definition.entity.css"},2:{patterns:[{include:"#escapes"}]}},match:"(?x)\n(\\.)                                  # Valid class-name\n(\n  (?: [-a-zA-Z_0-9]|[^\\x00-\\x7F]     # Valid identifier characters\n    | \\\\(?:[0-9a-fA-F]{1,6}|.)       # Escape sequence\n  )+\n)                                      # Followed by either:\n(?= $                                  # - End of the line\n  | [\\s,.\\#)\\[:{>+~|]               # - Another selector\n  | /\\*                               # - A block comment\n)",name:"entity.other.attribute-name.class.css"},{captures:{1:{name:"punctuation.definition.entity.css"},2:{patterns:[{include:"#escapes"}]}},match:"(?x)\n(\\#)\n(\n  -?\n  (?![0-9])\n  (?:[-a-zA-Z0-9_]|[^\\x00-\\x7F]|\\\\(?:[0-9a-fA-F]{1,6}|.))+\n)\n(?=$|[\\s,.\\#)\\[:{>+~|]|/\\*)",name:"entity.other.attribute-name.id.css"},{begin:"\\[",beginCaptures:{0:{name:"punctuation.definition.entity.begin.bracket.square.css"}},end:"\\]",endCaptures:{0:{name:"punctuation.definition.entity.end.bracket.square.css"}},name:"meta.attribute-selector.css",patterns:[{include:"#comment-block"},{include:"#string"},{captures:{1:{name:"storage.modifier.ignore-case.css"}},match:"(?<=[\"'\\s]|^|\\*/)\\s*([iI])\\s*(?=[\\s\\]]|/\\*|$)"},{captures:{1:{name:"string.unquoted.attribute-value.css",patterns:[{include:"#escapes"}]}},match:"(?x)(?<==)\\s*((?!/\\*)(?:[^\\\\\"'\\s\\]]|\\\\.)+)"},{include:"#escapes"},{match:"[~|^$*]?=",name:"keyword.operator.pattern.css"},{match:"\\|",name:"punctuation.separator.css"},{captures:{1:{name:"entity.other.namespace-prefix.css",patterns:[{include:"#escapes"}]}},match:"(?x)\n# Qualified namespace prefix\n( -?(?!\\d)(?:[\\w-]|[^\\x00-\\x7F]|\\\\(?:[0-9a-fA-F]{1,6}|.))+\n| \\*\n)\n# Lookahead to ensure there's a valid identifier ahead\n(?=\n  \\| (?!\\s|=|$|\\])\n  (?: -?(?!\\d)\n   |   [\\\\\\w-]\n   |   [^\\x00-\\x7F]\n   )\n)"},{captures:{1:{name:"entity.other.attribute-name.css",patterns:[{include:"#escapes"}]}},match:"(?x)\n(-?(?!\\d)(?:[\\w-]|[^\\x00-\\x7F]|\\\\(?:[0-9a-fA-F]{1,6}|.))+)\n\\s*\n(?=[~|^\\]$*=]|/\\*)"}]},{include:"#pseudo-classes"},{include:"#pseudo-elements"},{include:"#functional-pseudo-classes"},{match:"(?x) (?<![@\\w-])\n(?=            # Custom element names must:\n  [a-z]        # - start with a lowercase ASCII letter,\n  \\w* -       # - contain at least one dash\n)\n(?:\n  (?![A-Z])    # No uppercase ASCII letters are allowed\n  [\\w-]       # Allow any other word character or dash\n)+\n(?![(\\w-])",name:"entity.name.tag.custom.css"}]},string:{patterns:[{begin:'"',beginCaptures:{0:{name:"punctuation.definition.string.begin.css"}},end:'"|(?<!\\\\)(?=$|\\n)',endCaptures:{0:{name:"punctuation.definition.string.end.css"}},name:"string.quoted.double.css",patterns:[{begin:'(?:\\G|^)(?=(?:[^\\\\"]|\\\\.)+$)',end:"$",name:"invalid.illegal.unclosed.string.css",patterns:[{include:"#escapes"}]},{include:"#escapes"}]},{begin:"'",beginCaptures:{0:{name:"punctuation.definition.string.begin.css"}},end:"'|(?<!\\\\)(?=$|\\n)",endCaptures:{0:{name:"punctuation.definition.string.end.css"}},name:"string.quoted.single.css",patterns:[{begin:"(?:\\G|^)(?=(?:[^\\\\']|\\\\.)+$)",end:"$",name:"invalid.illegal.unclosed.string.css",patterns:[{include:"#escapes"}]},{include:"#escapes"}]}]},"tag-names":{match:"(?xi) (?<![\\w:-])\n(?:\n    # HTML\n    a|abbr|acronym|address|applet|area|article|aside|audio|b|base|basefont|bdi|bdo|bgsound\n  | big|blink|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|command\n  | content|data|datalist|dd|del|details|dfn|dialog|dir|div|dl|dt|element|em|embed|fieldset\n  | figcaption|figure|font|footer|form|frame|frameset|h[1-6]|head|header|hgroup|hr|html|i\n  | iframe|image|img|input|ins|isindex|kbd|keygen|label|legend|li|link|listing|main|map|mark\n  | marquee|math|menu|menuitem|meta|meter|multicol|nav|nextid|nobr|noembed|noframes|noscript\n  | object|ol|optgroup|option|output|p|param|picture|plaintext|pre|progress|q|rb|rp|rt|rtc\n  | ruby|s|samp|script|section|select|shadow|slot|small|source|spacer|span|strike|strong\n  | style|sub|summary|sup|table|tbody|td|template|textarea|tfoot|th|thead|time|title|tr\n  | track|tt|u|ul|var|video|wbr|xmp\n\n  # SVG\n  | altGlyph|altGlyphDef|altGlyphItem|animate|animateColor|animateMotion|animateTransform\n  | circle|clipPath|color-profile|cursor|defs|desc|discard|ellipse|feBlend|feColorMatrix\n  | feComponentTransfer|feComposite|feConvolveMatrix|feDiffuseLighting|feDisplacementMap\n  | feDistantLight|feDropShadow|feFlood|feFuncA|feFuncB|feFuncG|feFuncR|feGaussianBlur\n  | feImage|feMerge|feMergeNode|feMorphology|feOffset|fePointLight|feSpecularLighting\n  | feSpotLight|feTile|feTurbulence|filter|font-face|font-face-format|font-face-name\n  | font-face-src|font-face-uri|foreignObject|g|glyph|glyphRef|hatch|hatchpath|hkern\n  | line|linearGradient|marker|mask|mesh|meshgradient|meshpatch|meshrow|metadata\n  | missing-glyph|mpath|path|pattern|polygon|polyline|radialGradient|rect|set|solidcolor\n  | stop|svg|switch|symbol|text|textPath|tref|tspan|use|view|vkern\n\n  # MathML\n  | annotation|annotation-xml|maction|maligngroup|malignmark|math|menclose|merror|mfenced\n  | mfrac|mglyph|mi|mlabeledtr|mlongdiv|mmultiscripts|mn|mo|mover|mpadded|mphantom|mroot\n  | mrow|ms|mscarries|mscarry|msgroup|msline|mspace|msqrt|msrow|mstack|mstyle|msub|msubsup\n  | msup|mtable|mtd|mtext|mtr|munder|munderover|semantics\n)\n(?=[+~>\\s,.\\#|){:\\[]|/\\*|$)",name:"entity.name.tag.css"},"unicode-range":{captures:{0:{name:"constant.other.unicode-range.css"},1:{name:"punctuation.separator.dash.unicode-range.css"}},match:"(?<![\\w-])[Uu]\\+[0-9A-Fa-f?]{1,6}(?:(-)[0-9A-Fa-f]{1,6})?(?![\\w-])"},url:{begin:"(?i)(?<![\\w@-])(url)(\\()",beginCaptures:{1:{name:"support.function.url.css"},2:{name:"punctuation.section.function.begin.bracket.round.css"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.function.end.bracket.round.css"}},name:"meta.function.url.css",patterns:[{match:"[^'\")\\s]+",name:"variable.parameter.url.css"},{include:"#string"},{include:"#comment-block"},{include:"#escapes"}]}}});
$_mod.installed("markojs-website$1.0.0","language-javascript","0.125.1");
$_mod.def("/language-javascript$0.125.1/grammars/javascript.cson",{scopeName:"source.js",fileTypes:["js","_js","es","es6","gs","htc","jscad","jslib","jsm","json5","jspre","pac","pjs","sjs","xsjs","xsjslib"],firstLineMatch:"(?x)\n# Hashbang\n^\\#!.*(?:\\s|\\/|(?<=!)\\b)\n  (?:node|iojs|JavaScript)\n(?:$|\\s)\n|\n# Modeline\n(?i:\n  # Emacs\n  -\\*-(?:\\s*(?=[^:;\\s]+\\s*-\\*-)|(?:.*?[;\\s]|(?<=-\\*-))mode\\s*:\\s*)\n    (?:js|javascript)\n  (?=[\\s;]|(?<![-*])-\\*-).*?-\\*-\n  |\n  # Vim\n  (?:(?:\\s|^)vi(?:m[<=>]?\\d+|m)?|\\sex)(?=:(?=\\s*set?\\s[^\\n:]+:)|:(?!\\s*set?\\s))(?:(?:\\s|\\s*:\\s*)\\w*(?:\\s*=(?:[^\\n\\\\\\s]|\\\\.)*)?)*[\\s:](?:filetype|ft|syntax)\\s*=\n    javascript\n  (?=\\s|:|$)\n)",name:"JavaScript",patterns:[{begin:"(?<!\\.)\\b(import)(?!\\s*[:(])\\b",beginCaptures:{1:{name:"keyword.control.js"}},end:"(?=;|$)",name:"meta.import.js",patterns:[{begin:"{",beginCaptures:{0:{name:"punctuation.definition.modules.begin.js"}},end:"}",endCaptures:{0:{name:"punctuation.definition.modules.end.js"}},patterns:[{match:"(?x)\n(?: \\b(default)\\b | \\b([a-zA-Z_$][\\w$]*)\\b)\n\\s*\n(\\b as \\b)\n\\s*\n(?: (\\b default \\b | \\*) | \\b([a-zA-Z_$][\\w$]*)\\b)",captures:{1:{name:"variable.language.default.js"},2:{name:"variable.other.module.js"},3:{name:"keyword.control.js"},4:{name:"invalid.illegal.js"},5:{name:"variable.other.module-alias.js"}}},{match:",",name:"meta.delimiter.object.comma.js"},{include:"#comments"},{match:"\\b([a-zA-Z_$][\\w$]*)\\b",name:"variable.other.module.js"}]},{match:"(?x)\n(?: \\b(default)\\b | (\\*) | \\b([a-zA-Z_$][\\w$]*)\\b)\n\\s*\n(\\b as \\b)\n\\s*\n(?: (\\b default \\b | \\*) | \\b([a-zA-Z_$][\\w$]*)\\b)",captures:{1:{name:"variable.language.default.js"},2:{name:"variable.language.import-all.js"},3:{name:"variable.other.module.js"},4:{name:"keyword.control.js"},5:{name:"invalid.illegal.js"},6:{name:"variable.other.module-alias.js"}}},{match:"\\*",name:"variable.language.import-all.js"},{match:"\\b(default)\\b",name:"variable.language.default.js"},{include:"#strings"},{include:"#comments"},{match:"\\b(from)\\b",name:"keyword.control.js"},{match:"\\b([a-zA-Z_$][\\w$]*)\\b(?=.*\\bfrom\\b)",name:"variable.other.module.js"},{match:",",name:"meta.delimiter.object.comma.js"}]},{match:"(?x)\n\\b(export)\\b\\s*\n\\b(default)\\b\\s*\n\\b((?!\\b(?:function|class|let|var|const)\\b)[a-zA-Z_$][\\w$]*)?\\b",captures:{0:{name:"meta.export.js"},1:{name:"keyword.control.js"},2:{name:"variable.language.default.js"},3:{name:"variable.other.module.js"}}},{begin:"(?<!\\.)\\b(export)(?!\\s*[:(])\\b",beginCaptures:{1:{name:"keyword.control.js"}},end:"(?=;|\\bfunction\\b|\\bclass\\b|\\blet\\b|\\bvar\\b|\\bconst\\b|$)",name:"meta.export.js",patterns:[{include:"#numbers"},{begin:"{(?=.*\\bfrom\\b)",beginCaptures:{0:{name:"punctuation.definition.modules.begin.js"}},end:"}",endCaptures:{0:{name:"punctuation.definition.modules.end.js"}},patterns:[{match:"(?x)\n(?: \\b(default)\\b | \\b([a-zA-Z_$][\\w$]*)\\b)\n\\s*\n(\\b as \\b)\n\\s*\n(?: \\b(default)\\b | (\\*) | \\b([a-zA-Z_$][\\w$]*)\\b)",captures:{1:{name:"variable.language.default.js"},2:{name:"variable.other.module.js"},3:{name:"keyword.control.js"},4:{name:"variable.language.default.js"},5:{name:"invalid.illegal.js"},6:{name:"variable.other.module-alias.js"}}},{match:",",name:"meta.delimiter.object.comma.js"},{include:"#comments"},{match:"\\b([a-zA-Z_$][\\w$]*)\\b",name:"variable.other.module.js"}]},{begin:"(?![a-zA-Z_$0-9]){",beginCaptures:{0:{name:"punctuation.definition.modules.begin.js"}},end:"}",endCaptures:{0:{name:"punctuation.definition.modules.end.js"}},patterns:[{captures:{1:{name:"invalid.illegal.js"},2:{name:"variable.other.module.js"},3:{name:"keyword.control.js"},4:{name:"variable.language.default.js"},5:{name:"invalid.illegal.js"},6:{name:"variable.other.module-alias.js"}},match:"(?x)\n(?: \\b(default)\\b | \\b([a-zA-Z_$][\\w$]*)\\b)\n\\s*\n(\\b as \\b)\n\\s*\n(?: \\b(default)\\b | (\\*) | \\b([a-zA-Z_$][\\w$]*)\\b)"},{include:"#comments"},{match:",",name:"meta.delimiter.object.comma.js"},{match:"\\b([a-zA-Z_$][\\w$]*)\\b",name:"variable.other.module.js"}]},{match:"\\*(?=.*\\bfrom\\b)",name:"variable.language.import-all.js"},{match:"\\b(default)\\b",name:"variable.language.default.js"},{include:"#strings"},{include:"#comments"},{match:"\\b(from)\\b",name:"keyword.control.js"},{match:"\\b([a-zA-Z_$][\\w$]*)\\b",name:"variable.other.module.js"},{match:",",name:"meta.delimiter.object.comma.js"},{include:"#operators"}]},{match:"(?:(?<=\\.{3})|(?<!\\.)\\b)(?<!\\$)(super|this|arguments)(?!\\s*:|\\$)\\b",name:"variable.language.js"},{begin:"(?=(\\basync\\b\\s*)?\\bfunction\\b(?!\\s*:))",end:"(?<=})",patterns:[{include:"#comments"},{include:"#function_body"},{begin:"\\G",end:"(?<=\\))",name:"meta.function.js",patterns:[{include:"#function_innards"}]}]},{begin:"(?=(\\.)?[a-zA-Z_$][\\w$]*\\s*=\\s*(\\basync\\b\\s*)?\\bfunction\\b)",end:"(?<=})",patterns:[{include:"#comments"},{include:"#function_body"},{begin:"\\G",end:"(?!\\G)(?<=\\))",name:"meta.function.js",patterns:[{match:"(\\.)?([a-zA-Z_$][\\w$]*)\\s*(=)\\s*",captures:{1:{name:"meta.delimiter.method.period.js"},2:{name:"entity.name.function.js"},3:{name:"keyword.operator.assignment.js"}}},{include:"#function_innards"}]}]},{begin:"(?=\\b[a-zA-Z_$][\\w$]*\\s*:\\s*(\\basync\\b\\s*)?\\bfunction\\b)",end:"(?<=})",patterns:[{include:"#comments"},{include:"#function_body"},{begin:"\\G",end:"(?<=\\))",name:"meta.function.json.js",patterns:[{match:"\\b([a-zA-Z_$][\\w$]*)\\s*(:)\\s*",captures:{1:{name:"entity.name.function.js"},2:{name:"keyword.operator.assignment.js"}}},{include:"#function_innards"}]}]},{begin:"(?=(('[^']*?')|(\"[^\"]*?\"))\\s*:\\s*(\\basync\\b\\s*)?\\bfunction\\b)",end:"(?<=})",patterns:[{include:"#comments"},{include:"#function_body"},{begin:"\\G",end:"(?<=\\))",name:"meta.function.json.js",patterns:[{match:"(?:((')([^']*?)('))|((\")([^\"]*?)(\")))\\s*(:)",captures:{1:{name:"string.quoted.single.js"},2:{name:"punctuation.definition.string.begin.js"},3:{name:"entity.name.function.js"},4:{name:"punctuation.definition.string.end.js"},5:{name:"string.quoted.double.js"},6:{name:"punctuation.definition.string.begin.js"},7:{name:"entity.name.function.js"},8:{name:"punctuation.definition.string.end.js"},9:{name:"keyword.operator.assignment.js"}}},{include:"#function_innards"}]}]},{begin:"(?=\\bconstructor\\b\\s*)",end:"(?<=})",patterns:[{include:"#comments"},{include:"#function_body"},{begin:"\\G",end:"(?<=\\))",name:"meta.function.js",patterns:[{match:"\\b(constructor)\\s*",name:"entity.name.function.constructor.js"},{include:"#function_innards"}]}]},{begin:"(?x)\n(?=\n  (?!\n    (break|case|catch|continue|do|else|finally|for|function|if|\n    package|return|switch|throw|try|while|with)\n    [\\s\\(]\n  )\n  (\n    \\b(get|set)            # Property getter/setter: get foo(){}\n    (?:\\s+|(?=\\[))        # Followed by whitespace or square bracket\n  )?\n  (                         # Method name\n    \\b[a-zA-Z_$][\\w$]*    # Fixed name\n    |\n    \\[                     # Computed property key\n      .*?[^\\[\\]\\s].*?    # Contains at least one non-brace character\n    \\]\n  )\n  \\s*\\(\\s*               # Start of arguments list\n    (\n      \"[^\"]*\"  |            # Double-quoted string\n      '[^']*'  |            # Single-quoted string\n       [^\"()']              # Any non-bracket or non-quote\n    )*\n  \\)\\s*                   # End of arguments\n  {                         # Beginning of body\n)",end:"(?<=})",patterns:[{include:"#comments"},{include:"#function_body"},{begin:"\\G",end:"(?<=\\))",name:"meta.function.method.definition.js",patterns:[{match:"(\\[)(.+)(\\])(?=\\s*\\()",captures:{1:{name:"punctuation.definition.computed-key.begin.bracket.square.js"},2:{patterns:[{include:"$self"},{match:"[a-zA-Z_$][\\w$]*",name:"variable.parameter.property.js"}]},3:{name:"punctuation.definition.computed-key.end.bracket.square.js"}},name:"meta.computed-key.js"},{match:"\\b(get|set)(?=\\s*\\[.+\\]\\s*\\(|\\s+[^\\s\\[(]+\\s*\\()",name:"keyword.operator.$1ter.js"},{match:"\\b([a-zA-Z_$][\\w$]*)",name:"entity.name.function.js"},{include:"#function_params"}]}]},{begin:"(?x)\n(?=\n  (?<![A-Za-z0-9])\n  ((\\(([^\\(\\)]*)?\\))|[\\w$]+)\n  \\s*=>\n)",end:"(?x)\n(?<=})|\n((?!\n  \\s*{|\n  \\G\\(|\n  \\G[\\w$]+|\n  \\s*/\\*|\\s*//\n)(?=\\s*\\S))",patterns:[{include:"#comments"},{include:"#function_body"},{begin:"\\G",end:"(?<=(=>))",name:"meta.function.arrow.js",patterns:[{include:"#arrow_function_innards"}]}]},{begin:"(?x)\n(?=\n  (\\.)?[a-zA-Z_$][\\w$]*\n  \\s*(=)\\s*\n  ((\\(([^\\(\\)]*)?\\))|[\\w$]+)\n  \\s*=>\n)",end:"(?x)\n(?<=})|\n((?!\n  \\s*{|\n  \\G(\\.)?[a-zA-Z_$][\\w$]*\\s*(=)\\s*\\(|\n  \\G(\\.)?[a-zA-Z_$][\\w$]*\\s*(=)\\s*[\\w$]+|\n  \\s*/\\*|\\s*//\n)(?=\\s*\\S))",patterns:[{include:"#comments"},{include:"#function_body"},{begin:"\\G",end:"(?<=(=>))",name:"meta.function.arrow.js",patterns:[{match:"\\G(\\.)?([a-zA-Z_$][\\w$]*)\\s*(=)",captures:{1:{name:"meta.delimiter.method.period.js"},2:{name:"entity.name.function.js"},3:{name:"keyword.operator.assignment.js"}}},{include:"#arrow_function_innards"}]}]},{begin:"(?x)\n(?=\n  \\b[a-zA-Z_$][\\w$]*\n  \\s*:\\s*\n  ((\\(([^\\(\\)]*)?\\))|[\\w$]+)\n  \\s*=>\n)",end:"(?x)\n(?<=})|\n((?!\n  \\s*{|\n  \\G[\\w$]+\\s*:|\n  \\s*/\\*|\\s*//\n)(?=\\s*\\S))",patterns:[{include:"#comments"},{include:"#function_body"},{begin:"\\G",end:"(?<=(=>))",name:"meta.function.arrow.json.js",patterns:[{match:"\\b([a-zA-Z_$][\\w$]*)\\s*(:)\\s*",captures:{1:{name:"entity.name.function.js"},2:{name:"keyword.operator.assignment.js"}}},{include:"#arrow_function_innards"}]}]},{begin:"(?x)\n(?=\n  (('[^']*?')|(\"[^\"]*?\"))\n  \\s*:\\s*\n  ((\\(([^\\(\\)]*)?\\))|[\\w$]+)\n  \\s*=>\n)",end:"(?x)\n(?<=})|\n((?!\n  \\G(('[^']*?')|(\"[^\"]*?\"))|\n  \\s*{|\n  \\s*/\\*|\\s*//\n)(?=\\s*\\S))",patterns:[{include:"#comments"},{include:"#function_body"},{begin:"\\G",end:"(?<=(=>))",name:"meta.function.arrow.json.js",patterns:[{match:"(?:((')([^']*?)('))|((\")([^\"]*?)(\")))\\s*(:)",captures:{1:{name:"string.quoted.single.js"},2:{name:"punctuation.definition.string.begin.js"},3:{name:"entity.name.function.js"},4:{name:"punctuation.definition.string.end.js"},5:{name:"string.quoted.double.js"},6:{name:"punctuation.definition.string.begin.js"},7:{name:"entity.name.function.js"},8:{name:"punctuation.definition.string.end.js"},9:{name:"keyword.operator.assignment.js"}}},{include:"#arrow_function_innards"}]}]},{match:"(=>)",captures:{0:{name:"meta.function.arrow.js"},1:{name:"storage.type.function.arrow.js"}}},{match:"(?x)\n\\b(class)\n(?:\n  (?:\\s+(extends)\\s+([a-zA-Z_$][\\w$]*))\n  |\n  (?:\n    (?:\\s+([a-zA-Z_$][\\w$]*))\n    (?:\\s+(extends)\\s+([a-zA-Z_$][\\w$]*))?\n  )\n)",captures:{1:{name:"storage.type.class.js"},2:{name:"storage.modifier.js"},3:{name:"entity.other.inherited-class.js"},4:{name:"entity.name.type.class.js"},5:{name:"storage.modifier.js"},6:{name:"entity.other.inherited-class.js"}},name:"meta.class.js"},{match:"(new)\\s+([\\w$]+[\\w.$]*)",name:"meta.class.instance.constructor.js",captures:{1:{name:"keyword.operator.new.js"},2:{name:"entity.name.type.instance.js",patterns:[{match:"\\.",name:"meta.delimiter.property.period.js"}]}}},{begin:"(?<![\\w$])console(?![\\w$]|\\s*:)",beginCaptures:{0:{name:"entity.name.type.object.console.js"}},end:"(?x)\n(?<=\\)) | (?=\n  (?! (\\s*//)|(\\s*/\\*)|(\\s*(\\.)\\s*\n    (assert|clear|debug|error|info|log|profile|profileEnd|time|timeEnd|warn)\n    \\s*\\(\n  )) \\s*\\S\n)",patterns:[{include:"#comments"},{begin:"\\s*(\\.)\\s*(\\w+)\\s*(?=\\()",beginCaptures:{1:{name:"meta.delimiter.method.period.js"},2:{name:"support.function.console.js"}},end:"(?<=\\))",name:"meta.method-call.js",patterns:[{include:"#arguments"}]}]},{begin:"(?<![\\w$])Math(?![\\w$]|\\s*:)",beginCaptures:{0:{name:"support.class.math.js"}},end:"(?x)\n(?<=E|LN10|LN2|LOG10E|LOG2E|PI|SQRT1_2|SQRT2|\\)\n) | (?=\n  (?! (\\s*//)|(\\s*/\\*)|(\\s*\\.\\s* (\n    ((abs|acos|acosh|asin|asinh|atan|atan2|atanh|cbrt|ceil|clz32|cos|cosh|exp|\n    expm1|floor|fround|hypot|imul|log|log10|log1p|log2|max|min|pow|random|\n    round|sign|sin|sinh|sqrt|tan|tanh|trunc)\\s*\\(\n    ) | (E|LN10|LN2|LOG10E|LOG2E|PI|SQRT1_2|SQRT2)(?!\\s*[\\w$(]))\n  )) \\s*\\S\n)",patterns:[{include:"#comments"},{begin:"\\s*(\\.)\\s*(\\w+)\\s*(?=\\()",beginCaptures:{1:{name:"meta.delimiter.method.period.js"},2:{name:"support.function.math.js"}},end:"(?<=\\))",name:"meta.method-call.js",patterns:[{include:"#arguments"}]},{match:"\\s*(\\.)\\s*(\\w+)\\b",captures:{1:{name:"meta.delimiter.property.period.js"},2:{name:"support.constant.property.math.js"}}}]},{include:"#strings"},{include:"#comments"},{match:"(<!--|-->)",captures:{0:{name:"punctuation.definition.comment.html.js"},2:{name:"punctuation.definition.comment.html.js"}},name:"comment.block.html.js"},{match:"(?<!\\.)\\b(class|enum|function|interface)(?!\\s*:)\\b",name:"storage.type.js"},{match:"(?<!\\.)\\b(async|export|extends|implements|private|protected|public|static)(?!\\s*:)\\b",name:"storage.modifier.js"},{match:"(?<!\\.)\\b(let|var)(?!\\s*:)\\b",name:"storage.type.var.js"},{begin:"(?<!\\.)\\b(const)(?!\\s*:)\\b",beginCaptures:{1:{name:"storage.type.const.js"}},end:"(\\bof\\b|\\bin\\b)|(;)|(=)|(?<![,{])\\n",endCaptures:{1:{name:"keyword.operator.$1.js"},2:{name:"punctuation.terminator.statement.js"},3:{name:"keyword.operator.assignment.js"}},patterns:[{match:"([$_a-zA-Z][$_a-zA-Z0-9]*)\\s*(:)\\s*([$_a-zA-Z][$_a-zA-Z0-9]*)?",captures:{2:{name:"keyword.operator.assignment.js"},3:{name:"constant.other.js"}}},{match:"([$_a-zA-Z][$_a-zA-Z0-9]*)",captures:{1:{name:"constant.other.js"}}},{match:"\\.\\.\\.",name:"keyword.operator.spread.js"},{match:",",name:"meta.delimiter.object.comma.js"},{match:"\\(|\\)",name:"meta.brace.round.js"},{match:"{|}",name:"meta.brace.curly.js"},{match:"\\[|\\]",name:"meta.brace.square.js"},{include:"#comments"}]},{match:"(?<!\\.)\\b(yield)(?!\\s*:)\\b(?:\\s*(\\*))?",captures:{1:{name:"keyword.control.js"},2:{name:"storage.modifier.js"}},name:"meta.control.yield.js"},{match:"(?<!\\.)\\b(await|break|catch|continue|do|else|finally|for|if|import|package|return|throw|try|while|with)(?!\\s*:)\\b",name:"keyword.control.js"},{include:"#switch_statement"},{match:"(?<!\\.)\\b(delete|in|of|instanceof|new|typeof|void)(?!\\s*:)\\b",name:"keyword.operator.$1.js"},{match:"\\.\\.\\.",name:"keyword.operator.spread.js"},{match:"(?<!\\.)\\b(true|false)(?!\\s*:)\\b",name:"constant.language.boolean.$1.js"},{match:"(?<!\\.)\\b(null)(?!\\s*:)\\b",name:"constant.language.null.js"},{match:"(?<!\\.)\\b(debugger)(?!\\s*:)\\b",name:"keyword.other.debugger.js"},{match:"(?x) (?<!\\$) \\b\n(Array|ArrayBuffer|Atomics|Boolean|DataView|Date|Error|EvalError|Float32Array|Float64Array|Function|Generator\n|GeneratorFunction|Int16Array|Int32Array|Int8Array|InternalError|Intl|JSON|Map|Number|Object|Promise|Proxy\n|RangeError|ReferenceError|Reflect|RegExp|Set|SharedArrayBuffer|SIMD|String|Symbol|SyntaxError|TypeError\n|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|URIError|WeakMap|WeakSet)\n\\b",name:"support.class.js"},{match:"(?x) (\\.) \\s* (?:\n  (constructor|length|prototype) |\n  (EPSILON|MAX_SAFE_INTEGER|MAX_VALUE|MIN_SAFE_INTEGER|MIN_VALUE|NEGATIVE_INFINITY|POSITIVE_INFINITY)\n)\\b",captures:{1:{name:"meta.delimiter.property.period.js"},2:{name:"support.variable.property.js"},3:{name:"support.constant.js"}}},{match:"(?x) (?<!\\$) \\b (?:\n  (document|event|navigator|performance|screen|window)\n  |\n  (AnalyserNode|ArrayBufferView|Attr|AudioBuffer|AudioBufferSourceNode|AudioContext|AudioDestinationNode|AudioListener\n  |AudioNode|AudioParam|BatteryManager|BeforeUnloadEvent|BiquadFilterNode|Blob|BufferSource|ByteString|CSS|CSSConditionRule\n  |CSSCounterStyleRule|CSSGroupingRule|CSSMatrix|CSSMediaRule|CSSPageRule|CSSPrimitiveValue|CSSRule|CSSRuleList|CSSStyleDeclaration\n  |CSSStyleRule|CSSStyleSheet|CSSSupportsRule|CSSValue|CSSValueList|CanvasGradient|CanvasImageSource|CanvasPattern\n  |CanvasRenderingContext2D|ChannelMergerNode|ChannelSplitterNode|CharacterData|ChromeWorker|CloseEvent|Comment|CompositionEvent\n  |Console|ConvolverNode|Coordinates|Credential|CredentialsContainer|Crypto|CryptoKey|CustomEvent|DOMError|DOMException\n  |DOMHighResTimeStamp|DOMImplementation|DOMString|DOMStringList|DOMStringMap|DOMTimeStamp|DOMTokenList|DataTransfer\n  |DataTransferItem|DataTransferItemList|DedicatedWorkerGlobalScope|DelayNode|DeviceProximityEvent|DirectoryEntry\n  |DirectoryEntrySync|DirectoryReader|DirectoryReaderSync|Document|DocumentFragment|DocumentTouch|DocumentType|DragEvent\n  |DynamicsCompressorNode|Element|Entry|EntrySync|ErrorEvent|Event|EventListener|EventSource|EventTarget|FederatedCredential\n  |FetchEvent|File|FileEntry|FileEntrySync|FileException|FileList|FileReader|FileReaderSync|FileSystem|FileSystemSync\n  |FontFace|FormData|GainNode|Gamepad|GamepadButton|GamepadEvent|Geolocation|GlobalEventHandlers|HTMLAnchorElement\n  |HTMLAreaElement|HTMLAudioElement|HTMLBRElement|HTMLBaseElement|HTMLBodyElement|HTMLButtonElement|HTMLCanvasElement\n  |HTMLCollection|HTMLContentElement|HTMLDListElement|HTMLDataElement|HTMLDataListElement|HTMLDialogElement|HTMLDivElement\n  |HTMLDocument|HTMLElement|HTMLEmbedElement|HTMLFieldSetElement|HTMLFontElement|HTMLFormControlsCollection|HTMLFormElement\n  |HTMLHRElement|HTMLHeadElement|HTMLHeadingElement|HTMLHtmlElement|HTMLIFrameElement|HTMLImageElement|HTMLInputElement\n  |HTMLKeygenElement|HTMLLIElement|HTMLLabelElement|HTMLLegendElement|HTMLLinkElement|HTMLMapElement|HTMLMediaElement\n  |HTMLMetaElement|HTMLMeterElement|HTMLModElement|HTMLOListElement|HTMLObjectElement|HTMLOptGroupElement|HTMLOptionElement\n  |HTMLOptionsCollection|HTMLOutputElement|HTMLParagraphElement|HTMLParamElement|HTMLPreElement|HTMLProgressElement\n  |HTMLQuoteElement|HTMLScriptElement|HTMLSelectElement|HTMLShadowElement|HTMLSourceElement|HTMLSpanElement|HTMLStyleElement\n  |HTMLTableCaptionElement|HTMLTableCellElement|HTMLTableColElement|HTMLTableDataCellElement|HTMLTableElement|HTMLTableHeaderCellElement\n  |HTMLTableRowElement|HTMLTableSectionElement|HTMLTextAreaElement|HTMLTimeElement|HTMLTitleElement|HTMLTrackElement\n  |HTMLUListElement|HTMLUnknownElement|HTMLVideoElement|HashChangeEvent|History|IDBCursor|IDBCursorWithValue|IDBDatabase\n  |IDBEnvironment|IDBFactory|IDBIndex|IDBKeyRange|IDBMutableFile|IDBObjectStore|IDBOpenDBRequest|IDBRequest|IDBTransaction\n  |IDBVersionChangeEvent|IIRFilterNode|IdentityManager|ImageBitmap|ImageBitmapFactories|ImageData|Index|InputDeviceCapabilities\n  |InputEvent|InstallEvent|InstallTrigger|KeyboardEvent|LinkStyle|LocalFileSystem|LocalFileSystemSync|Location|MIDIAccess\n  |MIDIConnectionEvent|MIDIInput|MIDIInputMap|MIDIOutputMap|MediaElementAudioSourceNode|MediaError|MediaKeyMessageEvent\n  |MediaKeySession|MediaKeyStatusMap|MediaKeySystemAccess|MediaKeySystemConfiguration|MediaKeys|MediaRecorder|MediaStream\n  |MediaStreamAudioDestinationNode|MediaStreamAudioSourceNode|MessageChannel|MessageEvent|MessagePort|MouseEvent\n  |MutationObserver|MutationRecord|NamedNodeMap|Navigator|NavigatorConcurrentHardware|NavigatorGeolocation|NavigatorID\n  |NavigatorLanguage|NavigatorOnLine|Node|NodeFilter|NodeIterator|NodeList|NonDocumentTypeChildNode|Notification\n  |OfflineAudioCompletionEvent|OfflineAudioContext|OscillatorNode|PageTransitionEvent|PannerNode|ParentNode|PasswordCredential\n  |Path2D|PaymentAddress|PaymentRequest|PaymentResponse|Performance|PerformanceEntry|PerformanceFrameTiming|PerformanceMark\n  |PerformanceMeasure|PerformanceNavigation|PerformanceNavigationTiming|PerformanceObserver|PerformanceObserverEntryList\n  |PerformanceResourceTiming|PerformanceTiming|PeriodicSyncEvent|PeriodicWave|Plugin|Point|PointerEvent|PopStateEvent\n  |PortCollection|Position|PositionError|PositionOptions|PresentationConnectionClosedEvent|PresentationConnectionList\n  |PresentationReceiver|ProcessingInstruction|ProgressEvent|PromiseRejectionEvent|PushEvent|PushRegistrationManager\n  |RTCCertificate|RTCConfiguration|RTCPeerConnection|RTCSessionDescriptionCallback|RTCStatsReport|RadioNodeList|RandomSource\n  |Range|ReadableByteStream|RenderingContext|SVGAElement|SVGAngle|SVGAnimateColorElement|SVGAnimateElement|SVGAnimateMotionElement\n  |SVGAnimateTransformElement|SVGAnimatedAngle|SVGAnimatedBoolean|SVGAnimatedEnumeration|SVGAnimatedInteger|SVGAnimatedLength\n  |SVGAnimatedLengthList|SVGAnimatedNumber|SVGAnimatedNumberList|SVGAnimatedPoints|SVGAnimatedPreserveAspectRatio\n  |SVGAnimatedRect|SVGAnimatedString|SVGAnimatedTransformList|SVGAnimationElement|SVGCircleElement|SVGClipPathElement\n  |SVGCursorElement|SVGDefsElement|SVGDescElement|SVGElement|SVGEllipseElement|SVGEvent|SVGFilterElement|SVGFontElement\n  |SVGFontFaceElement|SVGFontFaceFormatElement|SVGFontFaceNameElement|SVGFontFaceSrcElement|SVGFontFaceUriElement\n  |SVGForeignObjectElement|SVGGElement|SVGGlyphElement|SVGGradientElement|SVGHKernElement|SVGImageElement|SVGLength\n  |SVGLengthList|SVGLineElement|SVGLinearGradientElement|SVGMPathElement|SVGMaskElement|SVGMatrix|SVGMissingGlyphElement\n  |SVGNumber|SVGNumberList|SVGPathElement|SVGPatternElement|SVGPoint|SVGPolygonElement|SVGPolylineElement|SVGPreserveAspectRatio\n  |SVGRadialGradientElement|SVGRect|SVGRectElement|SVGSVGElement|SVGScriptElement|SVGSetElement|SVGStopElement|SVGStringList\n  |SVGStylable|SVGStyleElement|SVGSwitchElement|SVGSymbolElement|SVGTRefElement|SVGTSpanElement|SVGTests|SVGTextElement\n  |SVGTextPositioningElement|SVGTitleElement|SVGTransform|SVGTransformList|SVGTransformable|SVGUseElement|SVGVKernElement\n  |SVGViewElement|ServiceWorker|ServiceWorkerContainer|ServiceWorkerGlobalScope|ServiceWorkerRegistration|ServiceWorkerState\n  |ShadowRoot|SharedWorker|SharedWorkerGlobalScope|SourceBufferList|StereoPannerNode|Storage|StorageEvent|StyleSheet\n  |StyleSheetList|SubtleCrypto|SyncEvent|Text|TextMetrics|TimeEvent|TimeRanges|Touch|TouchEvent|TouchList|Transferable\n  |TreeWalker|UIEvent|USVString|VRDisplayCapabilities|ValidityState|WaveShaperNode|WebGL|WebGLActiveInfo|WebGLBuffer\n  |WebGLContextEvent|WebGLFramebuffer|WebGLProgram|WebGLRenderbuffer|WebGLRenderingContext|WebGLShader|WebGLShaderPrecisionFormat\n  |WebGLTexture|WebGLTimerQueryEXT|WebGLTransformFeedback|WebGLUniformLocation|WebGLVertexArrayObject|WebGLVertexArrayObjectOES\n  |WebSocket|WebSockets|WebVTT|WheelEvent|Window|WindowBase64|WindowEventHandlers|WindowTimers|Worker|WorkerGlobalScope\n  |WorkerLocation|WorkerNavigator|XMLHttpRequest|XMLHttpRequestEventTarget|XMLSerializer|XPathExpression|XPathResult\n  |XSLTProcessor)\n)\\b",captures:{1:{name:"support.variable.dom.js"},2:{name:"support.class.dom.js"}}},{match:"(?x) (\\.) \\s*\n(?:\n  (ATTRIBUTE_NODE|CDATA_SECTION_NODE|COMMENT_NODE|DOCUMENT_FRAGMENT_NODE|DOCUMENT_NODE|DOCUMENT_TYPE_NODE\n  |DOMSTRING_SIZE_ERR|ELEMENT_NODE|ENTITY_NODE|ENTITY_REFERENCE_NODE|HIERARCHY_REQUEST_ERR|INDEX_SIZE_ERR\n  |INUSE_ATTRIBUTE_ERR|INVALID_CHARACTER_ERR|NO_DATA_ALLOWED_ERR|NO_MODIFICATION_ALLOWED_ERR|NOT_FOUND_ERR\n  |NOT_SUPPORTED_ERR|NOTATION_NODE|PROCESSING_INSTRUCTION_NODE|TEXT_NODE|WRONG_DOCUMENT_ERR)\n  |\n  (_content|[xyz]|abbr|above|accept|acceptCharset|accessKey|action|align|[av]Link(?:color)?|all|alt|anchors|appCodeName\n  |appCore|applets|appMinorVersion|appName|appVersion|archive|areas|arguments|attributes|availHeight|availLeft|availTop\n  |availWidth|axis|background|backgroundColor|backgroundImage|below|bgColor|body|border|borderBottomWidth|borderColor\n  |borderLeftWidth|borderRightWidth|borderStyle|borderTopWidth|borderWidth|bottom|bufferDepth|callee|caller|caption\n  |cellPadding|cells|cellSpacing|ch|characterSet|charset|checked|childNodes|chOff|cite|classes|className|clear\n  |clientInformation|clip|clipBoardData|closed|code|codeBase|codeType|color|colorDepth|cols|colSpan|compact|complete\n  |components|content|controllers|cookie|cookieEnabled|cords|cpuClass|crypto|current|data|dateTime|declare|defaultCharset\n  |defaultChecked|defaultSelected|defaultStatus|defaultValue|defaultView|defer|description|dialogArguments|dialogHeight\n  |dialogLeft|dialogTop|dialogWidth|dir|directories|disabled|display|docmain|doctype|documentElement|elements|embeds\n  |enabledPlugin|encoding|enctype|entities|event|expando|external|face|fgColor|filename|firstChild|fontFamily|fontSize\n  |fontWeight|form|formName|forms|frame|frameBorder|frameElement|frames|hasFocus|hash|headers|height|history|host\n  |hostname|href|hreflang|hspace|htmlFor|httpEquiv|id|ids|ignoreCase|images|implementation|index|innerHeight|innerWidth\n  |input|isMap|label|lang|language|lastChild|lastIndex|lastMatch|lastModified|lastParen|layer[sXY]|left|leftContext\n  |lineHeight|link|linkColor|links|listStyleType|localName|location|locationbar|longDesc|lowsrc|lowSrc|marginBottom\n  |marginHeight|marginLeft|marginRight|marginTop|marginWidth|maxLength|media|menubar|method|mimeTypes|multiline|multiple\n  |name|nameProp|namespaces|namespaceURI|next|nextSibling|nodeName|nodeType|nodeValue|noHref|noResize|noShade|notationName\n  |notations|noWrap|object|offscreenBuffering|onLine|onreadystatechange|opener|opsProfile|options|oscpu|outerHeight\n  |outerWidth|ownerDocument|paddingBottom|paddingLeft|paddingRight|paddingTop|page[XY]|page[XY]Offset|parent|parentLayer\n  |parentNode|parentWindow|pathname|personalbar|pixelDepth|pkcs11|platform|plugins|port|prefix|previous|previousDibling\n  |product|productSub|profile|profileend|prompt|prompter|protocol|publicId|readOnly|readyState|referrer|rel|responseText\n  |responseXML|rev|right|rightContext|rowIndex|rows|rowSpan|rules|scheme|scope|screen[XY]|screenLeft|screenTop|scripts\n  |scrollbars|scrolling|sectionRowIndex|security|securityPolicy|selected|selectedIndex|selection|self|shape|siblingAbove\n  |siblingBelow|size|source|specified|standby|start|status|statusbar|statusText|style|styleSheets|suffixes|summary\n  |systemId|systemLanguage|tagName|tags|target|tBodies|text|textAlign|textDecoration|textIndent|textTransform|tFoot|tHead\n  |title|toolbar|top|type|undefined|uniqueID|updateInterval|URL|URLUnencoded|useMap|userAgent|userLanguage|userProfile\n  |vAlign|value|valueType|vendor|vendorSub|version|visibility|vspace|whiteSpace|width|X[MS]LDocument|zIndex)\n)\n\\b",captures:{1:{name:"meta.delimiter.property.period.js"},2:{name:"support.constant.dom.js"},3:{name:"support.variable.property.dom.js"}}},{match:"(?<!\\.)\\b(module|exports|__filename|__dirname|global|process)(?!\\s*:)\\b",name:"support.variable.js"},{match:"\\b(Infinity|NaN|undefined)\\b",name:"constant.language.js"},{begin:"(?<=[\\[=(?:+,!]|^|return|=>|&&|\\|\\|)\\s*(/)(?![/*+?])(?=.*/)",beginCaptures:{1:{name:"punctuation.definition.string.begin.js"}},end:"(/)[gimuy]*",endCaptures:{1:{name:"punctuation.definition.string.end.js"}},name:"string.regexp.js",patterns:[{include:"source.js.regexp"}]},{begin:"\\?",beginCaptures:{0:{name:"keyword.operator.ternary.js"}},end:":",endCaptures:{0:{name:"keyword.operator.ternary.js"}},patterns:[{include:"#prevent_object_keys_matching"},{include:"$self"}]},{include:"#operators"},{include:"#method_calls"},{include:"#function_calls"},{include:"#numbers"},{include:"#objects"},{include:"#properties"},{match:"((?<!\\.|[\\w$])(?![_\\$]+[^A-Z0-9_$])\\$*\\b(?:[A-Z_$][A-Z0-9_$]*)\\b\\$*)",name:"constant.other.js"},{match:"(?<!\\$)\\b[0-9]+[\\w$]*",name:"invalid.illegal.identifier.js"},{match:"\\;",name:"punctuation.terminator.statement.js"},{match:",",name:"meta.delimiter.object.comma.js"},{match:"\\.",name:"meta.delimiter.method.period.js"},{match:"({)(})",captures:{1:{name:"punctuation.section.scope.begin.js"},2:{name:"punctuation.section.scope.end.js"}}},{begin:"{",beginCaptures:{0:{name:"meta.brace.curly.js"}},end:"}",endCaptures:{0:{name:"meta.brace.curly.js"}},patterns:[{include:"$self"}]},{begin:"\\(",beginCaptures:{0:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{0:{name:"meta.brace.round.js"}},patterns:[{include:"$self"}]},{match:"\\[|\\]",name:"meta.brace.square.js"},{match:"\\A#!.*$",name:"comment.line.shebang.js"}],repository:{numbers:{patterns:[{match:"\\b(?<!\\$)0(x|X)[0-9a-fA-F]+\\b(?!\\$)",name:"constant.numeric.hex.js"},{match:"\\b(?<!\\$)0(b|B)[01]+\\b(?!\\$)",name:"constant.numeric.binary.js"},{match:"\\b(?<!\\$)0(o|O)?[0-7]+\\b(?!\\$)",name:"constant.numeric.octal.js"},{match:"(?x)\n(?<!\\$)(?:\n  (?:\\b[0-9]+(\\.)[0-9]+[eE][+-]?[0-9]+\\b)| # 1.1E+3\n  (?:\\b[0-9]+(\\.)[eE][+-]?[0-9]+\\b)|       # 1.E+3\n  (?:\\B(\\.)[0-9]+[eE][+-]?[0-9]+\\b)|       # .1E+3\n  (?:\\b[0-9]+[eE][+-]?[0-9]+\\b)|            # 1E+3\n  (?:\\b[0-9]+(\\.)[0-9]+\\b)|                # 1.1\n  (?:\\b[0-9]+(\\.)\\B)|                      # 1.\n  (?:\\B(\\.)[0-9]+\\b)|                      # .1\n  (?:\\b[0-9]+\\b(?!\\.))                     # 1\n)(?!\\$)",captures:{0:{name:"constant.numeric.decimal.js"},1:{name:"meta.delimiter.decimal.period.js"},2:{name:"meta.delimiter.decimal.period.js"},3:{name:"meta.delimiter.decimal.period.js"},4:{name:"meta.delimiter.decimal.period.js"},5:{name:"meta.delimiter.decimal.period.js"},6:{name:"meta.delimiter.decimal.period.js"}}}]},operators:{patterns:[{match:"%=|\\+=|-=|\\*=|(?<!\\()/=",name:"keyword.operator.assignment.compound.js"},{match:"&=|\\^=|<<=|>>=|>>>=|\\|=",name:"keyword.operator.assignment.compound.bitwise.js"},{match:"<<|>>>|>>",name:"keyword.operator.bitwise.shift.js"},{match:"!==|!=|<=|>=|===|==|<|>",name:"keyword.operator.comparison.js"},{match:"&&|!!|!|\\|\\|",name:"keyword.operator.logical.js"},{match:"&|\\||\\^|~",name:"keyword.operator.bitwise.js"},{match:"=|:",name:"keyword.operator.assignment.js"},{match:"--",name:"keyword.operator.decrement.js"},{match:"\\+\\+",name:"keyword.operator.increment.js"},{match:"%|\\*|/|-|\\+",name:"keyword.operator.js"}]},strings:{patterns:[{begin:"'",beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},end:"'",endCaptures:{0:{name:"punctuation.definition.string.end.js"}},name:"string.quoted.single.js",patterns:[{include:"#string_escapes"},{match:"[^']*[^\\n\\r'\\\\]$",name:"invalid.illegal.string.js"}]},{begin:'"',beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},end:'"',endCaptures:{0:{name:"punctuation.definition.string.end.js"}},name:"string.quoted.double.js",patterns:[{include:"#string_escapes"},{match:'[^"]*[^\\n\\r"\\\\]$',name:"invalid.illegal.string.js"}]},{begin:"((\\w+)?(html|HTML|Html))\\s*(`)",beginCaptures:{1:{name:"entity.name.function.js"},4:{name:"punctuation.definition.string.begin.js"}},end:"`",endCaptures:{0:{name:"punctuation.definition.string.end.js"}},name:"string.quoted.template.html.js",patterns:[{include:"#string_escapes"},{include:"#interpolated_js"},{include:"text.html.basic"}]},{begin:"(?<=innerHTML)\\s*(\\+?=)\\s*(?=`)",beginCaptures:{1:{name:"keyword.operator.assignment.js"}},end:"(?<=`)",endCaptures:{0:{name:"punctuation.definition.string.end.js"}},contentName:"string.quoted.template.html.js",patterns:[{begin:"`",beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},end:"`",endCaptures:{0:{name:"punctuation.definition.string.end.js"}},patterns:[{include:"#string_escapes"},{include:"#interpolated_js"},{include:"text.html.basic"}]}]},{begin:"(Relay\\.QL)\\s*(`)",beginCaptures:{1:{name:"entity.name.function.js"},2:{name:"punctuation.definition.string.begin.js"}},end:"`",endCaptures:{0:{name:"punctuation.definition.string.end.js"}},name:"string.quoted.template.graphql.js",patterns:[{include:"#string_escapes"},{include:"#interpolated_js"},{include:"source.graphql"}]},{begin:"`",beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},end:"`",endCaptures:{0:{name:"punctuation.definition.string.end.js"}},name:"string.quoted.template.js",patterns:[{include:"#string_escapes"},{include:"#interpolated_js"}]}]},string_escapes:{patterns:[{match:"\\\\u(?![A-Fa-f0-9]{4}|{[A-Fa-f0-9]+})[^'\"]*",name:"invalid.illegal.unicode-escape.js"},{match:"\\\\u(?:[A-Fa-f0-9]{4}|({)([A-Fa-f0-9]+)(}))",name:"constant.character.escape.js",captures:{1:{name:"punctuation.definition.unicode-escape.begin.bracket.curly.js"
},2:{patterns:[{match:"[A-Fa-f\\d]{7,}|(?!10)[A-Fa-f\\d]{6}",name:"invalid.illegal.unicode-escape.js"}]},3:{name:"punctuation.definition.unicode-escape.end.bracket.curly.js"}}},{match:"\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)",name:"constant.character.escape.js"}]},function_params:{patterns:[{begin:"\\(",beginCaptures:{0:{name:"punctuation.definition.parameters.begin.bracket.round.js"}},end:"\\)",endCaptures:{0:{name:"punctuation.definition.parameters.end.bracket.round.js"}},name:"meta.parameters.js",patterns:[{match:"(\\.\\.\\.)([a-zA-Z_$][\\w$]*)",captures:{1:{name:"keyword.operator.spread.js"},2:{name:"variable.parameter.rest.function.js"}}},{include:"$self"},{match:"[a-zA-Z_$][\\w$]*",name:"variable.parameter.function.js"}]}]},function_body:{patterns:[{begin:"{",beginCaptures:{0:{name:"punctuation.definition.function.body.begin.bracket.curly.js"}},end:"}",endCaptures:{0:{name:"punctuation.definition.function.body.end.bracket.curly.js"}},patterns:[{include:"$self"}]}]},function_innards:{patterns:[{match:"(?:\\b(async)\\b\\s*)?\\b(function)\\b(?:\\s*(\\*))?",captures:{1:{name:"storage.modifier.async.js"},2:{name:"storage.type.function.js"},3:{name:"storage.modifier.generator.js"}}},{match:"[a-zA-Z_$][\\w$]*(?=\\s*\\()",name:"entity.name.function.js"},{include:"#function_params"},{include:"#comments"}]},arrow_function_innards:{patterns:[{match:"=>",name:"storage.type.function.arrow.js"},{include:"#function_params"},{match:"([a-zA-Z_$][\\w$]*)(?=\\s*=>)",captures:{0:{name:"meta.parameters.js"},1:{name:"variable.parameter.function.js"}}},{match:"(\\d[\\w$]*)",captures:{0:{name:"meta.parameters.js"},1:{name:"invalid.illegal.identifier.js"}}}]},arguments:{patterns:[{begin:"\\(",beginCaptures:{0:{name:"punctuation.definition.arguments.begin.bracket.round.js"}},end:"\\)",endCaptures:{0:{name:"punctuation.definition.arguments.end.bracket.round.js"}},name:"meta.arguments.js",patterns:[{include:"$self"}]}]},method_calls:{patterns:[{begin:"(\\.)\\s*([\\w$]+)\\s*(?=\\()",beginCaptures:{1:{name:"meta.delimiter.method.period.js"},2:{patterns:[{match:"(?x)\n\\bon(Rowsinserted|Rowsdelete|Rowenter|Rowexit|Resize|Resizestart|Resizeend|Reset|\nReadystatechange|Mouseout|Mouseover|Mousedown|Mouseup|Mousemove|\nBefore(cut|deactivate|unload|update|paste|print|editfocus|activate)|\nBlur|Scrolltop|Submit|Select|Selectstart|Selectionchange|Hover|Help|\nChange|Contextmenu|Controlselect|Cut|Cellchange|Clock|Close|Deactivate|\nDatasetchanged|Datasetcomplete|Dataavailable|Drop|Drag|Dragstart|Dragover|\nDragdrop|Dragenter|Dragend|Dragleave|Dblclick|Unload|Paste|Propertychange|Error|\nErrorupdate|Keydown|Keyup|Keypress|Focus|Load|Activate|Afterupdate|Afterprint|Abort)\\b",name:"support.function.event-handler.js"},{match:"(?x)\n\\b(shift|showModelessDialog|showModalDialog|showHelp|scroll|scrollX|scrollByPages|\nscrollByLines|scrollY|scrollTo|stop|strike|sizeToContent|sidebar|signText|sort|\nsup|sub|substr|substring|splice|split|send|set(Milliseconds|Seconds|Minutes|Hours|\nMonth|Year|FullYear|Date|UTC(Milliseconds|Seconds|Minutes|Hours|Month|FullYear|Date)|\nTime|Hotkeys|Cursor|ZOptions|Active|Resizable|RequestHeader)|search|slice|\nsavePreferences|small|home|handleEvent|navigate|char|charCodeAt|charAt|concat|\ncontextual|confirm|compile|clear|captureEvents|call|createStyleSheet|createPopup|\ncreateEventObject|to(GMTString|UTCString|String|Source|UpperCase|LowerCase|LocaleString)|\ntest|taint|taintEnabled|indexOf|italics|disableExternalCapture|dump|detachEvent|unshift|\nuntaint|unwatch|updateCommands|join|javaEnabled|pop|push|plugins.refresh|paddings|parse|\nprint|prompt|preference|enableExternalCapture|exec|execScript|valueOf|UTC|find|file|\nfileModifiedDate|fileSize|fileCreatedDate|fileUpdatedDate|fixed|fontsize|fontcolor|\nforward|fromCharCode|watch|link|load|lastIndexOf|anchor|attachEvent|atob|apply|alert|\nabort|routeEvents|resize|resizeBy|resizeTo|recalc|returnValue|replace|reverse|reload|\nreleaseCapture|releaseEvents|go|get(Milliseconds|Seconds|Minutes|Hours|Month|Day|Year|FullYear|\nTime|Date|TimezoneOffset|UTC(Milliseconds|Seconds|Minutes|Hours|Day|Month|FullYear|Date)|\nAttention|Selection|ResponseHeader|AllResponseHeaders)|moveBy|moveBelow|moveTo|\nmoveToAbsolute|moveAbove|mergeAttributes|match|margins|btoa|big|bold|borderWidths|blink|back)\\b",name:"support.function.js"},{match:"(?x)\n\\b(acceptNode|add|addEventListener|addTextTrack|adoptNode|after|animate|append|\nappendChild|appendData|before|blur|canPlayType|captureStream|\ncaretPositionFromPoint|caretRangeFromPoint|checkValidity|clear|click|\ncloneContents|cloneNode|cloneRange|close|closest|collapse|\ncompareBoundaryPoints|compareDocumentPosition|comparePoint|contains|\nconvertPointFromNode|convertQuadFromNode|convertRectFromNode|createAttribute|\ncreateAttributeNS|createCaption|createCDATASection|createComment|\ncreateContextualFragment|createDocument|createDocumentFragment|\ncreateDocumentType|createElement|createElementNS|createEntityReference|\ncreateEvent|createExpression|createHTMLDocument|createNodeIterator|\ncreateNSResolver|createProcessingInstruction|createRange|createShadowRoot|\ncreateTBody|createTextNode|createTFoot|createTHead|createTreeWalker|delete|\ndeleteCaption|deleteCell|deleteContents|deleteData|deleteRow|deleteTFoot|\ndeleteTHead|detach|disconnect|dispatchEvent|elementFromPoint|elementsFromPoint|\nenableStyleSheetsForSet|entries|evaluate|execCommand|exitFullscreen|\nexitPointerLock|expand|extractContents|fastSeek|firstChild|focus|forEach|get|\ngetAll|getAnimations|getAttribute|getAttributeNames|getAttributeNode|\ngetAttributeNodeNS|getAttributeNS|getBoundingClientRect|getBoxQuads|\ngetClientRects|getContext|getDestinationInsertionPoints|getElementById|\ngetElementsByClassName|getElementsByName|getElementsByTagName|\ngetElementsByTagNameNS|getItem|getNamedItem|getSelection|getStartDate|\ngetVideoPlaybackQuality|has|hasAttribute|hasAttributeNS|hasAttributes|\nhasChildNodes|hasFeature|hasFocus|importNode|initEvent|insertAdjacentElement|\ninsertAdjacentHTML|insertAdjacentText|insertBefore|insertCell|insertData|\ninsertNode|insertRow|intersectsNode|isDefaultNamespace|isEqualNode|\nisPointInRange|isSameNode|item|key|keys|lastChild|load|lookupNamespaceURI|\nlookupPrefix|matches|move|moveAttribute|moveAttributeNode|moveChild|\nmoveNamedItem|namedItem|nextNode|nextSibling|normalize|observe|open|\nparentNode|pause|play|postMessage|prepend|preventDefault|previousNode|\npreviousSibling|probablySupportsContext|queryCommandEnabled|\nqueryCommandIndeterm|queryCommandState|queryCommandSupported|queryCommandValue|\nquerySelector|querySelectorAll|registerContentHandler|registerElement|\nregisterProtocolHandler|releaseCapture|releaseEvents|remove|removeAttribute|\nremoveAttributeNode|removeAttributeNS|removeChild|removeEventListener|\nremoveItem|replace|replaceChild|replaceData|replaceWith|reportValidity|\nrequestFullscreen|requestPointerLock|reset|scroll|scrollBy|scrollIntoView|\nscrollTo|seekToNextFrame|select|selectNode|selectNodeContents|set|setAttribute|\nsetAttributeNode|setAttributeNodeNS|setAttributeNS|setCapture|\nsetCustomValidity|setEnd|setEndAfter|setEndBefore|setItem|setNamedItem|\nsetRangeText|setSelectionRange|setSinkId|setStart|setStartAfter|setStartBefore|\nslice|splitText|stepDown|stepUp|stopImmediatePropagation|stopPropagation|\nsubmit|substringData|supports|surroundContents|takeRecords|terminate|toBlob|\ntoDataURL|toggle|toString|values|write|writeln)\\b",name:"support.function.dom.js"},{match:"[a-zA-Z_$][\\w$]*",name:"entity.name.function.js"},{match:"\\d[\\w$]*",name:"invalid.illegal.identifier.js"}]}},end:"(?<=\\))",name:"meta.method-call.js",patterns:[{include:"#arguments"}]}]},function_calls:{patterns:[{begin:"([\\w$]+)\\s*(?=\\()",beginCaptures:{1:{patterns:[{match:"(?x)\n\\b(isNaN|isFinite|eval|uneval|parseInt|parseFloat|decodeURI|\ndecodeURIComponent|encodeURI|encodeURIComponent|escape|unescape|\nrequire|set(Interval|Timeout)|clear(Interval|Timeout))\\b",name:"support.function.js"},{match:"[a-zA-Z_$][\\w$]*",name:"entity.name.function.js"},{match:"\\d[\\w$]*",name:"invalid.illegal.identifier.js"}]}},end:"(?<=\\))",name:"meta.function-call.js",patterns:[{include:"#arguments"}]}]},objects:{patterns:[{match:"[A-Z][A-Z0-9_$]*(?=\\s*\\.\\s*[a-zA-Z_$]\\w*)",name:"constant.other.object.js"},{match:"[a-zA-Z_$][\\w$]*(?=\\s*\\.\\s*[a-zA-Z_$]\\w*)",name:"variable.other.object.js"}]},properties:{patterns:[{match:"(\\.)\\s*([A-Z][A-Z0-9_$]*\\b\\$*)(?=\\s*\\.\\s*[a-zA-Z_$]\\w*)",captures:{1:{name:"meta.delimiter.property.period.js"},2:{name:"constant.other.object.property.js"}}},{match:"(\\.)\\s*(\\$*[a-zA-Z_$][\\w$]*)(?=\\s*\\.\\s*[a-zA-Z_$]\\w*)",captures:{1:{name:"meta.delimiter.property.period.js"},2:{name:"variable.other.object.property.js"}}},{match:"(\\.)\\s*([A-Z][A-Z0-9_$]*\\b\\$*)",captures:{1:{name:"meta.delimiter.property.period.js"},2:{name:"constant.other.property.js"}}},{match:"(\\.)\\s*(\\$*[a-zA-Z_$][\\w$]*)",captures:{1:{name:"meta.delimiter.property.period.js"},2:{name:"variable.other.property.js"}}},{match:"(\\.)\\s*([0-9][\\w$]*)",captures:{1:{name:"meta.delimiter.property.period.js"},2:{name:"invalid.illegal.identifier.js"}}}]},interpolated_js:{patterns:[{begin:"\\${",captures:{0:{name:"punctuation.section.embedded.js"}},end:"}",name:"source.js.embedded.source",patterns:[{begin:"{",beginCaptures:{0:{name:"meta.brace.curly.js"}},end:"}",endCaptures:{0:{name:"meta.brace.curly.js"}},patterns:[{include:"$self"}]},{include:"$self"}]}]},docblock:{patterns:[{match:"(?x) (?<!\\w)@\n(abstract|access|alias|arg|argument|async|attribute|augments|author|beta|borrows|bubbes|callback|chainable|class\n|classdesc|code|config|const|constant|constructor|constructs|copyright|default|defaultvalue|define|deprecated|desc\n|description|dict|emits|enum|event|example|exports?|extends|extension|extension_for|extensionfor|external|file\n|fileoverview|final|fires|for|function|global|host|ignore|implements|implicitCast|inherit[Dd]oc|inner|instance\n|interface|kind|lends|license|listens|main|member|memberof|method|mixex|mixins?|modifies|module|name|namespace\n|noalias|nocollapse|nocompile|nosideeffects|override|overview|package|param|preserve|private|prop|property\n|protected|public|read[Oo]nly|record|require[ds]|returns?|see|since|static|struct|submodule|summary|suppress\n|template|this|throws|todo|type|typedef|unrestricted|uses|var|variation|version|virtual|writeOnce)\\b",name:"storage.type.class.jsdoc"},{match:"(?x)\n(\n  \\[\n    [^\\]]+            # Optional [link text] preceding {@link syntax}\n  \\]\n\n  (?!                  # Check to avoid highlighting two sets of link text\n    {\n      @\\w+            # Tagname\n      \\s+\n      [^\\s|}]+        # Namepath/URL\n      [\\s|]           # Whitespace or bar delimiting description\n      [^}]*\n    }\n  )\n)?\n\n(?:\n  {\n    (\n      @\n      (?: link         # Name of tag\n        | linkcode\n        | linkplain\n        | tutorial\n      )\n    )\n\n    \\s+\n\n    ([^\\s|}]+)        # Namepath or URL\n\n    (?:                # Optional link text following link target\n      [\\s|]           # Bar or space separating target and text\n      [^}]*            # Actual text\n    )?\n  }\n)",captures:{0:{name:"entity.name.type.instance.jsdoc"},1:{name:"constant.other.description.jsdoc"},2:{name:"storage.type.class.jsdoc"},3:{name:"variable.other.description.jsdoc"}},name:"other.meta.jsdoc"},{match:"(?x)\n(?:(?<=@param)|(?<=@arg)|(?<=@argument)|(?<=@type))\n\\s+\n({(?:\n  \\* |                                       # {*} any type\n  \\? |                                       # {?} unknown type\n\n  (?:\n    (?:                                       # Check for a prefix\n      \\? |                                   # {?string} nullable type\n      !   |                                   # {!string} non-nullable type\n      \\.{3}                                  # {...string} variable number of parameters\n      [*?]?                                   # {...*} Variable number of mixed types\n    )?\n\n    (?:\n      (?:\n        function                              # {function(string, number)} function type\n        \\s*\n        (?:\n          (?:\n            \\(\\s*\n            \\.{3}[a-zA-Z_$][\\w$]+           # {function(...string)} variable number of parameters\n            \\s*\\)\n          )\n          |\n          (?:\n            \\(\\s*\n            (?:\n              (?:\\?|!)?                      # {function(?string)} or function(!string)} nullable/non-nullable type\n              [a-zA-Z_$][\\w$]+\n              (?:\\[\\])?                     # {function(string[])} type application, an array of strings\n              (?:\n                (?:\n                  (?:\n                    \\s*,\\s*\n                    (?:\\?|!)?                # {function(?string)} or function(!string)} nullable/non-nullable type\n                    [a-zA-Z_$][\\w$]+\n                    (?:\\[\\])?               # {function(string[])} type application, an array of strings\n                  )*\n                  (?:\n                    \\s*,\\s*\n                    \\.{3}[a-zA-Z_$][\\w$]+   # {function(string, ...string)} variable number of parameters\n                  )?\n                )\n                |\n                (?:\n                  =?                          # {function(string=)} optional parameter\n                  (?:\n                    (?<!=)                    # {function(string, string, number)} loop non-optional params\n                    \\s*,\\s*\n                    (?:\\?|!)?                # {function(?string)} or function(!string)} nullable/non-nullable type\n                    [a-zA-Z_$][\\w$]+\n                    (?:\\[\\])?               # {function(string[])} type application, an array of strings\n                    =?\n                  )*\n                  (?:\n                    (?<==)                    # {function(string, string=, number=)} loop optional params\n                    \\s*,\\s*\n                    (?:\\?|!)?                # {function(?string)} or function(!string)} nullable/non-nullable type\n                    [a-zA-Z_$][\\w$]+\n                    (?:\\[\\])?               # {function(string[])} type application, an array of strings\n                    =\n                  )*\n                )\n              )\n            )?\n            \\s*\\)\n          )\n        )\n        (?:                                   # {function(): string} function return type\n          \\s*:\\s*\n          [a-zA-Z_$][\\w$]*\n        )?\n      )?\n      |\n      (?:\n        \\(                                   # Opening bracket of multiple types with parenthesis {(string|number)}\n          [a-zA-Z_$]+\n          (?:\n            (?:\n              [\\w$]*\n              (?:\\[\\])?                     # {(string[]|number)} type application, an array of strings or a number\n            ) |\n            \\.?<[\\w$]+(?:,\\s+[\\w$]+)*>    # {Array<string>} or {Object<string, number>} type application (optional .)\n          )\n          (?:\n            [\\.|~]                           # {Foo.bar} namespaced, {string|number} multiple, {Foo~bar} class-specific callback\n            [a-zA-Z_$]+\n            (?:\n              (?:\n                [\\w$]*\n                (?:\\[\\])?                   # {(string|number[])} type application, a string or an array of numbers\n              ) |\n              \\.?<[\\w$]+(?:,\\s+[\\w$]+)*>  # {Array<string>} or {Object<string, number>} type application (optional .)\n            )\n          )*\n        \\) |\n        [a-zA-Z_$]+\n        (?:\n          (?:\n            [\\w$]*\n            (?:\\[\\])?                       # {(string|number[])} type application, a string or an array of numbers\n          ) |\n          \\.?<[\\w$]+(?:,\\s+[\\w$]+)*>      # {Array<string>} or {Object<string, number>} type application (optional .)\n        )\n        (?:\n          [\\.|~]                             # {Foo.bar} namespaced, {string|number} multiple, {Foo~bar} class-specific callback\n          [a-zA-Z_$]+\n          (?:\n            [\\w$]* |\n            \\.?<[\\w$]+(?:,\\s+[\\w$]+)*>    # {Array<string>} or {Object<string, number>} type application (optional .)\n          )\n        )*\n      )\n    )\n                                              # Check for suffix\n    (?:\\[\\])?                               # {string[]} type application, an array of strings\n    =?                                        # {string=} optional parameter\n  )\n)})\n\\s+\n(\n  \\[                                         # [foo] optional parameter\n    \\s*\n    (?:\n      [a-zA-Z_$][\\w$]*\n      (?:\n        (?:\\[\\])?                           # Foo[].bar properties within an array\n        \\.                                   # Foo.Bar namespaced parameter\n        [a-zA-Z_$][\\w$]*\n      )*\n      (?:\n        \\s*\n        =                                     # [foo=bar] Default parameter value\n        \\s*\n        (?:\n          [\\w$.\\s]* |                       # [foo=bar] Unquoted\n          \"[^\"]*\"     |                       # [foo=\"bar\"] Double-quoted\n          '[^']*'     |                       # [foo='bar'] Single-quoted\n          {[^{}]*}    |                       # [foo={a:1}] Object literal\n          \\[ [^\\[\\]]* \\]                  # [foo=[1,2]] Array literal\n        )\n      )?\n    )\n    \\s*\n  \\] |\n  (?:\n    [a-zA-Z_$][\\w$]*\n    (?:\n      (?:\\[\\])?                             # Foo[].bar properties within an array\n      \\.                                     # Foo.Bar namespaced parameter\n      [a-zA-Z_$][\\w$]*\n    )*\n  )?\n)\n\\s+\n(?:-\\s+)?                                     # optional hyphen before the description\n((?:(?!\\*\\/).)*)                             # The type description",captures:{0:{name:"other.meta.jsdoc"},1:{name:"entity.name.type.instance.jsdoc"},2:{name:"variable.other.jsdoc"},3:{name:"other.description.jsdoc",patterns:[{include:"#docblock"}]}}},{match:"(?x)\n({(?:\n  \\* |                                       # {*} any type\n  \\? |                                       # {?} unknown type\n\n  (?:\n    (?:                                       # Check for a prefix\n      \\? |                                   # {?string} nullable type\n      !   |                                   # {!string} non-nullable type\n      \\.{3}                                  # {...string} variable number of parameters\n      [*?]?                                   # {...*} Variable number of mixed types\n    )?\n\n    (?:\n      (?:\n        function                              # {function(string, number)} function type\n        \\s*\n        (?:\n          (?:\n            \\(\\s*\n            \\.{3}[a-zA-Z_$][\\w$]+           # {function(...string)} variable number of parameters\n            \\s*\\)\n          )\n          |\n          (?:\n            \\(\\s*\n            (?:\n              (?:\\?|!)?                      # {function(?string)} or function(!string)} nullable/non-nullable type\n              [a-zA-Z_$][\\w$]+\n              (?:\\[\\])?                     # {function(string[])} type application, an array of strings\n              (?:\n                (?:\n                  (?:\n                    \\s*,\\s*\n                    (?:\\?|!)?                # {function(?string)} or function(!string)} nullable/non-nullable type\n                    [a-zA-Z_$][\\w$]+\n                    (?:\\[\\])?               # {function(string[])} type application, an array of strings\n                  )*\n                  (?:\n                    \\s*,\\s*\n                    \\.{3}[a-zA-Z_$][\\w$]+   # {function(string, ...string)} variable number of parameters\n                  )?\n                )\n                |\n                (?:\n                  =?                          # {function(string=)} optional parameter\n                  (?:\n                    (?<!=)                    # {function(string, string, number)} loop non-optional params\n                    \\s*,\\s*\n                    (?:\\?|!)?                # {function(?string)} or function(!string)} nullable/non-nullable type\n                    [a-zA-Z_$][\\w$]+\n                    (?:\\[\\])?               # {function(string[])} type application, an array of strings\n                    =?\n                  )*\n                  (?:\n                    (?<==)                    # {function(string, string=, number=)} loop optional params\n                    \\s*,\\s*\n                    (?:\\?|!)?                # {function(?string)} or function(!string)} nullable/non-nullable type\n                    [a-zA-Z_$][\\w$]+\n                    (?:\\[\\])?               # {function(string[])} type application, an array of strings\n                    =\n                  )*\n                )\n              )\n            )?\n            \\s*\\)\n          )\n        )\n        (?:                                   # {function(): string} function return type\n          \\s*:\\s*\n          [a-zA-Z_$][\\w$]*\n        )?\n      )?\n      |\n      (?:\n        \\(                                   # Opening bracket of multiple types with parenthesis {(string|number)}\n          [a-zA-Z_$]+\n          (?:\n            (?:\n              [\\w$]*\n              (?:\\[\\])?                     # {(string[]|number)} type application, an array of strings or a number\n            ) |\n            \\.?<[\\w$]+(?:,\\s+[\\w$]+)*>    # {Array<string>} or {Object<string, number>} type application (optional .)\n          )\n          (?:\n            [\\.|~]                           # {Foo.bar} namespaced, {string|number} multiple, {Foo~bar} class-specific callback\n            [a-zA-Z_$]+\n            (?:\n              (?:\n                [\\w$]*\n                (?:\\[\\])?                   # {(string|number[])} type application, a string or an array of numbers\n              ) |\n              \\.?<[\\w$]+(?:,\\s+[\\w$]+)*>  # {Array<string>} or {Object<string, number>} type application (optional .)\n            )\n          )*\n        \\) |\n        [a-zA-Z_$]+\n        (?:\n          (?:\n            [\\w$]*\n            (?:\\[\\])?                       # {(string|number[])} type application, a string or an array of numbers\n          ) |\n          \\.?<[\\w$]+(?:,\\s+[\\w$]+)*>      # {Array<string>} or {Object<string, number>} type application (optional .)\n        )\n        (?:\n          [\\.|~]                             # {Foo.bar} namespaced, {string|number} multiple, {Foo~bar} class-specific callback\n          [a-zA-Z_$]+\n          (?:\n            [\\w$]* |\n            \\.?<[\\w$]+(?:,\\s+[\\w$]+)*>    # {Array<string>} or {Object<string, number>} type application (optional .)\n          )\n        )*\n      )\n    )\n                                              # Check for suffix\n    (?:\\[\\])?                               # {string[]} type application, an array of strings\n    =?                                        # {string=} optional parameter\n  )\n)})\n\\s+\n(?:-\\s+)?                                    # optional hyphen before the description\n((?:(?!\\*\\/).)*)                            # The type description",captures:{0:{name:"other.meta.jsdoc"},1:{name:"entity.name.type.instance.jsdoc"},2:{name:"other.description.jsdoc",patterns:[{include:"#docblock"}]}}}]},comments:{patterns:[{begin:"/\\*\\*(?!/)",beginCaptures:{0:{name:"punctuation.definition.comment.js"}},end:"\\*/",endCaptures:{0:{name:"punctuation.definition.comment.js"}},name:"comment.block.documentation.js",patterns:[{include:"#docblock"}]},{begin:"/\\*",beginCaptures:{0:{name:"punctuation.definition.comment.js"}},end:"\\*/",endCaptures:{0:{name:"punctuation.definition.comment.js"}},name:"comment.block.js"},{begin:"(^[ \\t]+)?(?=//)",beginCaptures:{1:{name:"punctuation.whitespace.comment.leading.js"}},end:"(?!\\G)",patterns:[{begin:"//",beginCaptures:{0:{name:"punctuation.definition.comment.js"}},end:"\\n",name:"comment.line.double-slash.js"}]}]},switch_statement:{patterns:[{begin:"\\bswitch\\b",beginCaptures:{0:{name:"keyword.control.switch.js"}},end:"}",endCaptures:{0:{name:"punctuation.definition.section.switch-block.end.bracket.curly.js"}},name:"meta.switch-statement.js",patterns:[{begin:"\\(",beginCaptures:{0:{name:"punctuation.definition.switch-expression.begin.bracket.round.js"}},end:"\\)",endCaptures:{0:{name:"punctuation.definition.switch-expression.end.bracket.round.js"}},patterns:[{include:"$self"}]},{begin:"{",beginCaptures:{0:{name:"punctuation.definition.section.switch-block.begin.bracket.curly.js"}},end:"(?=})",patterns:[{begin:"\\bcase\\b",beginCaptures:{0:{name:"keyword.control.case.js"}},end:":",endCaptures:{0:{name:"punctuation.definition.section.case-statement.js"}},patterns:[{include:"#prevent_object_keys_matching"},{include:"$self"}]},{match:"(?:^\\s*)?\\b(default)\\b\\s*(:)",captures:{1:{name:"keyword.control.default.js"},2:{name:"punctuation.definition.section.case-statement.js"}}},{include:"$self"}]}]}]},prevent_object_keys_matching:{patterns:[{match:"(\\w+)(?=\\s*:)",captures:{1:{patterns:[{include:"$self"}]}}}]}}});
$_mod.installed("markojs-website$1.0.0","language-marko","2.8.0");
$_mod.def("/language-marko$2.8.0/grammars/marko.cson",{fileTypes:["marko"],name:"Marko",patterns:[{include:"#scriptlet"},{include:"#special-js-tags"},{include:"#js-code-block"},{include:"#component-style"},{include:"#comment-concise-line"},{include:"#comment-concise-block"},{include:"#comment-html"},{include:"#html-block-concise"},{include:"#html-line-concise"},{include:"#cdata"},{include:"#doctype"},{include:"#tag-script-concise"},{include:"#tag-style-concise"},{include:"#tag-concise"},{include:"#tag-html"},{include:"#placeholder-patterns"}],repository:{"attr-assignment-concise":{applyEndPatternLast:1,begin:"(?:\\s+|[,])(?:(ref)|([a-zA-Z][a-zA-Z]*)|(data-[a-zA-Z-]*)|([_a-zA-Z0-9][a-zA-Z0-9:_.-]*))\\s*([=])\\s*",beginCaptures:{1:{name:"support.function.marko-attribute"},2:{name:"entity.other.attribute-name.html"},3:{name:"entity.other.attribute-name.html"},4:{name:"support.function.marko-attribute"},5:{name:"punctuation.separator.key-value.html"}},end:"(?=([,;]|\\s|$))",patterns:[{include:"#expression"}]},"attr-assignment-html":{applyEndPatternLast:1,begin:"(?:\\s+|[,])(?:(ref)|([a-zA-Z][a-zA-Z]*)|(data-[a-zA-Z0-9-]*)|([_a-zA-Z0-9][a-zA-Z0-9:_.-]*))\\s*([=])\\s*",beginCaptures:{1:{name:"support.function.marko-attribute"},2:{name:"entity.other.attribute-name.html"},3:{name:"entity.other.attribute-name.html"},4:{name:"support.function.marko-attribute"},5:{name:"punctuation.separator.key-value.html"}},end:"(?=[,;]|\\s|/>|>)",patterns:[{include:"#expression-no-gt"}]},"attr-js-block":{applyEndPatternLast:1,begin:"\\s\\{",beginCaptures:{0:{name:"punctuation.section.scope.begin.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.section.scope.end.js"}},patterns:[{include:"#js"}]},"attr-no-value":{captures:{1:{name:"entity.other.attribute-name.html"},2:{name:"entity.other.attribute-name.html"},3:{name:"support.function.marko-attribute"}},match:"\\s+(?:([a-zA-Z][a-zA-Z]*)|(data-[a-zA-Z0-9-]*)|([a-zA-Z0-9][a-zA-Z0-9:_.-]+))(?=\\s|/>|>|$)"},"attr-semicolon":{applyEndPatternLast:1,begin:"([;])",beginCaptures:{1:{name:"punctuation.terminator.statement.js"}},end:"(?=\\n)",patterns:[{include:"#comment-line"},{include:"#comment-block"}]},"attr-stuff-concise":{patterns:[{include:"#comment-line"},{include:"#comment-block"},{begin:"\\s[\\[]",end:"[\\]]",patterns:[{include:"#attr-stuff-concise"}]},{begin:"[,]\\s*$",end:"(?=\\s)"},{include:"#attr-with-arg"},{include:"#attr-assignment-concise"},{include:"#attr-no-value"},{include:"#placeholder"},{include:"#attr-js-block"},{include:"#expression"},{include:"#attr-semicolon"}]},"attr-stuff-html":{patterns:[{include:"#comment-block"},{include:"#attr-with-arg"},{include:"#attr-assignment-html"},{include:"#attr-no-value"},{include:"#placeholder"},{include:"#attr-js-block"},{include:"#expression-no-gt"},{include:"#attr-semicolon"}]},"attr-with-arg":{applyEndPatternLast:1,begin:"\\s+([_a-zA-Z0-9][a-zA-Z0-9:_.-]+)(\\()",beginCaptures:{1:{name:"support.function.marko-attribute"},2:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{1:{name:"meta.brace.round.js"}},patterns:[{include:"#expression"}]},cdata:{begin:"<!\\[CDATA\\[",beginCaptures:{0:{name:"punctuation.definition.string.begin.xml"}},end:"]]>",endCaptures:{0:{name:"punctuation.definition.string.end.xml"}},name:"string.unquoted.cdata.xml"},"comment-block":{begin:"/\\*",beginCaptures:{0:{name:"punctuation.definition.comment.begin.js"}},end:"\\*/",endCaptures:{0:{name:"punctuation.definition.comment.end.js"}},name:"comment.block.js"},"comment-concise-block":{begin:"^(\\s*)/\\*",beginCaptures:{0:{name:"punctuation.definition.comment.begin.js"}},end:"\\*/.*",endCaptures:{0:{name:"punctuation.definition.comment.end.js"}},name:"comment.block.js"},"comment-concise-line":{begin:"^(\\s*)//",comment:"Single line comment (concise)",end:"$",name:"comment.line.double-slash.marko"},"comment-html":{begin:"\\s*<!--",captures:{0:{name:"punctuation.definition.comment.html"}},end:"-->",name:"comment.block.html"},"comment-line":{begin:"(//)",beginCaptures:{1:{name:"punctuation.definition.comment.js"}},end:"(?=\\n)",name:"comment.line.double-slash.js"},"component-style":{patterns:[{include:"#component-style-less"},{include:"#component-style-css"}]},"component-style-css":{applyEndPatternLast:1,begin:"^(style)(?:\\.([a-z]+))?\\s+(\\{)",beginCaptures:{1:{name:"storage.type.marko.css"},2:{name:"storage.modifier.marko.less"},3:{name:"punctuation.section.scope.begin.css"}},end:"\\}",endCaptures:{0:{name:"punctuation.section.scope.end.css"}},patterns:[{include:"source.css"}]},"component-style-less":{applyEndPatternLast:1,begin:"^(style)\\.(less)\\s+(\\{)",beginCaptures:{1:{name:"storage.type.marko.less"},2:{name:"storage.modifier.marko.less"},3:{name:"punctuation.section.scope.begin.less"}},end:"\\}",endCaptures:{0:{name:"punctuation.section.scope.end.less"}},patterns:[{include:"source.css.less"}]},doctype:{begin:"<!",captures:{0:{name:"punctuation.definition.marko-tag.html"}},end:">",name:"meta.tag.sgml.html",patterns:[{begin:"(?i:DOCTYPE)",captures:{1:{name:"entity.name.tag.doctype.html"}},end:"(?=>)",name:"meta.tag.sgml.doctype.html",patterns:[{match:'"[^">]*"',name:"string.quoted.double.doctype.identifiers-and-DTDs.html"}]}]},expression:{comment:"A JavaScript expression",patterns:[{include:"#expression-common"},{include:"#expression-operator-gt"}]},"expression-common":{comment:"A JavaScript expression",patterns:[{include:"#expression-string-single"},{include:"#expression-string-double"},{include:"#expression-group-parens"},{include:"#expression-group-brackets"},{include:"#expression-group-braces"},{include:"#expression-constant"},{include:"#expression-hex"},{include:"#expression-numeric"},{include:"#expression-operator-unary"},{include:"#expression-operator-binary"},{include:"#expression-operator-special"},{include:"#expression-special-class"}]},"expression-constant":{captures:{1:{name:"constant.language.boolean.true.js"},2:{name:"constant.language.boolean.false.js"},3:{name:"constant.language.infinity.js"},4:{name:"constant.language.nan.js"},5:{name:"constant.language.null.js"},6:{name:"constant.language.undefined.js"}},match:"(true)|(false)|(Infinity)|(NaN)|(null)|(undefined)"},"expression-group-braces":{applyEndPatternLast:1,begin:"\\{",beginCaptures:{0:{name:"punctuation.section.scope.begin.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.section.scope.end.js"}},patterns:[{include:"#expression"}]},"expression-group-brackets":{applyEndPatternLast:1,begin:"\\[",beginCaptures:{0:{name:"meta.brace.square.js"}},end:"\\]",endCaptures:{0:{name:"meta.brace.square.js"}},patterns:[{include:"#expression"}]},"expression-group-parens":{applyEndPatternLast:1,begin:"\\(",beginCaptures:{0:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{0:{name:"meta.brace.round.js"}},patterns:[{include:"#expression"}]},"expression-hex":{match:"\\b0[xX]\\h+\\b",name:"constant.numeric.hex.js"},"expression-no-gt":{comment:"A JavaScript expression",patterns:[{include:"#expression-common"}]},"expression-numeric":{match:"(?x)\n\t\t\t\t(?<!\\w)\t\t\t\t\t\t\t\t\t# Ensure word boundry\n\t\t\t\t(?>\n\t\t\t\t\t(\n\t\t\t\t\t\t(0|[1-9][0-9]*)(\\.[0-9]*)?\t\t# 0 or 1 or 1. or 1.0\n\t\t\t\t\t  | \\.[0-9]+\t\t\t\t\t\t# .1\n\t\t\t\t\t)\n\t\t\t\t\t([eE][+-]?[0-9]+)?\t\t\t\t\t# Exponent\n\t\t\t\t)\n\t\t\t\t(?!\\w)\t\t\t\t\t\t\t\t\t# Ensure word boundry\n\t\t\t",name:"constant.numeric.js"},"expression-operator-binary":{captures:{2:{name:"keyword.operator.js"}},match:"(\\s+|\\b)(===|==|!==|!=|<=|<<|&&|\\|\\||<|\\+=|-=|\\*=|/=|%=|[=+*/%|&~^:])(\\s+|\\b)"},"expression-operator-gt":{captures:{2:{name:"keyword.operator.js"}},match:"(\\s+|\\b)(>=|>>|>)(\\s+|\\b)"},"expression-operator-special":{match:"(?<!\\.|\\$)\\b(delete|in|instanceof|new|typeof\\s*|void|with)\\b(?!\\$)",name:"keyword.operator.js"},"expression-operator-unary":{match:"\\b(!|\\+\\+)\\b|\\b\\-\\-(?<!\\s)",name:"keyword.operator.js"},"expression-special-class":{match:"(?<!\\.|\\$)\\b(Array|Boolean|Date|Error|EvalError|Function|Number|Object|RangeError|ReferenceError|RegExp|String|SyntaxError|TypeError|URIError)\\b(?!\\$)",name:"support.class.js"},"expression-string-double":{begin:'"',beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},end:'"',endCaptures:{0:{name:"punctuation.definition.string.end.js"}},name:"string.quoted.double.js",patterns:[{match:"\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]|37[0-7]?|[4-7][0-7]?|.)",name:"constant.character.escape.js"},{include:"#placeholder-patterns"}]},"expression-string-single":{begin:"'",beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},end:"'",endCaptures:{0:{name:"punctuation.definition.string.end.js"}},name:"string.quoted.single.js",patterns:[{match:"\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)",name:"constant.character.escape.js"},{include:"#placeholder-patterns"}]},"expression-ternary-if":{begin:"\\?",end:":",name:"meta.ternary-if.js",patterns:[{include:"$self"}]},"html-block-concise":{begin:"(\\s*)(-[-]+)\\n",captures:{2:{name:"keyword.operator.marko"}},end:"^(\\1\\2|(?!(\\1)))",name:"meta.section.marko-html-block",patterns:[{include:"#cdata"},{include:"#tag-html"},{include:"#comment-html"},{include:"#js-code-line"},{include:"#js-code-block"},{include:"#placeholder-patterns"}]},"html-line-concise":{begin:"\\s*([-][-]+)",beginCaptures:{1:{name:"keyword.operator.marko"}},end:"(?=\\n)",patterns:[{include:"#cdata"},{include:"#tag-html"},{include:"#comment-html"},{include:"#placeholder-patterns"}]},js:{patterns:[{include:"#comment-line"},{include:"#comment-block"},{applyEndPatternLast:1,begin:"\\{",beginCaptures:{0:{name:"punctuation.section.scope.begin.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.section.scope.end.js"}},patterns:[{include:"#js"}]},{applyEndPatternLast:1,begin:"\\(",beginCaptures:{0:{name:"punctuation.section.scope.begin.js"}},end:"\\)",endCaptures:{0:{name:"punctuation.section.scope.end.js"}},patterns:[{include:"#js"}]},{include:"#expression"},{match:"\\b(break|case|catch|continue|default|do|else|export|finally|for|if|return|switch|throw|try|while|with|import|from|await|async)\\b",name:"keyword.control.js"},{match:"\\b(let|var)\\b",name:"storage.type.var.js"},{match:"(\\s+|\\b)(\\=\\>)(\\s+|\\b)",name:"storage.type.function.arrow.js"},{match:"\\;",name:"punctuation.terminator.statement.js"},{match:"\\b(function)\\b",name:"storage.type.function.js"},{match:"\\b(class)\\b",name:"entity.name.type.class.js"},{match:"\\bextends\\b",name:"entity.other.inherited-class.js"},{match:"\\b(console|JSON)\\b",name:"entity.name.type"},{match:"\\b(this|arguments)\\b",name:"variable.language.js"},{begin:"([\\p{L}\\p{Nl}$_][\\p{L}\\p{Nl}$\\p{Mn}\\p{Mc}\\p{Nd}\\p{Pc}\\x{200C}\\x{200D}]*)\\s*(\\()(?=(?:[^\\(\\)]*)?\\)\\s*\\{)",beginCaptures:{1:{name:"entity.name.function.js"},2:{name:"punctuation.definition.parameters.begin.js"}},end:"\\)",endCaptures:{0:{name:"punctuation.definition.parameters.END.js"}},name:"meta.method.js"}]},"js-code-block":{applyEndPatternLast:1,begin:"^\\s*([$])\\s",beginCaptures:{1:{name:"storage.modifier.embedded.js"}},contentName:"source.js.embedded",end:"(?=\\n)",patterns:[{include:"#js"}]},"open-tag-end":{begin:"(>)",beginCaptures:{1:{name:"punctuation.definition.tag.end.open.html"}},comment:"Concise style tag with CSS code.",end:"(?=</)",patterns:[{include:"#cdata"},{include:"#comment-html"},{include:"#scriptlet"},{include:"#tag-html"},{include:"#js-code-block"},{include:"#placeholder-patterns"}]},"open-tag-end-script":{begin:"(>)",beginCaptures:{1:{name:"punctuation.definition.tag.end.open.html"}},comment:"Concise style tag with CSS code.",end:"(?=</)",patterns:[{include:"#placeholder-patterns"},{include:"#js"}]},"open-tag-end-style":{begin:"(>)",beginCaptures:{1:{name:"punctuation.definition.tag.end.open.html"}},comment:"Concise style tag with CSS code.",end:"(?=</)",patterns:[{include:"#placeholder-patterns"},{include:"source.css"}]},placeholder:{applyEndPatternLast:1,begin:"[$][!]?\\{",captures:{0:{name:"keyword.operator.marko"}},comment:"${ } placeholder note: should be punctuation.section.embedded.js",end:"\\}",name:"meta.section.marko-placeholder",patterns:[{include:"#expression"}]},"placeholder-escaped":{comment:"\\${",match:"\\\\[$][!]?[{]"},"placeholder-escaped-escaped":{comment:"\\\\${",match:"\\\\\\\\(?=[$][!]?[{])"},"placeholder-patterns":{patterns:[{include:"#placeholder-escaped-escaped"},{include:"#placeholder-escaped"},{include:"#placeholder"}]},scriptlet:{applyEndPatternLast:1,begin:"<%",captures:{0:{name:"keyword.operator.scriptlet.marko"}},comment:"Scriptlet block",end:"%>",patterns:[{include:"#js"}]},"special-js-tags":{applyEndPatternLast:1,begin:"^\\s*(?:(class)|(static)|(import))\\s",beginCaptures:{1:{name:"storage.type.class.js"},2:{name:"storage.modifier.marko"},3:{name:"storage.modifier.marko"}},contentName:"source.js.embedded",end:"(?=\\n)",patterns:[{include:"#js"}]},"tag-concise":{patterns:[{include:"#tag-name-custom-concise"},{include:"#tag-name-concise"}]},"tag-html":{comment:"HTML tag within the non-concise syntax",patterns:[{include:"#tag-name-open-tag-only-html"},{include:"#tag-name-script-html"},{include:"#tag-name-style-html"},{include:"#tag-name-shorthand-no-tag-name-html"},{include:"#tag-name-shorthand-html"},{include:"#tag-name-custom-html"},{include:"#tag-name-html"}]},"tag-name-concise":{applyEndPatternLast:1,begin:"^\\s*(([a-zA-Z0-9_-]+)([.#][a-zA-Z0-9_.#-]*)?)(?=(\\s+(?![=])|$|\\())",beginCaptures:{1:{name:"entity.name.tag.concise"},3:{name:"entity.other.attribute-name.shorthand"}},comment:"A concise tag name",end:"(?=\\n)",patterns:[{include:"#html-line-concise"},{include:"#attr-stuff-concise"}]},"tag-name-custom-concise":{applyEndPatternLast:1,begin:"^\\s*(for|if|unless|else-if|else|var|assign|macro|invoke|include|app|await|[a-zA-Z0-9_]+([:-])[a-zA-Z0-9_:-]*|[@][a-zA-Z0-9_]+)(?=(\\s+(?![=])|$|[(]))",beginCaptures:{1:{name:"support.function.marko-tag.concise"}},comment:"A concise custom tag name",end:"(?=\\n)",patterns:[{include:"#html-line-concise"},{include:"#attr-stuff-concise"}]},"tag-name-custom-html":{begin:"(<)(for|if|unless|else-if|else|var|assign|macro|invoke|include|app|await|[a-zA-Z0-9_]+[-:][a-zA-Z0-9\\-_:]*|[@][a-zA-Z0-9_]+)(?=(>|/>|\\s|\\())",beginCaptures:{1:{name:"punctuation.definition.tag.begin.open.html"},2:{name:"support.function.marko-tag.open.html"}},comment:"The beginning of a custom/special HTML tag",end:"(</)(\\2)?(>)|(/>)",endCaptures:{1:{name:"punctuation.definition.tag.begin.close.html"},2:{name:"support.function.tag.close.html"},3:{name:"punctuation.definition.tag.end.close.html"},4:{name:"punctuation.definition.tag.end.self-close.html"}},patterns:[{include:"#attr-stuff-html"},{include:"#open-tag-end"}]},"tag-name-html":{begin:"(<)([a-zA-Z0-9]+)(?=(>|/>|\\s|\\())",beginCaptures:{1:{name:"punctuation.definition.tag.begin.open.html"},2:{name:"entity.name.tag.open.html"}},comment:"The beginning of a regular HTML tag in non-concise mode",end:"(</)(\\2)?(>)|(/>)",endCaptures:{1:{name:"punctuation.definition.tag.begin.close.html"},2:{name:"entity.name.tag.close.html"},3:{name:"punctuation.definition.tag.end.close.html"},4:{name:"punctuation.definition.tag.end.self-close.html"}},patterns:[{include:"#attr-stuff-html"},{include:"#open-tag-end"}]},"tag-name-open-tag-only-html":{begin:"(<)(base|br|col|hr|embed|img|input|keygen|link|meta|param|source|track|wbr|lasso-img)(?=(>|/>|\\s|\\())",beginCaptures:{1:{name:"punctuation.definition.tag.begin.open.html"},2:{name:"entity.name.tag.open.html"}},comment:"HTML tags that are open tag only",end:"(>|/>)",endCaptures:{1:{name:"punctuation.definition.tag.end.self-close.html"}},patterns:[{include:"#attr-stuff-html"}]},"tag-name-script-html":{begin:"(<)(script)(?=(>|/>|\\s|\\())",beginCaptures:{1:{name:"punctuation.definition.tag.begin.open.html"},2:{name:"entity.name.tag.script.open.html"}},comment:"HTML style tag",end:"(</)(script)?(>)|/>",endCaptures:{1:{name:"punctuation.definition.tag.begin.close.html"},2:{name:"entity.name.tag.script.close.html"},3:{name:"punctuation.definition.tag.end.close.html"},4:{name:"punctuation.definition.tag.end.self-close.html"}},patterns:[{include:"#attr-stuff-html"},{include:"#open-tag-end-script"}]},"tag-name-shorthand-html":{begin:"(<)(([a-zA-Z0-9_-]+)([#.][a-zA-Z0-9_#.:-]+))(?=(>|/>|\\s+(?![=])|\\())",beginCaptures:{1:{name:"punctuation.definition.tag.begin.open.html"},3:{name:"entity.name.tag.open.html"},4:{name:"entity.other.attribute-name.shorthand"}},comment:"HTML tag with shorthand ID/class parts",end:"(</)((\\3)(\\4)?)?(>)|(/>)",endCaptures:{1:{name:"punctuation.definition.tag.begin.close.html"},3:{name:"entity.name.tag.close.html"},4:{name:"entity.other.attribute-name.shorthand"},5:{name:"punctuation.definition.tag.end.close.html"},6:{name:"punctuation.definition.tag.end.self-close.html"}},patterns:[{include:"#attr-stuff-html"},{include:"#open-tag-end"}]},"tag-name-shorthand-no-tag-name-html":{begin:"(<)([#.][a-zA-Z0-9_#.:-]+)(?=(>|/>|\\s|\\())",beginCaptures:{1:{name:"punctuation.definition.tag.begin.open.html"},2:{name:"entity.other.attribute-name.shorthand"}},comment:"HTML style tag",end:"(</)(\\2|div)(>)|(/>)",endCaptures:{1:{name:"punctuation.definition.tag.begin.close.html"},2:{name:"entity.name.tag.close.html"},3:{name:"punctuation.definition.tag.end.close.html"},4:{name:"punctuation.definition.tag.end.self-close.html"}},patterns:[{include:"#attr-stuff-html"},{include:"#open-tag-end"}]},"tag-name-style-html":{begin:"(<)(style)(?=(>|/>|\\s|\\())",beginCaptures:{1:{name:"punctuation.definition.tag.begin.open.html"},2:{name:"entity.name.tag.style.open.html"}},comment:"HTML style tag",end:"(</)(style)?(>)|(/>)",endCaptures:{1:{name:"punctuation.definition.tag.begin.close.html"},2:{name:"entity.name.tag.style.close.html"},3:{name:"punctuation.definition.tag.end.close.html"},4:{name:"punctuation.definition.tag.end.self-close.html"}},patterns:[{include:"#attr-stuff-html"},{include:"#open-tag-end-style"}]},"tag-script-body-block":{begin:"(\\s*-[-]+)",comment:"HTML script tag with nested JavaScript code",end:"(\\1)[.]*$",patterns:[{include:"#js"}]},"tag-script-body-line":{begin:"\\s--\\s",comment:"HTML script tag with nested JavaScript code",end:"(?-$)",patterns:[{include:"#js"}]},"tag-script-concise":{applyEndPatternLast:1,begin:"^(\\s*)(script)(?=(\\s|$|\\())",beginCaptures:{2:{name:"entity.name.tag.script.marko.concise"}},comment:"HTML script tag with nested JavaScript code",end:"^(?!(\\1\\s)|\\s*$)",name:"meta.tag.other",patterns:[{include:"#attr-stuff-concise"},{include:"#tag-script-body-line"},{include:"#tag-script-body-block"}]},"tag-style-body-block":{begin:"(\\s*[-][-]+)",comment:"HTML script tag with nested CSS code",end:"(\\1)[.]*$",patterns:[{include:"source.css"}]},"tag-style-body-line":{begin:"\\s[-][-]+\\s",comment:"HTML style tag with nested CSS code",end:"(?=\\n)",patterns:[{include:"source.css"}]},"tag-style-concise":{applyEndPatternLast:1,begin:"^(\\s*)(style)(?=(\\s|$|\\())",beginCaptures:{2:{name:"entity.name.tag.style.marko.concise"}},comment:"style tag with CSS code.",end:"^(?!(\\1\\s)|\\s*$)",name:"meta.tag.other.style",patterns:[{include:"#attr-stuff-concise"},{include:"#tag-style-body-line"},{include:"#tag-style-body-block"}]}},scopeName:"text.marko"});
$_mod.def("/markojs-website$1.0.0/routes/try-online/components/editor/index.marko", function(require, exports, module, __filename, __dirname) { var marko_template = module.exports = require('/marko$4.0.0-rc.12/vdom'/*"marko/vdom"*/).t(),
    marko_component = ({
    onInput: function (input) {
        this.state = { file: input.file };
    },
    onMount: function () {
        var code = this.state.file.text;
        var codeMirrorConfig = {
            value: code || '',
            mode: 'Marko',
            lineNumbers: true,
            readOnly: false,
            indentUnit: 4
        };
        codeMirrorConfig.theme = 'marko';
        this.codeMirror = CodeMirror(this.el, codeMirrorConfig);
        this.codeMirror.setSize('100%', '100%');
        this.codeMirror.on('change', editor => {
            var file = this.state.file;
            var source = editor.getValue();
            app.updateFile(file.path, source);
        });
    }
}),
    marko_widgets = require('/marko$4.0.0-rc.12/widgets/index-browser'/*"marko/widgets"*/),
    marko_registerWidget = marko_widgets.rw,
    marko_widgetType = marko_registerWidget("/markojs-website$1.0.0/routes/try-online/components/editor/index.marko", function() {
      return module.exports;
    }),
    app = require('/markojs-website$1.0.0/routes/try-online/app/index'/*"~/routes/try-online/app"*/);

var CodeMirror;

if (typeof window !== 'undefined') {
    CodeMirror = require('/codemirror$5.23.0/lib/codemirror'/*'codemirror'*/);
    require('/codemirror-atom-modes$1.0.1/src/index'/*'codemirror-atom-modes'*/).registerGrammars([
            require('/language-css$0.42.0/grammars/css.cson'/*'language-css/grammars/css.cson'*/),
            require('/language-javascript$0.125.1/grammars/javascript.cson'/*'language-javascript/grammars/javascript.cson'*/),
            {
                grammar: require('/language-marko$2.8.0/grammars/marko.cson'/*'language-marko/grammars/marko.cson'*/),
                options: {
                    scopeTranslations: {
                        'meta.section.marko-placeholder': 'strong',
                        'meta.section.marko-attribute': 'strong',
                        'support.function.marko-tag': 'strong tag',
                        'support.function.marko-attribute': 'strong attribute'
                    }
                }
            }
        ], CodeMirror);
};

function render(input, out, widget, state) {
  var data = input;

  var file = state.file;

  out.e("div", {
      "class": "editor",
      id: widget.id
    }, 0);
}

marko_template._ = marko_widgets.r(render, {
    type: marko_widgetType
  }, marko_component);

marko_template.Widget = marko_widgets.w(marko_component, marko_template._);

marko_template.meta = {
    deps: [
      "./style.css",
      {
          type: "require",
          path: "/Users/mirawlings/code/markojs-website/routes/try-online/components/editor/index.marko"
        },
      {
          type: "require",
          path: "/Users/mirawlings/code/marko/widgets/index.js"
        }
    ]
  };

});
$_mod.def("/marko$4.0.0-rc.12/widgets/taglib/helpers/event",function(e,t,n,o,r){n.exports=function(e,t,n){if(e)return n?[e,t].concat(n):[e,t]}});
$_mod.def("/marko$4.0.0-rc.12/runtime/helper-forEachProperty",function(r,e,o,a,f){var n=Array.isArray;o.exports=function(r,e){if(r)if(n(r))for(var o=0;o<r.length;o++)e(o,r[o]);else if(Map,r instanceof Map)r.forEach(function(r,o){e(o,r)});else for(var a in r)r.hasOwnProperty(a)&&e(a,r[a])}});
$_mod.main("/markojs-website$1.0.0/routes/try-online/components/preview","index.marko");
$_mod.main("/markojs-website$1.0.0/routes/try-online/components/editor","index.marko");
$_mod.def("/markojs-website$1.0.0/routes/try-online/components/pane/index.marko", function(require, exports, module, __filename, __dirname) { var marko_template = module.exports = require('/marko$4.0.0-rc.12/vdom'/*"marko/vdom"*/).t(),
    marko_helpers = require('/marko$4.0.0-rc.12/runtime/vdom/helpers'/*"marko/runtime/vdom/helpers"*/),
    marko_classList = marko_helpers.cl,
    marko_component = ({
    onInput: function (input) {
        var focusedFile = input.focusedFile;
        var activeIndex = this.state && this.state.activeIndex;
        this.state = {
            files: input.files,
            activeIndex: activeIndex == null ? 0 : activeIndex,
            focusedIndex: -1
        };
        this.state.focusedIndex = -1;
        this.state.files.forEach((file, i) => {
            if (file.path === focusedFile) {
                this.state.activeIndex = i;
                this.state.focusedIndex = i;
            }
        });
    },
    handleTabClick: function (index) {
        app.focusFile(this.state.files[index].path);
    }
}),
    marko_widgets = require('/marko$4.0.0-rc.12/widgets/index-browser'/*"marko/widgets"*/),
    marko_registerWidget = marko_widgets.rw,
    marko_widgetType = marko_registerWidget("/markojs-website$1.0.0/routes/try-online/components/pane/index.marko", function() {
      return module.exports;
    }),
    markoWidgets_event = require('/marko$4.0.0-rc.12/widgets/taglib/helpers/event'/*"marko/widgets/taglib/helpers/event"*/),
    app = require('/markojs-website$1.0.0/routes/try-online/app/index'/*"~/routes/try-online/app"*/),
    marko_forEachProp = require('/marko$4.0.0-rc.12/runtime/helper-forEachProperty'/*"marko/runtime/helper-forEachProperty"*/),
    marko_classAttr = marko_helpers.ca,
    preview_template = require('/markojs-website$1.0.0/routes/try-online/components/preview/index.marko'/*"../preview"*/),
    marko_loadTag = marko_helpers.t,
    preview_tag = marko_loadTag(preview_template),
    w_preserve_tag = marko_loadTag(require('/marko$4.0.0-rc.12/widgets/taglib/preserve-tag'/*"marko/widgets/taglib/preserve-tag"*/)),
    editor_template = require('/markojs-website$1.0.0/routes/try-online/components/editor/index.marko'/*"../editor"*/),
    editor_tag = marko_loadTag(editor_template),
    marko_attrs0 = {
        "class": "tabs"
      },
    marko_attrs1 = {
        "class": "tabs"
      },
    marko_attrs2 = {
        "class": "bodies"
      },
    marko_attrs3 = {
        "class": "tab-label"
      },
    marko_attrs4 = {
        "class": "tab-label"
      };

function render(input, out, widget, state) {
  var data = input;

  out.be("div", {
      "class": "pane",
      id: widget.id
    });

  out.be("div", marko_attrs0);

  out.be("ul", marko_attrs1);

  marko_forEachProp(state.files, function(i, file) {
    out.be("li", {
        "class": marko_classAttr(marko_classList("tab", [
            (state.focusedIndex === i) && "focused",
            (state.activeIndex === i) && "active"
          ])),
        id: widget.elId("body-" + file.path),
        "data-_onclick": markoWidgets_event("handleTabClick", widget.id, [
            i
          ])
      });

    if (file.preview) {
      out.e("span", marko_attrs3, 2)
        .t(file.name)
        .t(" (Preview)");
    } else {
      out.e("span", marko_attrs4, 1)
        .t(file.name);
    }

    out.ee();
  });

  out.ee();

  out.ee();

  out.be("div", marko_attrs2);

  marko_forEachProp(state.files, function(i, file) {
    out.be("div", {
        "class": marko_classAttr(marko_classList("pane-body", [
            (state.focusedIndex === i) && "focused",
            (state.activeIndex === i) && "active"
          ]))
      });

    if (file.preview) {
      var __widgetId0 = widget.elId("preview-" + file.path);

      w_preserve_tag({
          id: __widgetId0,
          renderBody: function renderBody(out) {
            preview_tag({
                file: file,
                $w: [
                  widget,
                  "#" + __widgetId0
                ]
              }, out);
          }
        }, out);
    } else {
      var __widgetId1 = widget.elId("editor-" + file.path);

      w_preserve_tag({
          id: __widgetId1,
          renderBody: function renderBody(out) {
            editor_tag({
                file: file,
                $w: [
                  widget,
                  "#" + __widgetId1
                ]
              }, out);
          }
        }, out);
    }

    out.ee();
  });

  out.ee();

  out.ee();
}

marko_template._ = marko_widgets.r(render, {
    type: marko_widgetType
  }, marko_component);

marko_template.Widget = marko_widgets.w(marko_component, marko_template._);

marko_template.meta = {
    deps: [
      "./style.css",
      {
          type: "require",
          path: "/Users/mirawlings/code/markojs-website/routes/try-online/components/pane/index.marko"
        },
      {
          type: "require",
          path: "/Users/mirawlings/code/marko/widgets/index.js"
        }
    ],
    tags: [
      "../preview",
      "marko/widgets/taglib/preserve-tag",
      "../editor"
    ]
  };

});
$_mod.def("/markojs-website$1.0.0/routes/try-online/components/tree-view/index.marko",function(e,i,t,o,r){function n(e,i){return i.focusedFile===e.path}function s(e,i){return!!i.focusedDirectory&&(e.path===i.focusedDirectory||i.focusedDirectory.startsWith(e.path+"/"))}function c(e,i,t,o){function r(e,i,r){i.e("li",{class:h(d("file",{focused:n(e,o)})),"data-_onclick":f("handleFileClick",t.id,[e.path])},1).e("span",null,1).t(e.name)}function c(e,i,r){i.be("li",{class:h(d("dir",{focused:s(e,o)})),"data-_onclick":f("handleFileClick",t.id,[e.path])}),i.e("label",null,1).t(e.name),e.files&&(i.be("ul"),y(e.files,function(e){a(e,i)}),i.ee()),i.ee()}function a(e,i,t){e.isDirectory()?c(e,i):r(e,i)}i.be("div",{class:"tree-view",id:t.id}),i.be("ul"),y(o.rootDir.files,function(e){a(e,i)}),i.ee(),i.ee()}var a=t.exports=e("/marko$4.0.0-rc.12/vdom").t(),l=e("/marko$4.0.0-rc.12/runtime/vdom/helpers"),d=l.cl,u={onInput:function(e){this.state={rootDir:e.rootDir,focusedFile:e.focusedFile,focusedDirectory:e.focusedDirectory}},handleFileClick:function(e,i){w.focusFile(e),i.stopPropagation()}},f=e("/marko$4.0.0-rc.12/widgets/taglib/helpers/event"),p=e("/marko$4.0.0-rc.12/widgets/index-browser"),m=p.rw,k=m("/markojs-website$1.0.0/routes/try-online/components/tree-view/index.marko",function(){return t.exports}),w=e("/markojs-website$1.0.0/routes/try-online/app/index"),h=(e("/path-browserify$0.0.0/index"),l.ca),y=l.f;a._=p.r(c,{type:k},u),a.Widget=p.w(u,a._),a.meta={deps:["./style.css",{type:"require",path:"/Users/mirawlings/code/markojs-website/routes/try-online/components/tree-view/index.marko"},{type:"require",path:"/Users/mirawlings/code/marko/widgets/index.js"}]}});
$_mod.main("/markojs-website$1.0.0/routes/try-online/components/pane","index.marko");
$_mod.main("/markojs-website$1.0.0/routes/try-online/components/try-loader","index.marko");
$_mod.def("/markojs-website$1.0.0/routes/try-online/components/try-loader/index.marko",function(e,r,o,s,n){function t(e,r){r.n(i)}var a=o.exports=e("/marko$4.0.0-rc.12/vdom").t(),d=e("/marko$4.0.0-rc.12/runtime/vdom/helpers"),c=d.e,l=d.const,m=l("b42d73"),i=c("div",{class:"try-loader-container"},1,m()).e("div",{class:"try-loader"},1).e("span",{class:"green-loader"},0);a._=t,a.meta={deps:["./style.css"]}});
$_mod.main("/markojs-website$1.0.0/routes/try-online/components/tree-view","index.marko");
$_mod.def("/markojs-website$1.0.0/routes/try-online/components/app/index.marko", function(require, exports, module, __filename, __dirname) { var marko_template = module.exports = require('/marko$4.0.0-rc.12/vdom'/*"marko/vdom"*/).t(),
    marko_component = ({
    onInput: function (input) {
        this.state = input.state;
        this.state.unmounted = true;
    },
    onMount: function () {
        app.initialize(this.state);
        app.onStateChange(newState => {
            this.state = newState;
        });
        app.focusFile('/get-started');
        this.state.unmounted = false;
    }
}),
    marko_widgets = require('/marko$4.0.0-rc.12/widgets/index-browser'/*"marko/widgets"*/),
    marko_registerWidget = marko_widgets.rw,
    marko_widgetType = marko_registerWidget("/markojs-website$1.0.0/routes/try-online/components/app/index.marko", function() {
      return module.exports;
    }),
    app = require('/markojs-website$1.0.0/routes/try-online/app/index'/*"~/routes/try-online/app"*/),
    pane_template = require('/markojs-website$1.0.0/routes/try-online/components/pane/index.marko'/*"../pane"*/),
    marko_helpers = require('/marko$4.0.0-rc.12/runtime/vdom/helpers'/*"marko/runtime/vdom/helpers"*/),
    marko_loadTag = marko_helpers.t,
    pane_tag = marko_loadTag(pane_template),
    marko_classAttr = marko_helpers.ca,
    try_loader_template = require('/markojs-website$1.0.0/routes/try-online/components/try-loader/index.marko'/*"../try-loader"*/),
    try_loader_tag = marko_loadTag(try_loader_template),
    tree_view_template = require('/markojs-website$1.0.0/routes/try-online/components/tree-view/index.marko'/*"../tree-view"*/),
    tree_view_tag = marko_loadTag(tree_view_template),
    marko_attrs0 = {
        "class": "workspace"
      },
    marko_attrs1 = {
        "class": "tree-view-container"
      },
    marko_createElement = marko_helpers.e,
    marko_const = marko_helpers.const,
    marko_const_nextId = marko_const("c22f89"),
    marko_node0 = marko_createElement("div", {
        "class": "divider"
      }, 0, marko_const_nextId()),
    marko_attrs2 = {
        "class": "editors-container"
      },
    marko_attrs3 = {
        "class": "inputs-container"
      },
    marko_node1 = marko_createElement("div", {
        "class": "divider"
      }, 0, marko_const_nextId()),
    marko_node2 = marko_createElement("div", {
        "class": "divider"
      }, 0, marko_const_nextId()),
    marko_node3 = marko_createElement("div", {
        "class": "divider"
      }, 0, marko_const_nextId()),
    marko_attrs4 = {
        "class": "outputs-container"
      },
    marko_node4 = marko_createElement("div", {
        "class": "divider"
      }, 0, marko_const_nextId()),
    marko_node5 = marko_createElement("div", {
        "class": "divider"
      }, 0, marko_const_nextId()),
    marko_node6 = marko_createElement("div", {
        "class": "divider"
      }, 0, marko_const_nextId()),
    marko_node7 = marko_createElement("div", {
        "class": "divider"
      }, 0, marko_const_nextId());

function render(input, out, widget, state) {
  var data = input;

  var panes = state.panes;

  var visibleTabsByPane = state.visibleTabsByPane;

  function macro_renderPane(paneName, out, renderBody) {
    if (panes[paneName].length) {
      out.be("div", {
          "class": marko_classAttr(paneName)
        });

      pane_tag({
          files: panes[paneName],
          focusedFile: state.focusedFile
        }, out);

      out.ee();
    }
  }

  out.be("div", {
      "class": "try-online",
      id: widget.id
    });

  if (state.unmounted) {
    try_loader_tag({}, out);
  }

  out.be("div", marko_attrs0);

  out.be("div", marko_attrs1);

  tree_view_tag({
      rootDir: state.rootDir,
      focusedFile: state.focusedFile,
      focusedDirectory: state.focusedDirectory
    }, out);

  out.ee();

  out.n(marko_node0);

  out.be("div", marko_attrs2);

  out.be("div", marko_attrs3);

  out.n(marko_node1);

  macro_renderPane("inputTop", out);

  if (panes["inputTop"].length && panes["inputBottom"].length) {
    out.n(marko_node6);
  }

  macro_renderPane("inputBottom", out);

  out.n(marko_node2);

  out.ee();

  out.n(marko_node3);

  out.be("div", marko_attrs4);

  out.n(marko_node4);

  macro_renderPane("outputTop", out);

  if (panes["outputTop"].length && panes["outputBottom"].length) {
    out.n(marko_node7);
  }

  macro_renderPane("outputBottom", out);

  out.n(marko_node5);

  out.ee();

  out.ee();

  out.ee();

  out.ee();
}

marko_template._ = marko_widgets.r(render, {
    type: marko_widgetType
  }, marko_component);

marko_template.Widget = marko_widgets.w(marko_component, marko_template._);

marko_template.meta = {
    deps: [
      "./style.css",
      {
          type: "require",
          path: "/Users/mirawlings/code/markojs-website/routes/try-online/components/app/index.marko"
        },
      {
          type: "require",
          path: "/Users/mirawlings/code/marko/widgets/index.js"
        }
    ],
    tags: [
      "../pane",
      "../try-loader",
      "../tree-view"
    ]
  };

});
$_mod.def("/markojs-website$1.0.0/components/site-search/widget", function(require, exports, module, __filename, __dirname) { module.exports = {
    focus(e) {
        var input = this.getEl('input');
        if(e.target != input) {
            input.focus();
        }
    },
    grow() {
        this.el.classList.add('large');
        this.getEl('input').value = '';
    },
    shrink() {
        this.el.classList.remove('large');
    }
}
});
$_mod.def("/markojs-website$1.0.0/components/site-header/widget", function(require, exports, module, __filename, __dirname) { var classNames = {
    base: 'headspace',
    fixed: 'headspace--fixed',
    hidden: 'headspace--hidden'
};
var debounce = (cb) => () => window.requestAnimationFrame(cb);
var tolerance = 3;

module.exports = {
    onMount() {
        var scrollLast = window.pageYOffset;
        var startOffset = this.el.offsetHeight;

        var handleScroll = debounce(() => {
            var scrollCurrent = window.pageYOffset;

            if (scrollCurrent <= 0) {
                this.reset()
            } else if (!this.paused && scrollCurrent > startOffset) {
                var toleanceReached = Math.abs(scrollCurrent - scrollLast) >= tolerance;
                var scrollingDown = scrollCurrent > scrollLast;
                var wasAtTop = scrollLast <= startOffset;
                if (toleanceReached || (scrollingDown && wasAtTop)) {
                    scrollCurrent > scrollLast ? this.hide() : this.fix();
                }
            }

            scrollLast = scrollCurrent;
        });

        window.addEventListener('scroll', handleScroll);
    },
    reset() {
        this.removeClass(classNames.fixed);
        this.removeClass(classNames.hidden);
        this.emit('reset');
    },
    fix() {
        this.addClass(classNames.fixed);
        this.removeClass(classNames.hidden);
        this.emit('fix');
    },
    hide() {
        this.addClass(classNames.hidden);
        this.emit('hide');
    },
    addClass(cls) {
        this.el.classList.add(cls);
    },
    removeClass(cls) {
        this.el.classList.remove(cls);
    },
    pause() {
        this.paused = true;
    },
    resume() {
        setTimeout(() =>
            window.requestAnimationFrame(() => {
                this.paused = false;
            })
        );
    }
}
});